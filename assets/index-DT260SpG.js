(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Qp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fr={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function iv(){if(cm)return Xl;cm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:o,key:m,ref:c!==void 0?c:null,props:d}}return Xl.Fragment=e,Xl.jsx=l,Xl.jsxs=l,Xl}var fm;function lv(){return fm||(fm=1,Fr.exports=iv()),Fr.exports}var T=lv(),zr={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function ov(){if(dm)return de;dm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,I={};function G(M,O,$){this.props=M,this.context=O,this.refs=I,this.updater=$||A}G.prototype.isReactComponent={},G.prototype.setState=function(M,O){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,O,"setState")},G.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=G.prototype;function z(M,O,$){this.props=M,this.context=O,this.refs=I,this.updater=$||A}var Y=z.prototype=new K;Y.constructor=z,R(Y,G.prototype),Y.isPureReactComponent=!0;var L=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function Z(M,O,$,J,te,he){return $=he.ref,{$$typeof:n,type:M,key:O,ref:$!==void 0?$:null,props:he}}function ce(M,O){return Z(M.type,O,void 0,void 0,void 0,M.props)}function X(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ie(M){var O={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return O[$]})}var le=/\/+/g;function me(M,O){return typeof M=="object"&&M!==null&&M.key!=null?ie(""+M.key):O.toString(36)}function qe(){}function Ye(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(qe,qe):(M.status="pending",M.then(function(O){M.status==="pending"&&(M.status="fulfilled",M.value=O)},function(O){M.status==="pending"&&(M.status="rejected",M.reason=O)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ye(M,O,$,J,te){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var ae=!1;if(M===null)ae=!0;else switch(he){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(M.$$typeof){case n:case e:ae=!0;break;case v:return ae=M._init,ye(ae(M._payload),O,$,J,te)}}if(ae)return te=te(M),ae=J===""?"."+me(M,0):J,L(te)?($="",ae!=null&&($=ae.replace(le,"$&/")+"/"),ye(te,O,$,"",function(Lt){return Lt})):te!=null&&(X(te)&&(te=ce(te,$+(te.key==null||M&&M.key===te.key?"":(""+te.key).replace(le,"$&/")+"/")+ae)),O.push(te)),1;ae=0;var lt=J===""?".":J+":";if(L(M))for(var be=0;be<M.length;be++)J=M[be],he=lt+me(J,be),ae+=ye(J,O,$,he,te);else if(be=x(M),typeof be=="function")for(M=be.call(M),be=0;!(J=M.next()).done;)J=J.value,he=lt+me(J,be++),ae+=ye(J,O,$,he,te);else if(he==="object"){if(typeof M.then=="function")return ye(Ye(M),O,$,J,te);throw O=String(M),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ae}function q(M,O,$){if(M==null)return M;var J=[],te=0;return ye(M,J,"","",function(he){return O.call($,he,te++)}),J}function Q(M){if(M._status===-1){var O=M._result;O=O(),O.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=O)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function _e(){}return de.Children={map:q,forEach:function(M,O,$){q(M,function(){O.apply(this,arguments)},$)},count:function(M){var O=0;return q(M,function(){O++}),O},toArray:function(M){return q(M,function(O){return O})||[]},only:function(M){if(!X(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},de.Component=G,de.Fragment=l,de.Profiler=c,de.PureComponent=z,de.StrictMode=o,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,de.__COMPILER_RUNTIME={__proto__:null,c:function(M){return F.H.useMemoCache(M)}},de.cache=function(M){return function(){return M.apply(null,arguments)}},de.cloneElement=function(M,O,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=R({},M.props),te=M.key,he=void 0;if(O!=null)for(ae in O.ref!==void 0&&(he=void 0),O.key!==void 0&&(te=""+O.key),O)!W.call(O,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&O.ref===void 0||(J[ae]=O[ae]);var ae=arguments.length-2;if(ae===1)J.children=$;else if(1<ae){for(var lt=Array(ae),be=0;be<ae;be++)lt[be]=arguments[be+2];J.children=lt}return Z(M.type,te,void 0,void 0,he,J)},de.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},de.createElement=function(M,O,$){var J,te={},he=null;if(O!=null)for(J in O.key!==void 0&&(he=""+O.key),O)W.call(O,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(te[J]=O[J]);var ae=arguments.length-2;if(ae===1)te.children=$;else if(1<ae){for(var lt=Array(ae),be=0;be<ae;be++)lt[be]=arguments[be+2];te.children=lt}if(M&&M.defaultProps)for(J in ae=M.defaultProps,ae)te[J]===void 0&&(te[J]=ae[J]);return Z(M,he,void 0,void 0,null,te)},de.createRef=function(){return{current:null}},de.forwardRef=function(M){return{$$typeof:g,render:M}},de.isValidElement=X,de.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Q}},de.memo=function(M,O){return{$$typeof:p,type:M,compare:O===void 0?null:O}},de.startTransition=function(M){var O=F.T,$={};F.T=$;try{var J=M(),te=F.S;te!==null&&te($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(_e,oe)}catch(he){oe(he)}finally{F.T=O}},de.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},de.use=function(M){return F.H.use(M)},de.useActionState=function(M,O,$){return F.H.useActionState(M,O,$)},de.useCallback=function(M,O){return F.H.useCallback(M,O)},de.useContext=function(M){return F.H.useContext(M)},de.useDebugValue=function(){},de.useDeferredValue=function(M,O){return F.H.useDeferredValue(M,O)},de.useEffect=function(M,O,$){var J=F.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(M,O)},de.useId=function(){return F.H.useId()},de.useImperativeHandle=function(M,O,$){return F.H.useImperativeHandle(M,O,$)},de.useInsertionEffect=function(M,O){return F.H.useInsertionEffect(M,O)},de.useLayoutEffect=function(M,O){return F.H.useLayoutEffect(M,O)},de.useMemo=function(M,O){return F.H.useMemo(M,O)},de.useOptimistic=function(M,O){return F.H.useOptimistic(M,O)},de.useReducer=function(M,O,$){return F.H.useReducer(M,O,$)},de.useRef=function(M){return F.H.useRef(M)},de.useState=function(M){return F.H.useState(M)},de.useSyncExternalStore=function(M,O,$){return F.H.useSyncExternalStore(M,O,$)},de.useTransition=function(){return F.H.useTransition()},de.version="19.1.1",de}var mm;function ru(){return mm||(mm=1,zr.exports=ov()),zr.exports}var V=ru();const sv=Qp(V);var Yr={exports:{}},Ql={},Or={exports:{}},Jr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function av(){return pm||(pm=1,(function(n){function e(q,Q){var oe=q.length;q.push(Q);e:for(;0<oe;){var _e=oe-1>>>1,M=q[_e];if(0<c(M,Q))q[_e]=Q,q[oe]=M,oe=_e;else break e}}function l(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var Q=q[0],oe=q.pop();if(oe!==Q){q[0]=oe;e:for(var _e=0,M=q.length,O=M>>>1;_e<O;){var $=2*(_e+1)-1,J=q[$],te=$+1,he=q[te];if(0>c(J,oe))te<M&&0>c(he,J)?(q[_e]=he,q[te]=oe,_e=te):(q[_e]=J,q[$]=oe,_e=$);else if(te<M&&0>c(he,oe))q[_e]=he,q[te]=oe,_e=te;else break e}}return Q}function c(q,Q){var oe=q.sortIndex-Q.sortIndex;return oe!==0?oe:q.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],p=[],v=1,S=null,x=3,A=!1,R=!1,I=!1,G=!1,K=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function L(q){for(var Q=l(p);Q!==null;){if(Q.callback===null)o(p);else if(Q.startTime<=q)o(p),Q.sortIndex=Q.expirationTime,e(y,Q);else break;Q=l(p)}}function F(q){if(I=!1,L(q),!R)if(l(y)!==null)R=!0,W||(W=!0,me());else{var Q=l(p);Q!==null&&ye(F,Q.startTime-q)}}var W=!1,Z=-1,ce=5,X=-1;function ie(){return G?!0:!(n.unstable_now()-X<ce)}function le(){if(G=!1,W){var q=n.unstable_now();X=q;var Q=!0;try{e:{R=!1,I&&(I=!1,z(Z),Z=-1),A=!0;var oe=x;try{t:{for(L(q),S=l(y);S!==null&&!(S.expirationTime>q&&ie());){var _e=S.callback;if(typeof _e=="function"){S.callback=null,x=S.priorityLevel;var M=_e(S.expirationTime<=q);if(q=n.unstable_now(),typeof M=="function"){S.callback=M,L(q),Q=!0;break t}S===l(y)&&o(y),L(q)}else o(y);S=l(y)}if(S!==null)Q=!0;else{var O=l(p);O!==null&&ye(F,O.startTime-q),Q=!1}}break e}finally{S=null,x=oe,A=!1}Q=void 0}}finally{Q?me():W=!1}}}var me;if(typeof Y=="function")me=function(){Y(le)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Ye=qe.port2;qe.port1.onmessage=le,me=function(){Ye.postMessage(null)}}else me=function(){K(le,0)};function ye(q,Q){Z=K(function(){q(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(q){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var oe=x;x=Q;try{return q()}finally{x=oe}},n.unstable_requestPaint=function(){G=!0},n.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=x;x=q;try{return Q()}finally{x=oe}},n.unstable_scheduleCallback=function(q,Q,oe){var _e=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?_e+oe:_e):oe=_e,q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,q={id:v++,callback:Q,priorityLevel:q,startTime:oe,expirationTime:M,sortIndex:-1},oe>_e?(q.sortIndex=oe,e(p,q),l(y)===null&&q===l(p)&&(I?(z(Z),Z=-1):I=!0,ye(F,oe-_e))):(q.sortIndex=M,e(y,q),R||A||(R=!0,W||(W=!0,me()))),q},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(q){var Q=x;return function(){var oe=x;x=Q;try{return q.apply(this,arguments)}finally{x=oe}}}})(Jr)),Jr}var hm;function rv(){return hm||(hm=1,Or.exports=av()),Or.exports}var Kr={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function uv(){if(gm)return nt;gm=1;var n=ru();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,nt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(y,p,null,v)},nt.flushSync=function(y){var p=m.T,v=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=p,o.p=v,o.d.f()}},nt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},nt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},nt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:A}):v==="script"&&o.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},nt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin);o.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},nt.requestFormReset=function(y){o.d.r(y)},nt.unstable_batchedUpdates=function(y,p){return y(p)},nt.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},nt.useFormStatus=function(){return m.H.useHostTransitionStatus()},nt.version="19.1.1",nt}var ym;function cv(){if(ym)return Kr.exports;ym=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kr.exports=uv(),Kr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function fv(){if(vm)return Ql;vm=1;var n=rv(),e=ru(),l=cv();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(o(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,u=i;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return g(f),t;if(h===u)return g(f),i;h=h.sibling}throw Error(o(188))}if(s.return!==u.return)s=f,u=h;else{for(var C=!1,E=f.child;E;){if(E===s){C=!0,s=f,u=h;break}if(E===u){C=!0,u=f,s=h;break}E=E.sibling}if(!C){for(E=h.child;E;){if(E===s){C=!0,s=h,u=f;break}if(E===u){C=!0,u=h,s=f;break}E=E.sibling}if(!C)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===qe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case G:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case ce:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var ye=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},_e=[],M=-1;function O(t){return{current:t}}function $(t){0>M||(t.current=_e[M],_e[M]=null,M--)}function J(t,i){M++,_e[M]=t.current,t.current=i}var te=O(null),he=O(null),ae=O(null),lt=O(null);function be(t,i){switch(J(ae,i),J(he,t),J(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Pd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Pd(i),t=Gd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(te),J(te,t)}function Lt(){$(te),$(he),$(ae)}function Qi(t){t.memoizedState!==null&&J(lt,t);var i=te.current,s=Gd(i,t.type);i!==s&&(J(he,t),J(te,s))}function on(t){he.current===t&&($(te),$(he)),lt.current===t&&($(lt),zl._currentValue=oe)}var $i=Object.prototype.hasOwnProperty,Ds=n.unstable_scheduleCallback,bs=n.unstable_cancelCallback,Lh=n.unstable_shouldYield,Vh=n.unstable_requestPaint,Vt=n.unstable_now,qh=n.unstable_getCurrentPriorityLevel,yu=n.unstable_ImmediatePriority,vu=n.unstable_UserBlockingPriority,jl=n.unstable_NormalPriority,Ph=n.unstable_LowPriority,Tu=n.unstable_IdlePriority,Gh=n.log,Hh=n.unstable_setDisableYieldValue,Zi=null,dt=null;function sn(t){if(typeof Gh=="function"&&Hh(t),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Zi,t)}catch{}}var mt=Math.clz32?Math.clz32:zh,Bh=Math.log,Fh=Math.LN2;function zh(t){return t>>>=0,t===0?32:31-(Bh(t)/Fh|0)|0}var eo=256,to=4194304;function In(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function no(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var f=0,h=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~h,u!==0?f=In(u):(C&=E,C!==0?f=In(C):s||(s=E&~t,s!==0&&(f=In(s))))):(E=u&~h,E!==0?f=In(E):C!==0?f=In(C):s||(s=u&~t,s!==0&&(f=In(s)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,s=i&-i,h>=s||h===32&&(s&4194048)!==0)?i:f}function Wi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Yh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=eo;return eo<<=1,(eo&4194048)===0&&(eo=256),t}function Cu(){var t=to;return to<<=1,(to&62914560)===0&&(to=4194304),t}function ws(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ji(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oh(t,i,s,u,f,h){var C=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,_=t.expirationTimes,w=t.hiddenUpdates;for(s=C&~s;0<s;){var P=31-mt(s),B=1<<P;E[P]=0,_[P]=-1;var U=w[P];if(U!==null)for(w[P]=null,P=0;P<U.length;P++){var k=U[P];k!==null&&(k.lane&=-536870913)}s&=~B}u!==0&&xu(t,u,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(C&~i))}function xu(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-mt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function Eu(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-mt(s),f=1<<u;f&i|t[u]&i&&(t[u]|=i),s&=~f}}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:lm(t.type))}function Jh(t,i){var s=Q.p;try{return Q.p=t,i()}finally{Q.p=s}}var an=Math.random().toString(36).slice(2),et="__reactFiber$"+an,st="__reactProps$"+an,ti="__reactContainer$"+an,ks="__reactEvents$"+an,Kh="__reactListeners$"+an,Xh="__reactHandles$"+an,Au="__reactResources$"+an,el="__reactMarker$"+an;function Ls(t){delete t[et],delete t[st],delete t[ks],delete t[Kh],delete t[Xh]}function ni(t){var i=t[et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ti]||s[et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=zd(t);t!==null;){if(s=t[et])return s;t=zd(t)}return i}t=s,s=t.parentNode}return null}function ii(t){if(t=t[et]||t[ti]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function tl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function li(t){var i=t[Au];return i||(i=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ke(t){t[el]=!0}var Mu=new Set,Nu={};function Un(t,i){oi(t,i),oi(t+"Capture",i)}function oi(t,i){for(Nu[t]=i,t=0;t<i.length;t++)Mu.add(i[t])}var Qh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},Du={};function $h(t){return $i.call(Du,t)?!0:$i.call(Ru,t)?!1:Qh.test(t)?Du[t]=!0:(Ru[t]=!0,!1)}function io(t,i,s){if($h(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function lo(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ft(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}var Vs,bu;function si(t){if(Vs===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Vs=i&&i[1]||"",bu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vs+t+bu}var qs=!1;function Ps(t,i){if(!t||qs)return"";qs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(k){var U=k}Reflect.construct(t,[],B)}else{try{B.call()}catch(k){U=k}t.call(B.prototype)}}else{try{throw Error()}catch(k){U=k}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(k){if(k&&U&&typeof k.stack=="string")return[k.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),C=h[0],E=h[1];if(C&&E){var _=C.split(`
`),w=E.split(`
`);for(f=u=0;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;for(;f<w.length&&!w[f].includes("DetermineComponentFrameRoot");)f++;if(u===_.length||f===w.length)for(u=_.length-1,f=w.length-1;1<=u&&0<=f&&_[u]!==w[f];)f--;for(;1<=u&&0<=f;u--,f--)if(_[u]!==w[f]){if(u!==1||f!==1)do if(u--,f--,0>f||_[u]!==w[f]){var P=`
`+_[u].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=u&&0<=f);break}}}finally{qs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?si(s):""}function Zh(t){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return Ps(t.type,!1);case 11:return Ps(t.type.render,!1);case 1:return Ps(t.type,!0);case 31:return si("Activity");default:return""}}function wu(t){try{var i="";do i+=Zh(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Ct(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Iu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wh(t){var i=Iu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(C){u=""+C,h.call(this,C)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function oo(t){t._valueTracker||(t._valueTracker=Wh(t))}function Uu(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=Iu(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function so(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jh=/[\n"\\]/g;function xt(t){return t.replace(jh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Gs(t,i,s,u,f,h,C,E){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),i!=null?C==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ct(i)):t.value!==""+Ct(i)&&(t.value=""+Ct(i)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),i!=null?Hs(t,C,Ct(i)):s!=null?Hs(t,C,Ct(s)):u!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ct(E):t.removeAttribute("name")}function ku(t,i,s,u,f,h,C,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;s=s!=null?""+Ct(s):"",i=i!=null?""+Ct(i):s,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C)}function Hs(t,i,s){i==="number"&&so(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ai(t,i,s,u){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Ct(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Lu(t,i,s){if(i!=null&&(i=""+Ct(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Ct(s):""}function Vu(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(o(92));if(ye(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Ct(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function ri(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||eg.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Pu(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&s[f]!==u&&qu(t,f,u)}else for(var h in i)i.hasOwnProperty(h)&&qu(t,h,i[h])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(t){return ng.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fs=null;function zs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,ci=null;function Gu(t){var i=ii(t);if(i&&(t=i.stateNode)){var s=t[st]||null;e:switch(t=i.stateNode,i.type){case"input":if(Gs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var f=u[st]||null;if(!f)throw Error(o(90));Gs(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&Uu(u)}break e;case"textarea":Lu(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ai(t,!!s.multiple,i,!1)}}}var Ys=!1;function Hu(t,i,s){if(Ys)return t(i,s);Ys=!0;try{var u=t(i);return u}finally{if(Ys=!1,(ui!==null||ci!==null)&&(Ko(),ui&&(i=ui,t=ci,ci=ui=null,Gu(i),t)))for(i=0;i<t.length;i++)Gu(t[i])}}function nl(t,i){var s=t.stateNode;if(s===null)return null;var u=s[st]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(zt)try{var il={};Object.defineProperty(il,"passive",{get:function(){Os=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Os=!1}var rn=null,Js=null,ro=null;function Bu(){if(ro)return ro;var t,i=Js,s=i.length,u,f="value"in rn?rn.value:rn.textContent,h=f.length;for(t=0;t<s&&i[t]===f[t];t++);var C=s-t;for(u=1;u<=C&&i[s-u]===f[h-u];u++);return ro=f.slice(t,1<u?1-u:void 0)}function uo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function co(){return!0}function Fu(){return!1}function at(t){function i(s,u,f,h,C){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=h,this.target=C,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?co:Fu,this.isPropagationStopped=Fu,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),i}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=at(kn),ll=v({},kn,{view:0,detail:0}),ig=at(ll),Ks,Xs,ol,mo=v({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(Ks=t.screenX-ol.screenX,Xs=t.screenY-ol.screenY):Xs=Ks=0,ol=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Xs}}),zu=at(mo),lg=v({},mo,{dataTransfer:0}),og=at(lg),sg=v({},ll,{relatedTarget:0}),Qs=at(sg),ag=v({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=at(ag),ug=v({},kn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cg=at(ug),fg=v({},kn,{data:0}),Yu=at(fg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pg[t])?!!i[t]:!1}function $s(){return hg}var gg=v({},ll,{key:function(t){if(t.key){var i=dg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yg=at(gg),vg=v({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=at(vg),Tg=v({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Sg=at(Tg),Cg=v({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xg=at(Cg),Eg=v({},mo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_g=at(Eg),Ag=v({},kn,{newState:0,oldState:0}),Mg=at(Ag),Ng=[9,13,27,32],Zs=zt&&"CompositionEvent"in window,sl=null;zt&&"documentMode"in document&&(sl=document.documentMode);var Rg=zt&&"TextEvent"in window&&!sl,Ju=zt&&(!Zs||sl&&8<sl&&11>=sl),Ku=" ",Xu=!1;function Qu(t,i){switch(t){case"keyup":return Ng.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fi=!1;function Dg(t,i){switch(t){case"compositionend":return $u(i);case"keypress":return i.which!==32?null:(Xu=!0,Ku);case"textInput":return t=i.data,t===Ku&&Xu?null:t;default:return null}}function bg(t,i){if(fi)return t==="compositionend"||!Zs&&Qu(t,i)?(t=Bu(),ro=Js=rn=null,fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ju&&i.locale!=="ko"?null:i.data;default:return null}}var wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!wg[t.type]:i==="textarea"}function Wu(t,i,s,u){ui?ci?ci.push(u):ci=[u]:ui=u,i=jo(i,"onChange"),0<i.length&&(s=new fo("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var al=null,rl=null;function Ig(t){Ud(t,0)}function po(t){var i=tl(t);if(Uu(i))return t}function ju(t,i){if(t==="change")return i}var ec=!1;if(zt){var Ws;if(zt){var js="oninput"in document;if(!js){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),js=typeof tc.oninput=="function"}Ws=js}else Ws=!1;ec=Ws&&(!document.documentMode||9<document.documentMode)}function nc(){al&&(al.detachEvent("onpropertychange",ic),rl=al=null)}function ic(t){if(t.propertyName==="value"&&po(rl)){var i=[];Wu(i,rl,t,zs(t)),Hu(Ig,i)}}function Ug(t,i,s){t==="focusin"?(nc(),al=i,rl=s,al.attachEvent("onpropertychange",ic)):t==="focusout"&&nc()}function kg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return po(rl)}function Lg(t,i){if(t==="click")return po(i)}function Vg(t,i){if(t==="input"||t==="change")return po(i)}function qg(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pt=typeof Object.is=="function"?Object.is:qg;function ul(t,i){if(pt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!$i.call(i,f)||!pt(t[f],i[f]))return!1}return!0}function lc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oc(t,i){var s=lc(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lc(s)}}function sc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ac(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=so(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=so(t.document)}return i}function ea(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Pg=zt&&"documentMode"in document&&11>=document.documentMode,di=null,ta=null,cl=null,na=!1;function rc(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;na||di==null||di!==so(u)||(u=di,"selectionStart"in u&&ea(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cl&&ul(cl,u)||(cl=u,u=jo(ta,"onSelect"),0<u.length&&(i=new fo("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=di)))}function Ln(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var mi={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},ia={},uc={};zt&&(uc=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Vn(t){if(ia[t])return ia[t];if(!mi[t])return t;var i=mi[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in uc)return ia[t]=i[s];return t}var cc=Vn("animationend"),fc=Vn("animationiteration"),dc=Vn("animationstart"),Gg=Vn("transitionrun"),Hg=Vn("transitionstart"),Bg=Vn("transitioncancel"),mc=Vn("transitionend"),pc=new Map,la="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");la.push("scrollEnd");function wt(t,i){pc.set(t,i),Un(i,[t])}var hc=new WeakMap;function Et(t,i){if(typeof t=="object"&&t!==null){var s=hc.get(t);return s!==void 0?s:(i={value:t,source:i,stack:wu(i)},hc.set(t,i),i)}return{value:t,source:i,stack:wu(i)}}var _t=[],pi=0,oa=0;function ho(){for(var t=pi,i=oa=pi=0;i<t;){var s=_t[i];_t[i++]=null;var u=_t[i];_t[i++]=null;var f=_t[i];_t[i++]=null;var h=_t[i];if(_t[i++]=null,u!==null&&f!==null){var C=u.pending;C===null?f.next=f:(f.next=C.next,C.next=f),u.pending=f}h!==0&&gc(s,f,h)}}function go(t,i,s,u){_t[pi++]=t,_t[pi++]=i,_t[pi++]=s,_t[pi++]=u,oa|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function sa(t,i,s,u){return go(t,i,s,u),yo(t)}function hi(t,i){return go(t,null,null,i),yo(t)}function gc(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var f=!1,h=t.return;h!==null;)h.childLanes|=s,u=h.alternate,u!==null&&(u.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&i!==null&&(f=31-mt(s),t=h.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=s|536870912),h):null}function yo(t){if(50<Ll)throw Ll=0,dr=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var gi={};function Fg(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(t,i,s,u){return new Fg(t,i,s,u)}function aa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yt(t,i){var s=t.alternate;return s===null?(s=ht(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function yc(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function vo(t,i,s,u,f,h){var C=0;if(u=t,typeof t=="function")aa(t)&&(C=1);else if(typeof t=="string")C=Yy(t,s,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=ht(31,s,i,f),t.elementType=X,t.lanes=h,t;case R:return qn(s.children,f,h,i);case I:C=8,f|=24;break;case G:return t=ht(12,s,i,f|2),t.elementType=G,t.lanes=h,t;case F:return t=ht(13,s,i,f),t.elementType=F,t.lanes=h,t;case W:return t=ht(19,s,i,f),t.elementType=W,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case Y:C=10;break e;case z:C=9;break e;case L:C=11;break e;case Z:C=14;break e;case ce:C=16,u=null;break e}C=29,s=Error(o(130,t===null?"null":typeof t,"")),u=null}return i=ht(C,s,i,f),i.elementType=t,i.type=u,i.lanes=h,i}function qn(t,i,s,u){return t=ht(7,t,u,i),t.lanes=s,t}function ra(t,i,s){return t=ht(6,t,null,i),t.lanes=s,t}function ua(t,i,s){return i=ht(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var yi=[],vi=0,To=null,So=0,At=[],Mt=0,Pn=null,Ot=1,Jt="";function Gn(t,i){yi[vi++]=So,yi[vi++]=To,To=t,So=i}function vc(t,i,s){At[Mt++]=Ot,At[Mt++]=Jt,At[Mt++]=Pn,Pn=t;var u=Ot;t=Jt;var f=32-mt(u)-1;u&=~(1<<f),s+=1;var h=32-mt(i)+f;if(30<h){var C=f-f%5;h=(u&(1<<C)-1).toString(32),u>>=C,f-=C,Ot=1<<32-mt(i)+f|s<<f|u,Jt=h+t}else Ot=1<<h|s<<f|u,Jt=t}function ca(t){t.return!==null&&(Gn(t,1),vc(t,1,0))}function fa(t){for(;t===To;)To=yi[--vi],yi[vi]=null,So=yi[--vi],yi[vi]=null;for(;t===Pn;)Pn=At[--Mt],At[Mt]=null,Jt=At[--Mt],At[Mt]=null,Ot=At[--Mt],At[Mt]=null}var ot=null,Pe=null,Ee=!1,Hn=null,qt=!1,da=Error(o(519));function Bn(t){var i=Error(o(418,""));throw ml(Et(i,t)),da}function Tc(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[et]=t,i[st]=u,s){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(s=0;s<ql.length;s++)Te(ql[s],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),ku(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),oo(i);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),Vu(i,u.value,u.defaultValue,u.children),oo(i)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||qd(i.textContent,s)?(u.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),u.onScroll!=null&&Te("scroll",i),u.onScrollEnd!=null&&Te("scrollend",i),u.onClick!=null&&(i.onclick=es),i=!0):i=!1,i||Bn(t)}function Sc(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:ot=ot.return}}function fl(t){if(t!==ot)return!1;if(!Ee)return Sc(t),Ee=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Rr(t.type,t.memoizedProps)),s=!s),s&&Pe&&Bn(t),Sc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Pe=Ut(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Pe=null}}else i===27?(i=Pe,_n(t.type)?(t=Ir,Ir=null,Pe=t):Pe=i):Pe=ot?Ut(t.stateNode.nextSibling):null;return!0}function dl(){Pe=ot=null,Ee=!1}function Cc(){var t=Hn;return t!==null&&(ct===null?ct=t:ct.push.apply(ct,t),Hn=null),t}function ml(t){Hn===null?Hn=[t]:Hn.push(t)}var ma=O(null),Fn=null,Kt=null;function un(t,i,s){J(ma,i._currentValue),i._currentValue=s}function Xt(t){t._currentValue=ma.current,$(ma)}function pa(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function ha(t,i,s,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var C=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var _=0;_<i.length;_++)if(E.context===i[_]){h.lanes|=s,E=h.alternate,E!==null&&(E.lanes|=s),pa(h.return,s,t),u||(C=null);break e}h=E.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(o(341));C.lanes|=s,h=C.alternate,h!==null&&(h.lanes|=s),pa(C,s,t),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===t){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function pl(t,i,s,u){t=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(o(387));if(C=C.memoizedProps,C!==null){var E=f.type;pt(f.pendingProps.value,C.value)||(t!==null?t.push(E):t=[E])}}else if(f===lt.current){if(C=f.alternate,C===null)throw Error(o(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}f=f.return}t!==null&&ha(i,t,s,u),i.flags|=262144}function Co(t){for(t=t.firstContext;t!==null;){if(!pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zn(t){Fn=t,Kt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tt(t){return xc(Fn,t)}function xo(t,i){return Fn===null&&zn(t),xc(t,i)}function xc(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Kt===null){if(t===null)throw Error(o(308));Kt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Kt=Kt.next=i;return s}var zg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Yg=n.unstable_scheduleCallback,Og=n.unstable_NormalPriority,Oe={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ga(){return{controller:new zg,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&Yg(Og,function(){t.controller.abort()})}var gl=null,ya=0,Ti=0,Si=null;function Jg(t,i){if(gl===null){var s=gl=[];ya=0,Ti=Tr(),Si={status:"pending",value:void 0,then:function(u){s.push(u)}}}return ya++,i.then(Ec,Ec),i}function Ec(){if(--ya===0&&gl!==null){Si!==null&&(Si.status="fulfilled");var t=gl;gl=null,Ti=0,Si=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Kg(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var _c=q.S;q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jg(t,i),_c!==null&&_c(t,i)};var Yn=O(null);function va(){var t=Yn.current;return t!==null?t:Ie.pooledCache}function Eo(t,i){i===null?J(Yn,Yn.current):J(Yn,i.pool)}function Ac(){var t=va();return t===null?null:{parent:Oe._currentValue,pool:t}}var yl=Error(o(460)),Mc=Error(o(474)),_o=Error(o(542)),Ta={then:function(){}};function Nc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ao(){}function Rc(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ao,Ao),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bc(t),t;default:if(typeof i.status=="string")i.then(Ao,Ao);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bc(t),t}throw vl=i,yl}}var vl=null;function Dc(){if(vl===null)throw Error(o(459));var t=vl;return vl=null,t}function bc(t){if(t===yl||t===_o)throw Error(o(483))}var cn=!1;function Sa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ca(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dn(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=yo(t),gc(t,null,s),i}return go(t,u,i,s),yo(t)}function Tl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,Eu(t,s)}}function xa(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?f=h=C:h=h.next=C,s=s.next}while(s!==null);h===null?f=h=i:h=h.next=i}else f=h=i;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ea=!1;function Sl(){if(Ea){var t=Si;if(t!==null)throw t}}function Cl(t,i,s,u){Ea=!1;var f=t.updateQueue;cn=!1;var h=f.firstBaseUpdate,C=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var _=E,w=_.next;_.next=null,C===null?h=w:C.next=w,C=_;var P=t.alternate;P!==null&&(P=P.updateQueue,E=P.lastBaseUpdate,E!==C&&(E===null?P.firstBaseUpdate=w:E.next=w,P.lastBaseUpdate=_))}if(h!==null){var B=f.baseState;C=0,P=w=_=null,E=h;do{var U=E.lane&-536870913,k=U!==E.lane;if(k?(Se&U)===U:(u&U)===U){U!==0&&U===Ti&&(Ea=!0),P!==null&&(P=P.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,se=E;U=i;var De=s;switch(se.tag){case 1:if(ue=se.payload,typeof ue=="function"){B=ue.call(De,B,U);break e}B=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=se.payload,U=typeof ue=="function"?ue.call(De,B,U):ue,U==null)break e;B=v({},B,U);break e;case 2:cn=!0}}U=E.callback,U!==null&&(t.flags|=64,k&&(t.flags|=8192),k=f.callbacks,k===null?f.callbacks=[U]:k.push(U))}else k={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},P===null?(w=P=k,_=B):P=P.next=k,C|=U;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);P===null&&(_=B),f.baseState=_,f.firstBaseUpdate=w,f.lastBaseUpdate=P,h===null&&(f.shared.lanes=0),Sn|=C,t.lanes=C,t.memoizedState=B}}function wc(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function Ic(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)wc(s[t],i)}var Ci=O(null),Mo=O(0);function Uc(t,i){t=tn,J(Mo,t),J(Ci,i),tn=t|i.baseLanes}function _a(){J(Mo,tn),J(Ci,Ci.current)}function Aa(){tn=Mo.current,$(Ci),$(Mo)}var mn=0,pe=null,Ne=null,Fe=null,No=!1,xi=!1,On=!1,Ro=0,xl=0,Ei=null,Xg=0;function He(){throw Error(o(321))}function Ma(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!pt(t[s],i[s]))return!1;return!0}function Na(t,i,s,u,f,h){return mn=h,pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?yf:vf,On=!1,h=s(u,f),On=!1,xi&&(h=Lc(i,s,u,f)),kc(t),h}function kc(t){q.H=ko;var i=Ne!==null&&Ne.next!==null;if(mn=0,Fe=Ne=pe=null,No=!1,xl=0,Ei=null,i)throw Error(o(300));t===null||Xe||(t=t.dependencies,t!==null&&Co(t)&&(Xe=!0))}function Lc(t,i,s,u){pe=t;var f=0;do{if(xi&&(Ei=null),xl=0,xi=!1,25<=f)throw Error(o(301));if(f+=1,Fe=Ne=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=ty,h=i(s,u)}while(xi);return h}function Qg(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(pe.flags|=1024),i}function Ra(){var t=Ro!==0;return Ro=0,t}function Da(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function ba(t){if(No){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}No=!1}mn=0,Fe=Ne=pe=null,xi=!1,xl=Ro=0,Ei=null}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?pe.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function ze(){if(Ne===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var i=Fe===null?pe.memoizedState:Fe.next;if(i!==null)Fe=i,Ne=t;else{if(t===null)throw pe.alternate===null?Error(o(467)):Error(o(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Fe===null?pe.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function wa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=xl;return xl+=1,Ei===null&&(Ei=[]),t=Rc(Ei,t,i),i=pe,(Fe===null?i.memoizedState:Fe.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?yf:vf),t}function Do(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===Y)return tt(t)}throw Error(o(438,String(t)))}function Ia(t){var i=null,s=pe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=wa(),pe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=ie;return i.index++,s}function Qt(t,i){return typeof i=="function"?i(t):i}function bo(t){var i=ze();return Ua(i,Ne,t)}function Ua(t,i,s){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var f=t.baseQueue,h=u.pending;if(h!==null){if(f!==null){var C=f.next;f.next=h.next,h.next=C}i.baseQueue=f=h,u.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{i=f.next;var E=C=null,_=null,w=i,P=!1;do{var B=w.lane&-536870913;if(B!==w.lane?(Se&B)===B:(mn&B)===B){var U=w.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),B===Ti&&(P=!0);else if((mn&U)===U){w=w.next,U===Ti&&(P=!0);continue}else B={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},_===null?(E=_=B,C=h):_=_.next=B,pe.lanes|=U,Sn|=U;B=w.action,On&&s(h,B),h=w.hasEagerState?w.eagerState:s(h,B)}else U={lane:B,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},_===null?(E=_=U,C=h):_=_.next=U,pe.lanes|=B,Sn|=B;w=w.next}while(w!==null&&w!==i);if(_===null?C=h:_.next=E,!pt(h,t.memoizedState)&&(Xe=!0,P&&(s=Si,s!==null)))throw s;t.memoizedState=h,t.baseState=C,t.baseQueue=_,u.lastRenderedState=h}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function ka(t){var i=ze(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var u=s.dispatch,f=s.pending,h=i.memoizedState;if(f!==null){s.pending=null;var C=f=f.next;do h=t(h,C.action),C=C.next;while(C!==f);pt(h,i.memoizedState)||(Xe=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),s.lastRenderedState=h}return[h,u]}function Vc(t,i,s){var u=pe,f=ze(),h=Ee;if(h){if(s===void 0)throw Error(o(407));s=s()}else s=i();var C=!pt((Ne||f).memoizedState,s);C&&(f.memoizedState=s,Xe=!0),f=f.queue;var E=Gc.bind(null,u,f,t);if(_l(2048,8,E,[t]),f.getSnapshot!==i||C||Fe!==null&&Fe.memoizedState.tag&1){if(u.flags|=2048,_i(9,wo(),Pc.bind(null,u,f,s,i),null),Ie===null)throw Error(o(349));h||(mn&124)!==0||qc(u,i,s)}return s}function qc(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=pe.updateQueue,i===null?(i=wa(),pe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Pc(t,i,s,u){i.value=s,i.getSnapshot=u,Hc(i)&&Bc(t)}function Gc(t,i,s){return s(function(){Hc(i)&&Bc(t)})}function Hc(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!pt(t,s)}catch{return!0}}function Bc(t){var i=hi(t,2);i!==null&&St(i,t,2)}function La(t){var i=rt();if(typeof t=="function"){var s=t;if(t=s(),On){sn(!0);try{s()}finally{sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:t},i}function Fc(t,i,s,u){return t.baseState=s,Ua(t,Ne,typeof u=="function"?u:Qt)}function $g(t,i,s,u,f){if(Uo(t))throw Error(o(485));if(t=i.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){h.listeners.push(C)}};q.T!==null?s(!0):h.isTransition=!1,u(h),s=i.pending,s===null?(h.next=i.pending=h,zc(i,h)):(h.next=s.next,i.pending=s.next=h)}}function zc(t,i){var s=i.action,u=i.payload,f=t.state;if(i.isTransition){var h=q.T,C={};q.T=C;try{var E=s(f,u),_=q.S;_!==null&&_(C,E),Yc(t,i,E)}catch(w){Va(t,i,w)}finally{q.T=h}}else try{h=s(f,u),Yc(t,i,h)}catch(w){Va(t,i,w)}}function Yc(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Oc(t,i,u)},function(u){return Va(t,i,u)}):Oc(t,i,s)}function Oc(t,i,s){i.status="fulfilled",i.value=s,Jc(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,zc(t,s)))}function Va(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,Jc(i),i=i.next;while(i!==u)}t.action=null}function Jc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kc(t,i){return i}function Xc(t,i){if(Ee){var s=Ie.formState;if(s!==null){e:{var u=pe;if(Ee){if(Pe){t:{for(var f=Pe,h=qt;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ut(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Pe=Ut(f.nextSibling),u=f.data==="F!";break e}}Bn(u)}u=!1}u&&(i=s[0])}}return s=rt(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:i},s.queue=u,s=pf.bind(null,pe,u),u.dispatch=s,u=La(!1),h=Ba.bind(null,pe,!1,u.queue),u=rt(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,s=$g.bind(null,pe,f,h,s),f.dispatch=s,u.memoizedState=t,[i,s,!1]}function Qc(t){var i=ze();return $c(i,Ne,t)}function $c(t,i,s){if(i=Ua(t,i,Kc)[0],t=bo(Qt)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=El(i)}catch(C){throw C===yl?_o:C}else u=i;i=ze();var f=i.queue,h=f.dispatch;return s!==i.memoizedState&&(pe.flags|=2048,_i(9,wo(),Zg.bind(null,f,s),null)),[u,h,t]}function Zg(t,i){t.action=i}function Zc(t){var i=ze(),s=Ne;if(s!==null)return $c(i,s,t);ze(),i=i.memoizedState,s=ze();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function _i(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=pe.updateQueue,i===null&&(i=wa(),pe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function wo(){return{destroy:void 0,resource:void 0}}function Wc(){return ze().memoizedState}function Io(t,i,s,u){var f=rt();u=u===void 0?null:u,pe.flags|=t,f.memoizedState=_i(1|i,wo(),s,u)}function _l(t,i,s,u){var f=ze();u=u===void 0?null:u;var h=f.memoizedState.inst;Ne!==null&&u!==null&&Ma(u,Ne.memoizedState.deps)?f.memoizedState=_i(i,h,s,u):(pe.flags|=t,f.memoizedState=_i(1|i,h,s,u))}function jc(t,i){Io(8390656,8,t,i)}function ef(t,i){_l(2048,8,t,i)}function tf(t,i){return _l(4,2,t,i)}function nf(t,i){return _l(4,4,t,i)}function lf(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function of(t,i,s){s=s!=null?s.concat([t]):null,_l(4,4,lf.bind(null,i,t),s)}function qa(){}function sf(t,i){var s=ze();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Ma(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function af(t,i){var s=ze();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Ma(i,u[1]))return u[0];if(u=t(),On){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[u,i],u}function Pa(t,i,s){return s===void 0||(mn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=cd(),pe.lanes|=t,Sn|=t,s)}function rf(t,i,s,u){return pt(s,i)?s:Ci.current!==null?(t=Pa(t,s,u),pt(t,i)||(Xe=!0),t):(mn&42)===0?(Xe=!0,t.memoizedState=s):(t=cd(),pe.lanes|=t,Sn|=t,i)}function uf(t,i,s,u,f){var h=Q.p;Q.p=h!==0&&8>h?h:8;var C=q.T,E={};q.T=E,Ba(t,!1,i,s);try{var _=f(),w=q.S;if(w!==null&&w(E,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=Kg(_,u);Al(t,i,P,Tt(t))}else Al(t,i,u,Tt(t))}catch(B){Al(t,i,{then:function(){},status:"rejected",reason:B},Tt())}finally{Q.p=h,q.T=C}}function Wg(){}function Ga(t,i,s,u){if(t.tag!==5)throw Error(o(476));var f=cf(t).queue;uf(t,f,i,oe,s===null?Wg:function(){return ff(t),s(u)})}function cf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:oe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ff(t){var i=cf(t).next.queue;Al(t,i,{},Tt())}function Ha(){return tt(zl)}function df(){return ze().memoizedState}function mf(){return ze().memoizedState}function jg(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Tt();t=fn(s);var u=dn(i,t,s);u!==null&&(St(u,i,s),Tl(u,i,s)),i={cache:ga()},t.payload=i;return}i=i.return}}function ey(t,i,s){var u=Tt();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Uo(t)?hf(i,s):(s=sa(t,i,s,u),s!==null&&(St(s,t,u),gf(s,i,u)))}function pf(t,i,s){var u=Tt();Al(t,i,s,u)}function Al(t,i,s,u){var f={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uo(t))hf(i,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var C=i.lastRenderedState,E=h(C,s);if(f.hasEagerState=!0,f.eagerState=E,pt(E,C))return go(t,i,f,0),Ie===null&&ho(),!1}catch{}finally{}if(s=sa(t,i,f,u),s!==null)return St(s,t,u),gf(s,i,u),!0}return!1}function Ba(t,i,s,u){if(u={lane:2,revertLane:Tr(),action:u,hasEagerState:!1,eagerState:null,next:null},Uo(t)){if(i)throw Error(o(479))}else i=sa(t,s,u,2),i!==null&&St(i,t,2)}function Uo(t){var i=t.alternate;return t===pe||i!==null&&i===pe}function hf(t,i){xi=No=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function gf(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,Eu(t,s)}}var ko={readContext:tt,use:Do,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},yf={readContext:tt,use:Do,useCallback:function(t,i){return rt().memoizedState=[t,i===void 0?null:i],t},useContext:tt,useEffect:jc,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Io(4194308,4,lf.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Io(4194308,4,t,i)},useInsertionEffect:function(t,i){Io(4,2,t,i)},useMemo:function(t,i){var s=rt();i=i===void 0?null:i;var u=t();if(On){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=rt();if(s!==void 0){var f=s(i);if(On){sn(!0);try{s(i)}finally{sn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=ey.bind(null,pe,t),[u.memoizedState,t]},useRef:function(t){var i=rt();return t={current:t},i.memoizedState=t},useState:function(t){t=La(t);var i=t.queue,s=pf.bind(null,pe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:qa,useDeferredValue:function(t,i){var s=rt();return Pa(s,t,i)},useTransition:function(){var t=La(!1);return t=uf.bind(null,pe,t.queue,!0,!1),rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=pe,f=rt();if(Ee){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),Ie===null)throw Error(o(349));(Se&124)!==0||qc(u,i,s)}f.memoizedState=s;var h={value:s,getSnapshot:i};return f.queue=h,jc(Gc.bind(null,u,h,t),[t]),u.flags|=2048,_i(9,wo(),Pc.bind(null,u,h,s,i),null),s},useId:function(){var t=rt(),i=Ie.identifierPrefix;if(Ee){var s=Jt,u=Ot;s=(u&~(1<<32-mt(u)-1)).toString(32)+s,i="«"+i+"R"+s,s=Ro++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=Xg++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Ha,useFormState:Xc,useActionState:Xc,useOptimistic:function(t){var i=rt();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ba.bind(null,pe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Ia,useCacheRefresh:function(){return rt().memoizedState=jg.bind(null,pe)}},vf={readContext:tt,use:Do,useCallback:sf,useContext:tt,useEffect:ef,useImperativeHandle:of,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:af,useReducer:bo,useRef:Wc,useState:function(){return bo(Qt)},useDebugValue:qa,useDeferredValue:function(t,i){var s=ze();return rf(s,Ne.memoizedState,t,i)},useTransition:function(){var t=bo(Qt)[0],i=ze().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:Vc,useId:df,useHostTransitionStatus:Ha,useFormState:Qc,useActionState:Qc,useOptimistic:function(t,i){var s=ze();return Fc(s,Ne,t,i)},useMemoCache:Ia,useCacheRefresh:mf},ty={readContext:tt,use:Do,useCallback:sf,useContext:tt,useEffect:ef,useImperativeHandle:of,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:af,useReducer:ka,useRef:Wc,useState:function(){return ka(Qt)},useDebugValue:qa,useDeferredValue:function(t,i){var s=ze();return Ne===null?Pa(s,t,i):rf(s,Ne.memoizedState,t,i)},useTransition:function(){var t=ka(Qt)[0],i=ze().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:Vc,useId:df,useHostTransitionStatus:Ha,useFormState:Zc,useActionState:Zc,useOptimistic:function(t,i){var s=ze();return Ne!==null?Fc(s,Ne,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ia,useCacheRefresh:mf},Ai=null,Ml=0;function Lo(t){var i=Ml;return Ml+=1,Ai===null&&(Ai=[]),Rc(Ai,t,i)}function Nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Vo(t,i){throw i.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tf(t){var i=t._init;return i(t._payload)}function Sf(t){function i(D,N){if(t){var b=D.deletions;b===null?(D.deletions=[N],D.flags|=16):b.push(N)}}function s(D,N){if(!t)return null;for(;N!==null;)i(D,N),N=N.sibling;return null}function u(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function f(D,N){return D=Yt(D,N),D.index=0,D.sibling=null,D}function h(D,N,b){return D.index=b,t?(b=D.alternate,b!==null?(b=b.index,b<N?(D.flags|=67108866,N):b):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function C(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function E(D,N,b,H){return N===null||N.tag!==6?(N=ra(b,D.mode,H),N.return=D,N):(N=f(N,b),N.return=D,N)}function _(D,N,b,H){var ee=b.type;return ee===R?P(D,N,b.props.children,H,b.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ce&&Tf(ee)===N.type)?(N=f(N,b.props),Nl(N,b),N.return=D,N):(N=vo(b.type,b.key,b.props,null,D.mode,H),Nl(N,b),N.return=D,N)}function w(D,N,b,H){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=ua(b,D.mode,H),N.return=D,N):(N=f(N,b.children||[]),N.return=D,N)}function P(D,N,b,H,ee){return N===null||N.tag!==7?(N=qn(b,D.mode,H,ee),N.return=D,N):(N=f(N,b),N.return=D,N)}function B(D,N,b){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ra(""+N,D.mode,b),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return b=vo(N.type,N.key,N.props,null,D.mode,b),Nl(b,N),b.return=D,b;case A:return N=ua(N,D.mode,b),N.return=D,N;case ce:var H=N._init;return N=H(N._payload),B(D,N,b)}if(ye(N)||me(N))return N=qn(N,D.mode,b,null),N.return=D,N;if(typeof N.then=="function")return B(D,Lo(N),b);if(N.$$typeof===Y)return B(D,xo(D,N),b);Vo(D,N)}return null}function U(D,N,b,H){var ee=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return ee!==null?null:E(D,N,""+b,H);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case x:return b.key===ee?_(D,N,b,H):null;case A:return b.key===ee?w(D,N,b,H):null;case ce:return ee=b._init,b=ee(b._payload),U(D,N,b,H)}if(ye(b)||me(b))return ee!==null?null:P(D,N,b,H,null);if(typeof b.then=="function")return U(D,N,Lo(b),H);if(b.$$typeof===Y)return U(D,N,xo(D,b),H);Vo(D,b)}return null}function k(D,N,b,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return D=D.get(b)||null,E(N,D,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return D=D.get(H.key===null?b:H.key)||null,_(N,D,H,ee);case A:return D=D.get(H.key===null?b:H.key)||null,w(N,D,H,ee);case ce:var ge=H._init;return H=ge(H._payload),k(D,N,b,H,ee)}if(ye(H)||me(H))return D=D.get(b)||null,P(N,D,H,ee,null);if(typeof H.then=="function")return k(D,N,b,Lo(H),ee);if(H.$$typeof===Y)return k(D,N,b,xo(N,H),ee);Vo(N,H)}return null}function ue(D,N,b,H){for(var ee=null,ge=null,ne=N,re=N=0,$e=null;ne!==null&&re<b.length;re++){ne.index>re?($e=ne,ne=null):$e=ne.sibling;var Ce=U(D,ne,b[re],H);if(Ce===null){ne===null&&(ne=$e);break}t&&ne&&Ce.alternate===null&&i(D,ne),N=h(Ce,N,re),ge===null?ee=Ce:ge.sibling=Ce,ge=Ce,ne=$e}if(re===b.length)return s(D,ne),Ee&&Gn(D,re),ee;if(ne===null){for(;re<b.length;re++)ne=B(D,b[re],H),ne!==null&&(N=h(ne,N,re),ge===null?ee=ne:ge.sibling=ne,ge=ne);return Ee&&Gn(D,re),ee}for(ne=u(ne);re<b.length;re++)$e=k(ne,D,re,b[re],H),$e!==null&&(t&&$e.alternate!==null&&ne.delete($e.key===null?re:$e.key),N=h($e,N,re),ge===null?ee=$e:ge.sibling=$e,ge=$e);return t&&ne.forEach(function(Dn){return i(D,Dn)}),Ee&&Gn(D,re),ee}function se(D,N,b,H){if(b==null)throw Error(o(151));for(var ee=null,ge=null,ne=N,re=N=0,$e=null,Ce=b.next();ne!==null&&!Ce.done;re++,Ce=b.next()){ne.index>re?($e=ne,ne=null):$e=ne.sibling;var Dn=U(D,ne,Ce.value,H);if(Dn===null){ne===null&&(ne=$e);break}t&&ne&&Dn.alternate===null&&i(D,ne),N=h(Dn,N,re),ge===null?ee=Dn:ge.sibling=Dn,ge=Dn,ne=$e}if(Ce.done)return s(D,ne),Ee&&Gn(D,re),ee;if(ne===null){for(;!Ce.done;re++,Ce=b.next())Ce=B(D,Ce.value,H),Ce!==null&&(N=h(Ce,N,re),ge===null?ee=Ce:ge.sibling=Ce,ge=Ce);return Ee&&Gn(D,re),ee}for(ne=u(ne);!Ce.done;re++,Ce=b.next())Ce=k(ne,D,re,Ce.value,H),Ce!==null&&(t&&Ce.alternate!==null&&ne.delete(Ce.key===null?re:Ce.key),N=h(Ce,N,re),ge===null?ee=Ce:ge.sibling=Ce,ge=Ce);return t&&ne.forEach(function(nv){return i(D,nv)}),Ee&&Gn(D,re),ee}function De(D,N,b,H){if(typeof b=="object"&&b!==null&&b.type===R&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case x:e:{for(var ee=b.key;N!==null;){if(N.key===ee){if(ee=b.type,ee===R){if(N.tag===7){s(D,N.sibling),H=f(N,b.props.children),H.return=D,D=H;break e}}else if(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ce&&Tf(ee)===N.type){s(D,N.sibling),H=f(N,b.props),Nl(H,b),H.return=D,D=H;break e}s(D,N);break}else i(D,N);N=N.sibling}b.type===R?(H=qn(b.props.children,D.mode,H,b.key),H.return=D,D=H):(H=vo(b.type,b.key,b.props,null,D.mode,H),Nl(H,b),H.return=D,D=H)}return C(D);case A:e:{for(ee=b.key;N!==null;){if(N.key===ee)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){s(D,N.sibling),H=f(N,b.children||[]),H.return=D,D=H;break e}else{s(D,N);break}else i(D,N);N=N.sibling}H=ua(b,D.mode,H),H.return=D,D=H}return C(D);case ce:return ee=b._init,b=ee(b._payload),De(D,N,b,H)}if(ye(b))return ue(D,N,b,H);if(me(b)){if(ee=me(b),typeof ee!="function")throw Error(o(150));return b=ee.call(b),se(D,N,b,H)}if(typeof b.then=="function")return De(D,N,Lo(b),H);if(b.$$typeof===Y)return De(D,N,xo(D,b),H);Vo(D,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,N!==null&&N.tag===6?(s(D,N.sibling),H=f(N,b),H.return=D,D=H):(s(D,N),H=ra(b,D.mode,H),H.return=D,D=H),C(D)):s(D,N)}return function(D,N,b,H){try{Ml=0;var ee=De(D,N,b,H);return Ai=null,ee}catch(ne){if(ne===yl||ne===_o)throw ne;var ge=ht(29,ne,null,D.mode);return ge.lanes=H,ge.return=D,ge}finally{}}}var Mi=Sf(!0),Cf=Sf(!1),Nt=O(null),Pt=null;function pn(t){var i=t.alternate;J(Je,Je.current&1),J(Nt,t),Pt===null&&(i===null||Ci.current!==null||i.memoizedState!==null)&&(Pt=t)}function xf(t){if(t.tag===22){if(J(Je,Je.current),J(Nt,t),Pt===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Pt=t)}}else hn()}function hn(){J(Je,Je.current),J(Nt,Nt.current)}function $t(t){$(Nt),Pt===t&&(Pt=null),$(Je)}var Je=O(0);function qo(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||wr(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Fa(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var za={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=Tt(),f=fn(u);f.payload=i,s!=null&&(f.callback=s),i=dn(t,f,u),i!==null&&(St(i,t,u),Tl(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=Tt(),f=fn(u);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=dn(t,f,u),i!==null&&(St(i,t,u),Tl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Tt(),u=fn(s);u.tag=2,i!=null&&(u.callback=i),i=dn(t,u,s),i!==null&&(St(i,t,s),Tl(i,t,s))}};function Ef(t,i,s,u,f,h,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,C):i.prototype&&i.prototype.isPureReactComponent?!ul(s,u)||!ul(f,h):!0}function _f(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&za.enqueueReplaceState(i,i.state,null)}function Jn(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Af(t){Po(t)}function Mf(t){console.error(t)}function Nf(t){Po(t)}function Go(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Rf(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ya(t,i,s){return s=fn(s),s.tag=3,s.payload={element:null},s.callback=function(){Go(t,i)},s}function Df(t){return t=fn(t),t.tag=3,t}function bf(t,i,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var h=u.value;t.payload=function(){return f(h)},t.callback=function(){Rf(i,s,u)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){Rf(i,s,u),typeof f!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function ny(t,i,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&pl(i,s,f,!0),s=Nt.current,s!==null){switch(s.tag){case 13:return Pt===null?pr():s.alternate===null&&Ge===0&&(Ge=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===Ta?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),gr(t,u,f)),!1;case 22:return s.flags|=65536,u===Ta?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),gr(t,u,f)),!1}throw Error(o(435,s.tag))}return gr(t,u,f),pr(),!1}if(Ee)return i=Nt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==da&&(t=Error(o(422),{cause:u}),ml(Et(t,s)))):(u!==da&&(i=Error(o(423),{cause:u}),ml(Et(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Et(u,s),f=Ya(t.stateNode,u,f),xa(t,f),Ge!==4&&(Ge=2)),!1;var h=Error(o(520),{cause:u});if(h=Et(h,s),kl===null?kl=[h]:kl.push(h),Ge!==4&&(Ge=2),i===null)return!0;u=Et(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ya(s.stateNode,u,t),xa(s,t),!1;case 1:if(i=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Cn===null||!Cn.has(h))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Df(f),bf(f,t,s,u),xa(s,f),!1}s=s.return}while(s!==null);return!1}var wf=Error(o(461)),Xe=!1;function Ze(t,i,s,u){i.child=t===null?Cf(i,null,s,u):Mi(i,t.child,s,u)}function If(t,i,s,u,f){s=s.render;var h=i.ref;if("ref"in u){var C={};for(var E in u)E!=="ref"&&(C[E]=u[E])}else C=u;return zn(i),u=Na(t,i,s,C,h,f),E=Ra(),t!==null&&!Xe?(Da(t,i,f),Zt(t,i,f)):(Ee&&E&&ca(i),i.flags|=1,Ze(t,i,u,f),i.child)}function Uf(t,i,s,u,f){if(t===null){var h=s.type;return typeof h=="function"&&!aa(h)&&h.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=h,kf(t,i,h,u,f)):(t=vo(s.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Wa(t,f)){var C=h.memoizedProps;if(s=s.compare,s=s!==null?s:ul,s(C,u)&&t.ref===i.ref)return Zt(t,i,f)}return i.flags|=1,t=Yt(h,u),t.ref=i.ref,t.return=i,i.child=t}function kf(t,i,s,u,f){if(t!==null){var h=t.memoizedProps;if(ul(h,u)&&t.ref===i.ref)if(Xe=!1,i.pendingProps=u=h,Wa(t,f))(t.flags&131072)!==0&&(Xe=!0);else return i.lanes=t.lanes,Zt(t,i,f)}return Oa(t,i,s,u,f)}function Lf(t,i,s){var u=i.pendingProps,f=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=h!==null?h.baseLanes|s:s,t!==null){for(f=i.child=t.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;i.childLanes=h&~u}else i.childLanes=0,i.child=null;return Vf(t,i,u,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eo(i,h!==null?h.cachePool:null),h!==null?Uc(i,h):_a(),xf(i);else return i.lanes=i.childLanes=536870912,Vf(t,i,h!==null?h.baseLanes|s:s,s)}else h!==null?(Eo(i,h.cachePool),Uc(i,h),hn(),i.memoizedState=null):(t!==null&&Eo(i,null),_a(),hn());return Ze(t,i,f,s),i.child}function Vf(t,i,s,u){var f=va();return f=f===null?null:{parent:Oe._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&Eo(i,null),_a(),xf(i),t!==null&&pl(t,i,u,!0),null}function Ho(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Oa(t,i,s,u,f){return zn(i),s=Na(t,i,s,u,void 0,f),u=Ra(),t!==null&&!Xe?(Da(t,i,f),Zt(t,i,f)):(Ee&&u&&ca(i),i.flags|=1,Ze(t,i,s,f),i.child)}function qf(t,i,s,u,f,h){return zn(i),i.updateQueue=null,s=Lc(i,u,s,f),kc(t),u=Ra(),t!==null&&!Xe?(Da(t,i,h),Zt(t,i,h)):(Ee&&u&&ca(i),i.flags|=1,Ze(t,i,s,h),i.child)}function Pf(t,i,s,u,f){if(zn(i),i.stateNode===null){var h=gi,C=s.contextType;typeof C=="object"&&C!==null&&(h=tt(C)),h=new s(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=za,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},Sa(i),C=s.contextType,h.context=typeof C=="object"&&C!==null?tt(C):gi,h.state=i.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Fa(i,s,C,u),h.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(C=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),C!==h.state&&za.enqueueReplaceState(h,h.state,null),Cl(i,u,h,f),Sl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){h=i.stateNode;var E=i.memoizedProps,_=Jn(s,E);h.props=_;var w=h.context,P=s.contextType;C=gi,typeof P=="object"&&P!==null&&(C=tt(P));var B=s.getDerivedStateFromProps;P=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||w!==C)&&_f(i,h,u,C),cn=!1;var U=i.memoizedState;h.state=U,Cl(i,u,h,f),Sl(),w=i.memoizedState,E||U!==w||cn?(typeof B=="function"&&(Fa(i,s,B,u),w=i.memoizedState),(_=cn||Ef(i,s,_,u,U,w,C))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=w),h.props=u,h.state=w,h.context=C,u=_):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,Ca(t,i),C=i.memoizedProps,P=Jn(s,C),h.props=P,B=i.pendingProps,U=h.context,w=s.contextType,_=gi,typeof w=="object"&&w!==null&&(_=tt(w)),E=s.getDerivedStateFromProps,(w=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C!==B||U!==_)&&_f(i,h,u,_),cn=!1,U=i.memoizedState,h.state=U,Cl(i,u,h,f),Sl();var k=i.memoizedState;C!==B||U!==k||cn||t!==null&&t.dependencies!==null&&Co(t.dependencies)?(typeof E=="function"&&(Fa(i,s,E,u),k=i.memoizedState),(P=cn||Ef(i,s,P,u,U,k,_)||t!==null&&t.dependencies!==null&&Co(t.dependencies))?(w||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,k,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,k,_)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=k),h.props=u,h.state=k,h.context=_,u=P):(typeof h.componentDidUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),u=!1)}return h=u,Ho(t,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&u?(i.child=Mi(i,t.child,null,f),i.child=Mi(i,null,s,f)):Ze(t,i,s,f),i.memoizedState=h.state,t=i.child):t=Zt(t,i,f),t}function Gf(t,i,s,u){return dl(),i.flags|=256,Ze(t,i,s,u),i.child}var Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ka(t){return{baseLanes:t,cachePool:Ac()}}function Xa(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Rt),t}function Hf(t,i,s){var u=i.pendingProps,f=!1,h=(i.flags&128)!==0,C;if((C=h)||(C=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),C&&(f=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ee){if(f?pn(i):hn(),Ee){var E=Pe,_;if(_=E){e:{for(_=E,E=qt;_.nodeType!==8;){if(!E){E=null;break e}if(_=Ut(_.nextSibling),_===null){E=null;break e}}E=_}E!==null?(i.memoizedState={dehydrated:E,treeContext:Pn!==null?{id:Ot,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},_=ht(18,null,null,0),_.stateNode=E,_.return=i,i.child=_,ot=i,Pe=null,_=!0):_=!1}_||Bn(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return wr(E)?i.lanes=32:i.lanes=536870912,null;$t(i)}return E=u.children,u=u.fallback,f?(hn(),f=i.mode,E=Bo({mode:"hidden",children:E},f),u=qn(u,f,s,null),E.return=i,u.return=i,E.sibling=u,i.child=E,f=i.child,f.memoizedState=Ka(s),f.childLanes=Xa(t,C,s),i.memoizedState=Ja,u):(pn(i),Qa(i,E))}if(_=t.memoizedState,_!==null&&(E=_.dehydrated,E!==null)){if(h)i.flags&256?(pn(i),i.flags&=-257,i=$a(t,i,s)):i.memoizedState!==null?(hn(),i.child=t.child,i.flags|=128,i=null):(hn(),f=u.fallback,E=i.mode,u=Bo({mode:"visible",children:u.children},E),f=qn(f,E,s,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Mi(i,t.child,null,s),u=i.child,u.memoizedState=Ka(s),u.childLanes=Xa(t,C,s),i.memoizedState=Ja,i=f);else if(pn(i),wr(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var w=C.dgst;C=w,u=Error(o(419)),u.stack="",u.digest=C,ml({value:u,source:null,stack:null}),i=$a(t,i,s)}else if(Xe||pl(t,i,s,!1),C=(s&t.childLanes)!==0,Xe||C){if(C=Ie,C!==null&&(u=s&-s,u=(u&42)!==0?1:Is(u),u=(u&(C.suspendedLanes|s))!==0?0:u,u!==0&&u!==_.retryLane))throw _.retryLane=u,hi(t,u),St(C,t,u),wf;E.data==="$?"||pr(),i=$a(t,i,s)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=_.treeContext,Pe=Ut(E.nextSibling),ot=i,Ee=!0,Hn=null,qt=!1,t!==null&&(At[Mt++]=Ot,At[Mt++]=Jt,At[Mt++]=Pn,Ot=t.id,Jt=t.overflow,Pn=i),i=Qa(i,u.children),i.flags|=4096);return i}return f?(hn(),f=u.fallback,E=i.mode,_=t.child,w=_.sibling,u=Yt(_,{mode:"hidden",children:u.children}),u.subtreeFlags=_.subtreeFlags&65011712,w!==null?f=Yt(w,f):(f=qn(f,E,s,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,E=t.child.memoizedState,E===null?E=Ka(s):(_=E.cachePool,_!==null?(w=Oe._currentValue,_=_.parent!==w?{parent:w,pool:w}:_):_=Ac(),E={baseLanes:E.baseLanes|s,cachePool:_}),f.memoizedState=E,f.childLanes=Xa(t,C,s),i.memoizedState=Ja,u):(pn(i),s=t.child,t=s.sibling,s=Yt(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(C=i.deletions,C===null?(i.deletions=[t],i.flags|=16):C.push(t)),i.child=s,i.memoizedState=null,s)}function Qa(t,i){return i=Bo({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Bo(t,i){return t=ht(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $a(t,i,s){return Mi(i,t.child,null,s),t=Qa(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Bf(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),pa(t.return,i,s)}function Za(t,i,s,u,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=s,h.tailMode=f)}function Ff(t,i,s){var u=i.pendingProps,f=u.revealOrder,h=u.tail;if(Ze(t,i,u.children,s),u=Je.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bf(t,s,i);else if(t.tag===19)Bf(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(J(Je,u),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&qo(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Za(i,!1,f,s,h);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&qo(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Za(i,!0,s,null,h);break;case"together":Za(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zt(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Sn|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(pl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=Yt(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Yt(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Wa(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Co(t)))}function iy(t,i,s){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),un(i,Oe,t.memoizedState.cache),dl();break;case 27:case 5:Qi(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:un(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(pn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Hf(t,i,s):(pn(i),t=Zt(t,i,s),t!==null?t.sibling:null);pn(i);break;case 19:var f=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(pl(t,i,s,!1),u=(s&i.childLanes)!==0),f){if(u)return Ff(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Je,Je.current),u)break;return null;case 22:case 23:return i.lanes=0,Lf(t,i,s);case 24:un(i,Oe,t.memoizedState.cache)}return Zt(t,i,s)}function zf(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Xe=!0;else{if(!Wa(t,s)&&(i.flags&128)===0)return Xe=!1,iy(t,i,s);Xe=(t.flags&131072)!==0}else Xe=!1,Ee&&(i.flags&1048576)!==0&&vc(i,So,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")aa(u)?(t=Jn(u,t),i.tag=1,i=Pf(null,i,u,t,s)):(i.tag=0,i=Oa(null,i,u,t,s));else{if(u!=null){if(f=u.$$typeof,f===L){i.tag=11,i=If(null,i,u,t,s);break e}else if(f===Z){i.tag=14,i=Uf(null,i,u,t,s);break e}}throw i=Ye(u)||u,Error(o(306,i,""))}}return i;case 0:return Oa(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,f=Jn(u,i.pendingProps),Pf(t,i,u,f,s);case 3:e:{if(be(i,i.stateNode.containerInfo),t===null)throw Error(o(387));u=i.pendingProps;var h=i.memoizedState;f=h.element,Ca(t,i),Cl(i,u,null,s);var C=i.memoizedState;if(u=C.cache,un(i,Oe,u),u!==h.cache&&ha(i,[Oe],s,!0),Sl(),u=C.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Gf(t,i,u,s);break e}else if(u!==f){f=Et(Error(o(424)),i),ml(f),i=Gf(t,i,u,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pe=Ut(t.firstChild),ot=i,Ee=!0,Hn=null,qt=!0,s=Cf(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(dl(),u===f){i=Zt(t,i,s);break e}Ze(t,i,u,s)}i=i.child}return i;case 26:return Ho(t,i),t===null?(s=Kd(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ee||(s=i.type,t=i.pendingProps,u=ts(ae.current).createElement(s),u[et]=i,u[st]=t,je(u,s,t),Ke(u),i.stateNode=u):i.memoizedState=Kd(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Qi(i),t===null&&Ee&&(u=i.stateNode=Yd(i.type,i.pendingProps,ae.current),ot=i,qt=!0,f=Pe,_n(i.type)?(Ir=f,Pe=Ut(u.firstChild)):Pe=f),Ze(t,i,i.pendingProps.children,s),Ho(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ee&&((f=u=Pe)&&(u=wy(u,i.type,i.pendingProps,qt),u!==null?(i.stateNode=u,ot=i,Pe=Ut(u.firstChild),qt=!1,f=!0):f=!1),f||Bn(i)),Qi(i),f=i.type,h=i.pendingProps,C=t!==null?t.memoizedProps:null,u=h.children,Rr(f,h)?u=null:C!==null&&Rr(f,C)&&(i.flags|=32),i.memoizedState!==null&&(f=Na(t,i,Qg,null,null,s),zl._currentValue=f),Ho(t,i),Ze(t,i,u,s),i.child;case 6:return t===null&&Ee&&((t=s=Pe)&&(s=Iy(s,i.pendingProps,qt),s!==null?(i.stateNode=s,ot=i,Pe=null,t=!0):t=!1),t||Bn(i)),null;case 13:return Hf(t,i,s);case 4:return be(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Mi(i,null,u,s):Ze(t,i,u,s),i.child;case 11:return If(t,i,i.type,i.pendingProps,s);case 7:return Ze(t,i,i.pendingProps,s),i.child;case 8:return Ze(t,i,i.pendingProps.children,s),i.child;case 12:return Ze(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,un(i,i.type,u.value),Ze(t,i,u.children,s),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,zn(i),f=tt(f),u=u(f),i.flags|=1,Ze(t,i,u,s),i.child;case 14:return Uf(t,i,i.type,i.pendingProps,s);case 15:return kf(t,i,i.type,i.pendingProps,s);case 19:return Ff(t,i,s);case 31:return u=i.pendingProps,s=i.mode,u={mode:u.mode,children:u.children},t===null?(s=Bo(u,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Yt(t.child,u),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Lf(t,i,s);case 24:return zn(i),u=tt(Oe),t===null?(f=va(),f===null&&(f=Ie,h=ga(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=s),f=h),i.memoizedState={parent:u,cache:f},Sa(i),un(i,Oe,f)):((t.lanes&s)!==0&&(Ca(t,i),Cl(i,null,null,s),Sl()),f=t.memoizedState,h=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),un(i,Oe,u)):(u=h.cache,un(i,Oe,u),u!==f.cache&&ha(i,[Oe],s,!0))),Ze(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Wt(t){t.flags|=4}function Yf(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wd(i)){if(i=Nt.current,i!==null&&((Se&4194048)===Se?Pt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||i!==Pt))throw vl=Ta,Mc;t.flags|=8192}}function Fo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Cu():536870912,t.lanes|=i,bi|=i)}function Rl(t,i){if(!Ee)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ve(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function ly(t,i,s){var u=i.pendingProps;switch(fa(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(i),null;case 1:return Ve(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Xt(Oe),Lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(fl(i)?Wt(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cc())),Ve(i),null;case 26:return s=i.memoizedState,t===null?(Wt(i),s!==null?(Ve(i),Yf(i,s)):(Ve(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Wt(i),Ve(i),Yf(i,s)):(Ve(i),i.flags&=-16777217):(t.memoizedProps!==u&&Wt(i),Ve(i),i.flags&=-16777217),null;case 27:on(i),s=ae.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Wt(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return Ve(i),null}t=te.current,fl(i)?Tc(i):(t=Yd(f,u,s),i.stateNode=t,Wt(i))}return Ve(i),null;case 5:if(on(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Wt(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return Ve(i),null}if(t=te.current,fl(i))Tc(i);else{switch(f=ts(ae.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(s,{is:u.is}):f.createElement(s)}}t[et]=i,t[st]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(je(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Wt(i)}}return Ve(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Wt(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(o(166));if(t=ae.current,fl(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,f=ot,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[et]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||qd(t.nodeValue,s)),t||Bn(i)}else t=ts(t).createTextNode(u),t[et]=i,i.stateNode=t}return Ve(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=fl(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(o(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[et]=i}else dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ve(i),f=!1}else f=Cc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?($t(i),i):($t(i),null)}if($t(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==f&&(u.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Fo(i,i.updateQueue),Ve(i),null;case 4:return Lt(),t===null&&Er(i.stateNode.containerInfo),Ve(i),null;case 10:return Xt(i.type),Ve(i),null;case 19:if($(Je),f=i.memoizedState,f===null)return Ve(i),null;if(u=(i.flags&128)!==0,h=f.rendering,h===null)if(u)Rl(f,!1);else{if(Ge!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=qo(t),h!==null){for(i.flags|=128,Rl(f,!1),t=h.updateQueue,i.updateQueue=t,Fo(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)yc(s,t),s=s.sibling;return J(Je,Je.current&1|2),i.child}t=t.sibling}f.tail!==null&&Vt()>Oo&&(i.flags|=128,u=!0,Rl(f,!1),i.lanes=4194304)}else{if(!u)if(t=qo(h),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Fo(i,t),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Ee)return Ve(i),null}else 2*Vt()-f.renderingStartTime>Oo&&s!==536870912&&(i.flags|=128,u=!0,Rl(f,!1),i.lanes=4194304);f.isBackwards?(h.sibling=i.child,i.child=h):(t=f.last,t!==null?t.sibling=h:i.child=h,f.last=h)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Vt(),i.sibling=null,t=Je.current,J(Je,u?t&1|2:t&1),i):(Ve(i),null);case 22:case 23:return $t(i),Aa(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Ve(i),i.subtreeFlags&6&&(i.flags|=8192)):Ve(i),s=i.updateQueue,s!==null&&Fo(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&$(Yn),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Xt(Oe),Ve(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function oy(t,i){switch(fa(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xt(Oe),Lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return on(i),null;case 13:if($t(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));dl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(Je),null;case 4:return Lt(),null;case 10:return Xt(i.type),null;case 22:case 23:return $t(i),Aa(),t!==null&&$(Yn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xt(Oe),null;case 25:return null;default:return null}}function Of(t,i){switch(fa(i),i.tag){case 3:Xt(Oe),Lt();break;case 26:case 27:case 5:on(i);break;case 4:Lt();break;case 13:$t(i);break;case 19:$(Je);break;case 10:Xt(i.type);break;case 22:case 23:$t(i),Aa(),t!==null&&$(Yn);break;case 24:Xt(Oe)}}function Dl(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&t)===t){u=void 0;var h=s.create,C=s.inst;u=h(),C.destroy=u}s=s.next}while(s!==f)}}catch(E){we(i,i.return,E)}}function gn(t,i,s){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var h=f.next;u=h;do{if((u.tag&t)===t){var C=u.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,f=i;var _=s,w=E;try{w()}catch(P){we(f,_,P)}}}u=u.next}while(u!==h)}}catch(P){we(i,i.return,P)}}function Jf(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Ic(i,s)}catch(u){we(t,t.return,u)}}}function Kf(t,i,s){s.props=Jn(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){we(t,i,u)}}function bl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(f){we(t,i,f)}}function Gt(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){we(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){we(t,i,f)}else s.current=null}function Xf(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){we(t,t.return,f)}}function ja(t,i,s){try{var u=t.stateNode;My(u,t.type,s,i),u[st]=i}catch(f){we(t,t.return,f)}}function Qf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_n(t.type)||t.tag===4}function er(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_n(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tr(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=es));else if(u!==4&&(u===27&&_n(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(tr(t,i,s),t=t.sibling;t!==null;)tr(t,i,s),t=t.sibling}function zo(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&_n(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(zo(t,i,s),t=t.sibling;t!==null;)zo(t,i,s),t=t.sibling}function $f(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);je(i,u,s),i[et]=t,i[st]=s}catch(h){we(t,t.return,h)}}var jt=!1,Be=!1,nr=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function sy(t,i){if(t=t.containerInfo,Mr=as,t=ac(t),ea(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var C=0,E=-1,_=-1,w=0,P=0,B=t,U=null;t:for(;;){for(var k;B!==s||f!==0&&B.nodeType!==3||(E=C+f),B!==h||u!==0&&B.nodeType!==3||(_=C+u),B.nodeType===3&&(C+=B.nodeValue.length),(k=B.firstChild)!==null;)U=B,B=k;for(;;){if(B===t)break t;if(U===s&&++w===f&&(E=C),U===h&&++P===u&&(_=C),(k=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=k}s=E===-1||_===-1?null:{start:E,end:_}}else s=null}s=s||{start:0,end:0}}else s=null;for(Nr={focusedElem:t,selectionRange:s},as=!1,Qe=i;Qe!==null;)if(i=Qe,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Qe=t;else for(;Qe!==null;){switch(i=Qe,h=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=i,f=h.memoizedProps,h=h.memoizedState,u=s.stateNode;try{var ue=Jn(s.type,f,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(ue,h),u.__reactInternalSnapshotBeforeUpdate=t}catch(se){we(s,s.return,se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)br(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":br(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,Qe=t;break}Qe=i.return}}function Wf(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:yn(t,s),u&4&&Dl(5,s);break;case 1:if(yn(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(C){we(s,s.return,C)}else{var f=Jn(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(C){we(s,s.return,C)}}u&64&&Jf(s),u&512&&bl(s,s.return);break;case 3:if(yn(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Ic(t,i)}catch(C){we(s,s.return,C)}}break;case 27:i===null&&u&4&&$f(s);case 26:case 5:yn(t,s),i===null&&u&4&&Xf(s),u&512&&bl(s,s.return);break;case 12:yn(t,s);break;case 13:yn(t,s),u&4&&td(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=hy.bind(null,s),Uy(t,s))));break;case 22:if(u=s.memoizedState!==null||jt,!u){i=i!==null&&i.memoizedState!==null||Be,f=jt;var h=Be;jt=u,(Be=i)&&!h?vn(t,s,(s.subtreeFlags&8772)!==0):yn(t,s),jt=f,Be=h}break;case 30:break;default:yn(t,s)}}function jf(t){var i=t.alternate;i!==null&&(t.alternate=null,jf(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ls(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,ut=!1;function en(t,i,s){for(s=s.child;s!==null;)ed(t,i,s),s=s.sibling}function ed(t,i,s){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Zi,s)}catch{}switch(s.tag){case 26:Be||Gt(s,i),en(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Be||Gt(s,i);var u=Le,f=ut;_n(s.type)&&(Le=s.stateNode,ut=!1),en(t,i,s),Gl(s.stateNode),Le=u,ut=f;break;case 5:Be||Gt(s,i);case 6:if(u=Le,f=ut,Le=null,en(t,i,s),Le=u,ut=f,Le!==null)if(ut)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(s.stateNode)}catch(h){we(s,i,h)}else try{Le.removeChild(s.stateNode)}catch(h){we(s,i,h)}break;case 18:Le!==null&&(ut?(t=Le,Fd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Kl(t)):Fd(Le,s.stateNode));break;case 4:u=Le,f=ut,Le=s.stateNode.containerInfo,ut=!0,en(t,i,s),Le=u,ut=f;break;case 0:case 11:case 14:case 15:Be||gn(2,s,i),Be||gn(4,s,i),en(t,i,s);break;case 1:Be||(Gt(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Kf(s,i,u)),en(t,i,s);break;case 21:en(t,i,s);break;case 22:Be=(u=Be)||s.memoizedState!==null,en(t,i,s),Be=u;break;default:en(t,i,s)}}function td(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kl(t)}catch(s){we(i,i.return,s)}}function ay(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Zf),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Zf),i;default:throw Error(o(435,t.tag))}}function ir(t,i){var s=ay(t);i.forEach(function(u){var f=gy.bind(null,t,u);s.has(u)||(s.add(u),u.then(f,f))})}function gt(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],h=t,C=i,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(_n(E.type)){Le=E.stateNode,ut=!1;break e}break;case 5:Le=E.stateNode,ut=!1;break e;case 3:case 4:Le=E.stateNode.containerInfo,ut=!0;break e}E=E.return}if(Le===null)throw Error(o(160));ed(h,C,f),Le=null,ut=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)nd(i,t),i=i.sibling}var It=null;function nd(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gt(i,t),yt(t),u&4&&(gn(3,t,t.return),Dl(3,t),gn(5,t,t.return));break;case 1:gt(i,t),yt(t),u&512&&(Be||s===null||Gt(s,s.return)),u&64&&jt&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=It;if(gt(i,t),yt(t),u&512&&(Be||s===null||Gt(s,s.return)),u&4){var h=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":h=f.getElementsByTagName("title")[0],(!h||h[el]||h[et]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(u),f.head.insertBefore(h,f.querySelector("head > title"))),je(h,u,s),h[et]=t,Ke(h),u=h;break e;case"link":var C=$d("link","href",f).get(u+(s.href||""));if(C){for(var E=0;E<C.length;E++)if(h=C[E],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(E,1);break t}}h=f.createElement(u),je(h,u,s),f.head.appendChild(h);break;case"meta":if(C=$d("meta","content",f).get(u+(s.content||""))){for(E=0;E<C.length;E++)if(h=C[E],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(E,1);break t}}h=f.createElement(u),je(h,u,s),f.head.appendChild(h);break;default:throw Error(o(468,u))}h[et]=t,Ke(h),u=h}t.stateNode=u}else Zd(f,t.type,t.stateNode);else t.stateNode=Qd(f,u,t.memoizedProps);else h!==u?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,u===null?Zd(f,t.type,t.stateNode):Qd(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&ja(t,t.memoizedProps,s.memoizedProps)}break;case 27:gt(i,t),yt(t),u&512&&(Be||s===null||Gt(s,s.return)),s!==null&&u&4&&ja(t,t.memoizedProps,s.memoizedProps);break;case 5:if(gt(i,t),yt(t),u&512&&(Be||s===null||Gt(s,s.return)),t.flags&32){f=t.stateNode;try{ri(f,"")}catch(k){we(t,t.return,k)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,ja(t,f,s!==null?s.memoizedProps:f)),u&1024&&(nr=!0);break;case 6:if(gt(i,t),yt(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(k){we(t,t.return,k)}}break;case 3:if(ls=null,f=It,It=ns(i.containerInfo),gt(i,t),It=f,yt(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Kl(i.containerInfo)}catch(k){we(t,t.return,k)}nr&&(nr=!1,id(t));break;case 4:u=It,It=ns(t.stateNode.containerInfo),gt(i,t),yt(t),It=u;break;case 12:gt(i,t),yt(t);break;case 13:gt(i,t),yt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ur=Vt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ir(t,u)));break;case 22:f=t.memoizedState!==null;var _=s!==null&&s.memoizedState!==null,w=jt,P=Be;if(jt=w||f,Be=P||_,gt(i,t),Be=P,jt=w,yt(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||_||jt||Be||Kn(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){_=s=i;try{if(h=_.stateNode,f)C=h.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=_.stateNode;var B=_.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(k){we(_,_.return,k)}}}else if(i.tag===6){if(s===null){_=i;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(k){we(_,_.return,k)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,ir(t,s))));break;case 19:gt(i,t),yt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ir(t,u)));break;case 30:break;case 21:break;default:gt(i,t),yt(t)}}function yt(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(Qf(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var f=s.stateNode,h=er(t);zo(t,h,f);break;case 5:var C=s.stateNode;s.flags&32&&(ri(C,""),s.flags&=-33);var E=er(t);zo(t,E,C);break;case 3:case 4:var _=s.stateNode.containerInfo,w=er(t);tr(t,w,_);break;default:throw Error(o(161))}}catch(P){we(t,t.return,P)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function id(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;id(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function yn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wf(t,i.alternate,i),i=i.sibling}function Kn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gn(4,i,i.return),Kn(i);break;case 1:Gt(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Kf(i,i.return,s),Kn(i);break;case 27:Gl(i.stateNode);case 26:case 5:Gt(i,i.return),Kn(i);break;case 22:i.memoizedState===null&&Kn(i);break;case 30:Kn(i);break;default:Kn(i)}t=t.sibling}}function vn(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,h=i,C=h.flags;switch(h.tag){case 0:case 11:case 15:vn(f,h,s),Dl(4,h);break;case 1:if(vn(f,h,s),u=h,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(w){we(u,u.return,w)}if(u=h,f=u.updateQueue,f!==null){var E=u.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)wc(_[f],E)}catch(w){we(u,u.return,w)}}s&&C&64&&Jf(h),bl(h,h.return);break;case 27:$f(h);case 26:case 5:vn(f,h,s),s&&u===null&&C&4&&Xf(h),bl(h,h.return);break;case 12:vn(f,h,s);break;case 13:vn(f,h,s),s&&C&4&&td(f,h);break;case 22:h.memoizedState===null&&vn(f,h,s),bl(h,h.return);break;case 30:break;default:vn(f,h,s)}i=i.sibling}}function lr(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&hl(s))}function or(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t))}function Ht(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ld(t,i,s,u),i=i.sibling}function ld(t,i,s,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ht(t,i,s,u),f&2048&&Dl(9,i);break;case 1:Ht(t,i,s,u);break;case 3:Ht(t,i,s,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t)));break;case 12:if(f&2048){Ht(t,i,s,u),t=i.stateNode;try{var h=i.memoizedProps,C=h.id,E=h.onPostCommit;typeof E=="function"&&E(C,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){we(i,i.return,_)}}else Ht(t,i,s,u);break;case 13:Ht(t,i,s,u);break;case 23:break;case 22:h=i.stateNode,C=i.alternate,i.memoizedState!==null?h._visibility&2?Ht(t,i,s,u):wl(t,i):h._visibility&2?Ht(t,i,s,u):(h._visibility|=2,Ni(t,i,s,u,(i.subtreeFlags&10256)!==0)),f&2048&&lr(C,i);break;case 24:Ht(t,i,s,u),f&2048&&or(i.alternate,i);break;default:Ht(t,i,s,u)}}function Ni(t,i,s,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=t,C=i,E=s,_=u,w=C.flags;switch(C.tag){case 0:case 11:case 15:Ni(h,C,E,_,f),Dl(8,C);break;case 23:break;case 22:var P=C.stateNode;C.memoizedState!==null?P._visibility&2?Ni(h,C,E,_,f):wl(h,C):(P._visibility|=2,Ni(h,C,E,_,f)),f&&w&2048&&lr(C.alternate,C);break;case 24:Ni(h,C,E,_,f),f&&w&2048&&or(C.alternate,C);break;default:Ni(h,C,E,_,f)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,f=u.flags;switch(u.tag){case 22:wl(s,u),f&2048&&lr(u.alternate,u);break;case 24:wl(s,u),f&2048&&or(u.alternate,u);break;default:wl(s,u)}i=i.sibling}}var Il=8192;function Ri(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)od(t),t=t.sibling}function od(t){switch(t.tag){case 26:Ri(t),t.flags&Il&&t.memoizedState!==null&&Jy(It,t.memoizedState,t.memoizedProps);break;case 5:Ri(t);break;case 3:case 4:var i=It;It=ns(t.stateNode.containerInfo),Ri(t),It=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ri(t),Il=i):Ri(t));break;default:Ri(t)}}function sd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Qe=u,rd(u,t)}sd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ad(t),t=t.sibling}function ad(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&gn(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Yo(t)):Ul(t);break;default:Ul(t)}}function Yo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Qe=u,rd(u,t)}sd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gn(8,i,i.return),Yo(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Yo(i));break;default:Yo(i)}t=t.sibling}}function rd(t,i){for(;Qe!==null;){var s=Qe;switch(s.tag){case 0:case 11:case 15:gn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Qe=u;else e:for(s=t;Qe!==null;){u=Qe;var f=u.sibling,h=u.return;if(jf(u),u===s){Qe=null;break e}if(f!==null){f.return=h,Qe=f;break e}Qe=h}}}var ry={getCacheForType:function(t){var i=tt(Oe),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},uy=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ie=null,ve=null,Se=0,Me=0,vt=null,Tn=!1,Di=!1,sr=!1,tn=0,Ge=0,Sn=0,Xn=0,ar=0,Rt=0,bi=0,kl=null,ct=null,rr=!1,ur=0,Oo=1/0,Jo=null,Cn=null,We=0,xn=null,wi=null,Ii=0,cr=0,fr=null,ud=null,Ll=0,dr=null;function Tt(){if((Ae&2)!==0&&Se!==0)return Se&-Se;if(q.T!==null){var t=Ti;return t!==0?t:Tr()}return _u()}function cd(){Rt===0&&(Rt=(Se&536870912)===0||Ee?Su():536870912);var t=Nt.current;return t!==null&&(t.flags|=32),Rt}function St(t,i,s){(t===Ie&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(Ui(t,0),En(t,Se,Rt,!1)),ji(t,s),((Ae&2)===0||t!==Ie)&&(t===Ie&&((Ae&2)===0&&(Xn|=s),Ge===4&&En(t,Se,Rt,!1)),Bt(t))}function fd(t,i,s){if((Ae&6)!==0)throw Error(o(327));var u=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Wi(t,i),f=u?dy(t,i):hr(t,i,!0),h=u;do{if(f===0){Di&&!u&&En(t,i,0,!1);break}else{if(s=t.current.alternate,h&&!cy(s)){f=hr(t,i,!1),h=!1;continue}if(f===2){if(h=i,t.errorRecoveryDisabledLanes&h)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var E=t;f=kl;var _=E.current.memoizedState.isDehydrated;if(_&&(Ui(E,C).flags|=256),C=hr(E,C,!1),C!==2){if(sr&&!_){E.errorRecoveryDisabledLanes|=h,Xn|=h,f=4;break e}h=ct,ct=f,h!==null&&(ct===null?ct=h:ct.push.apply(ct,h))}f=C}if(h=!1,f!==2)continue}}if(f===1){Ui(t,0),En(t,i,0,!0);break}e:{switch(u=t,h=f,h){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:En(u,i,Rt,!Tn);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(f=ur+300-Vt(),10<f)){if(En(u,i,Rt,!Tn),no(u,0,!0)!==0)break e;u.timeoutHandle=Hd(dd.bind(null,u,s,ct,Jo,rr,i,Rt,Xn,bi,Tn,h,2,-0,0),f);break e}dd(u,s,ct,Jo,rr,i,Rt,Xn,bi,Tn,h,0,-0,0)}}break}while(!0);Bt(t)}function dd(t,i,s,u,f,h,C,E,_,w,P,B,U,k){if(t.timeoutHandle=-1,B=i.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:Oy},od(i),B=Ky(),B!==null)){t.cancelPendingCommit=B(Td.bind(null,t,i,h,s,u,f,C,E,_,P,1,U,k)),En(t,h,C,!w);return}Td(t,i,h,s,u,f,C,E,_)}function cy(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],h=f.getSnapshot;f=f.value;try{if(!pt(h(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function En(t,i,s,u){i&=~ar,i&=~Xn,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var h=31-mt(f),C=1<<h;u[h]=-1,f&=~C}s!==0&&xu(t,s,i)}function Ko(){return(Ae&6)===0?(Vl(0),!1):!0}function mr(){if(ve!==null){if(Me===0)var t=ve.return;else t=ve,Kt=Fn=null,ba(t),Ai=null,Ml=0,t=ve;for(;t!==null;)Of(t.alternate,t),t=t.return;ve=null}}function Ui(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ry(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),mr(),Ie=t,ve=s=Yt(t.current,null),Se=i,Me=0,vt=null,Tn=!1,Di=Wi(t,i),sr=!1,bi=Rt=ar=Xn=Sn=Ge=0,ct=kl=null,rr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-mt(u),h=1<<f;i|=t[f],u&=~h}return tn=i,ho(),s}function md(t,i){pe=null,q.H=ko,i===yl||i===_o?(i=Dc(),Me=3):i===Mc?(i=Dc(),Me=4):Me=i===wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vt=i,ve===null&&(Ge=1,Go(t,Et(i,t.current)))}function pd(){var t=q.H;return q.H=ko,t===null?ko:t}function hd(){var t=q.A;return q.A=ry,t}function pr(){Ge=4,Tn||(Se&4194048)!==Se&&Nt.current!==null||(Di=!0),(Sn&134217727)===0&&(Xn&134217727)===0||Ie===null||En(Ie,Se,Rt,!1)}function hr(t,i,s){var u=Ae;Ae|=2;var f=pd(),h=hd();(Ie!==t||Se!==i)&&(Jo=null,Ui(t,i)),i=!1;var C=Ge;e:do try{if(Me!==0&&ve!==null){var E=ve,_=vt;switch(Me){case 8:mr(),C=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(i=!0);var w=Me;if(Me=0,vt=null,ki(t,E,_,w),s&&Di){C=0;break e}break;default:w=Me,Me=0,vt=null,ki(t,E,_,w)}}fy(),C=Ge;break}catch(P){md(t,P)}while(!0);return i&&t.shellSuspendCounter++,Kt=Fn=null,Ae=u,q.H=f,q.A=h,ve===null&&(Ie=null,Se=0,ho()),C}function fy(){for(;ve!==null;)gd(ve)}function dy(t,i){var s=Ae;Ae|=2;var u=pd(),f=hd();Ie!==t||Se!==i?(Jo=null,Oo=Vt()+500,Ui(t,i)):Di=Wi(t,i);e:do try{if(Me!==0&&ve!==null){i=ve;var h=vt;t:switch(Me){case 1:Me=0,vt=null,ki(t,i,h,1);break;case 2:case 9:if(Nc(h)){Me=0,vt=null,yd(i);break}i=function(){Me!==2&&Me!==9||Ie!==t||(Me=7),Bt(t)},h.then(i,i);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Nc(h)?(Me=0,vt=null,yd(i)):(Me=0,vt=null,ki(t,i,h,7));break;case 5:var C=null;switch(ve.tag){case 26:C=ve.memoizedState;case 5:case 27:var E=ve;if(!C||Wd(C)){Me=0,vt=null;var _=E.sibling;if(_!==null)ve=_;else{var w=E.return;w!==null?(ve=w,Xo(w)):ve=null}break t}}Me=0,vt=null,ki(t,i,h,5);break;case 6:Me=0,vt=null,ki(t,i,h,6);break;case 8:mr(),Ge=6;break e;default:throw Error(o(462))}}my();break}catch(P){md(t,P)}while(!0);return Kt=Fn=null,q.H=u,q.A=f,Ae=s,ve!==null?0:(Ie=null,Se=0,ho(),Ge)}function my(){for(;ve!==null&&!Lh();)gd(ve)}function gd(t){var i=zf(t.alternate,t,tn);t.memoizedProps=t.pendingProps,i===null?Xo(t):ve=i}function yd(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=qf(s,i,i.pendingProps,i.type,void 0,Se);break;case 11:i=qf(s,i,i.pendingProps,i.type.render,i.ref,Se);break;case 5:ba(i);default:Of(s,i),i=ve=yc(i,tn),i=zf(s,i,tn)}t.memoizedProps=t.pendingProps,i===null?Xo(t):ve=i}function ki(t,i,s,u){Kt=Fn=null,ba(i),Ai=null,Ml=0;var f=i.return;try{if(ny(t,f,i,s,Se)){Ge=1,Go(t,Et(s,t.current)),ve=null;return}}catch(h){if(f!==null)throw ve=f,h;Ge=1,Go(t,Et(s,t.current)),ve=null;return}i.flags&32768?(Ee||u===1?t=!0:Di||(Se&536870912)!==0?t=!1:(Tn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Nt.current,u!==null&&u.tag===13&&(u.flags|=16384))),vd(i,t)):Xo(i)}function Xo(t){var i=t;do{if((i.flags&32768)!==0){vd(i,Tn);return}t=i.return;var s=ly(i.alternate,i,tn);if(s!==null){ve=s;return}if(i=i.sibling,i!==null){ve=i;return}ve=i=t}while(i!==null);Ge===0&&(Ge=5)}function vd(t,i){do{var s=oy(t.alternate,t);if(s!==null){s.flags&=32767,ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ve=t;return}ve=t=s}while(t!==null);Ge=6,ve=null}function Td(t,i,s,u,f,h,C,E,_){t.cancelPendingCommit=null;do Qo();while(We!==0);if((Ae&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(h=i.lanes|i.childLanes,h|=oa,Oh(t,s,h,C,E,_),t===Ie&&(ve=Ie=null,Se=0),wi=i,xn=t,Ii=s,cr=h,fr=f,ud=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yy(jl,function(){return _d(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=Q.p,Q.p=2,C=Ae,Ae|=4;try{sy(t,i,s)}finally{Ae=C,Q.p=f,q.T=u}}We=1,Sd(),Cd(),xd()}}function Sd(){if(We===1){We=0;var t=xn,i=wi,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var u=Q.p;Q.p=2;var f=Ae;Ae|=4;try{nd(i,t);var h=Nr,C=ac(t.containerInfo),E=h.focusedElem,_=h.selectionRange;if(C!==E&&E&&E.ownerDocument&&sc(E.ownerDocument.documentElement,E)){if(_!==null&&ea(E)){var w=_.start,P=_.end;if(P===void 0&&(P=w),"selectionStart"in E)E.selectionStart=w,E.selectionEnd=Math.min(P,E.value.length);else{var B=E.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var k=U.getSelection(),ue=E.textContent.length,se=Math.min(_.start,ue),De=_.end===void 0?se:Math.min(_.end,ue);!k.extend&&se>De&&(C=De,De=se,se=C);var D=oc(E,se),N=oc(E,De);if(D&&N&&(k.rangeCount!==1||k.anchorNode!==D.node||k.anchorOffset!==D.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var b=B.createRange();b.setStart(D.node,D.offset),k.removeAllRanges(),se>De?(k.addRange(b),k.extend(N.node,N.offset)):(b.setEnd(N.node,N.offset),k.addRange(b))}}}}for(B=[],k=E;k=k.parentNode;)k.nodeType===1&&B.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<B.length;E++){var H=B[E];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}as=!!Mr,Nr=Mr=null}finally{Ae=f,Q.p=u,q.T=s}}t.current=i,We=2}}function Cd(){if(We===2){We=0;var t=xn,i=wi,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var u=Q.p;Q.p=2;var f=Ae;Ae|=4;try{Wf(t,i.alternate,i)}finally{Ae=f,Q.p=u,q.T=s}}We=3}}function xd(){if(We===4||We===3){We=0,Vh();var t=xn,i=wi,s=Ii,u=ud;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?We=5:(We=0,wi=xn=null,Ed(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Cn=null),Us(s),i=i.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Zi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=q.T,f=Q.p,Q.p=2,q.T=null;try{for(var h=t.onRecoverableError,C=0;C<u.length;C++){var E=u[C];h(E.value,{componentStack:E.stack})}}finally{q.T=i,Q.p=f}}(Ii&3)!==0&&Qo(),Bt(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===dr?Ll++:(Ll=0,dr=t):Ll=0,Vl(0)}}function Ed(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,hl(i)))}function Qo(t){return Sd(),Cd(),xd(),_d()}function _d(){if(We!==5)return!1;var t=xn,i=cr;cr=0;var s=Us(Ii),u=q.T,f=Q.p;try{Q.p=32>s?32:s,q.T=null,s=fr,fr=null;var h=xn,C=Ii;if(We=0,wi=xn=null,Ii=0,(Ae&6)!==0)throw Error(o(331));var E=Ae;if(Ae|=4,ad(h.current),ld(h,h.current,C,s),Ae=E,Vl(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Zi,h)}catch{}return!0}finally{Q.p=f,q.T=u,Ed(t,i)}}function Ad(t,i,s){i=Et(s,i),i=Ya(t.stateNode,i,2),t=dn(t,i,2),t!==null&&(ji(t,2),Bt(t))}function we(t,i,s){if(t.tag===3)Ad(t,t,s);else for(;i!==null;){if(i.tag===3){Ad(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cn===null||!Cn.has(u))){t=Et(s,t),s=Df(2),u=dn(i,s,2),u!==null&&(bf(s,u,i,t),ji(u,2),Bt(u));break}}i=i.return}}function gr(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new uy;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(s)||(sr=!0,f.add(s),t=py.bind(null,t,i,s),i.then(t,t))}function py(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ie===t&&(Se&s)===s&&(Ge===4||Ge===3&&(Se&62914560)===Se&&300>Vt()-ur?(Ae&2)===0&&Ui(t,0):ar|=s,bi===Se&&(bi=0)),Bt(t)}function Md(t,i){i===0&&(i=Cu()),t=hi(t,i),t!==null&&(ji(t,i),Bt(t))}function hy(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Md(t,s)}function gy(t,i){var s=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(i),Md(t,s)}function yy(t,i){return Ds(t,i)}var $o=null,Li=null,yr=!1,Zo=!1,vr=!1,Qn=0;function Bt(t){t!==Li&&t.next===null&&(Li===null?$o=Li=t:Li=Li.next=t),Zo=!0,yr||(yr=!0,Ty())}function Vl(t,i){if(!vr&&Zo){vr=!0;do for(var s=!1,u=$o;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var h=0;else{var C=u.suspendedLanes,E=u.pingedLanes;h=(1<<31-mt(42|t)+1)-1,h&=f&~(C&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,bd(u,h))}else h=Se,h=no(u,u===Ie?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||Wi(u,h)||(s=!0,bd(u,h));u=u.next}while(s);vr=!1}}function vy(){Nd()}function Nd(){Zo=yr=!1;var t=0;Qn!==0&&(Ny()&&(t=Qn),Qn=0);for(var i=Vt(),s=null,u=$o;u!==null;){var f=u.next,h=Rd(u,i);h===0?(u.next=null,s===null?$o=f:s.next=f,f===null&&(Li=s)):(s=u,(t!==0||(h&3)!==0)&&(Zo=!0)),u=f}Vl(t)}function Rd(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var C=31-mt(h),E=1<<C,_=f[C];_===-1?((E&s)===0||(E&u)!==0)&&(f[C]=Yh(E,i)):_<=i&&(t.expiredLanes|=E),h&=~E}if(i=Ie,s=Se,s=no(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&bs(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Wi(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&bs(u),Us(s)){case 2:case 8:s=vu;break;case 32:s=jl;break;case 268435456:s=Tu;break;default:s=jl}return u=Dd.bind(null,t),s=Ds(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&bs(u),t.callbackPriority=2,t.callbackNode=null,2}function Dd(t,i){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Qo()&&t.callbackNode!==s)return null;var u=Se;return u=no(t,t===Ie?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(fd(t,u,i),Rd(t,Vt()),t.callbackNode!=null&&t.callbackNode===s?Dd.bind(null,t):null)}function bd(t,i){if(Qo())return null;fd(t,i,!0)}function Ty(){Dy(function(){(Ae&6)!==0?Ds(yu,vy):Nd()})}function Tr(){return Qn===0&&(Qn=Su()),Qn}function wd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ao(""+t)}function Id(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Sy(t,i,s,u,f){if(i==="submit"&&s&&s.stateNode===f){var h=wd((f[st]||null).action),C=u.submitter;C&&(i=(i=C[st]||null)?wd(i.formAction):C.getAttribute("formAction"),i!==null&&(h=i,C=null));var E=new fo("action","action",null,u,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Qn!==0){var _=C?Id(f,C):new FormData(f);Ga(s,{pending:!0,data:_,method:f.method,action:h},null,_)}}else typeof h=="function"&&(E.preventDefault(),_=C?Id(f,C):new FormData(f),Ga(s,{pending:!0,data:_,method:f.method,action:h},h,_))},currentTarget:f}]})}}for(var Sr=0;Sr<la.length;Sr++){var Cr=la[Sr],Cy=Cr.toLowerCase(),xy=Cr[0].toUpperCase()+Cr.slice(1);wt(Cy,"on"+xy)}wt(cc,"onAnimationEnd"),wt(fc,"onAnimationIteration"),wt(dc,"onAnimationStart"),wt("dblclick","onDoubleClick"),wt("focusin","onFocus"),wt("focusout","onBlur"),wt(Gg,"onTransitionRun"),wt(Hg,"onTransitionStart"),wt(Bg,"onTransitionCancel"),wt(mc,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ey=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Ud(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],f=u.event;u=u.listeners;e:{var h=void 0;if(i)for(var C=u.length-1;0<=C;C--){var E=u[C],_=E.instance,w=E.currentTarget;if(E=E.listener,_!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=w;try{h(f)}catch(P){Po(P)}f.currentTarget=null,h=_}else for(C=0;C<u.length;C++){if(E=u[C],_=E.instance,w=E.currentTarget,E=E.listener,_!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=w;try{h(f)}catch(P){Po(P)}f.currentTarget=null,h=_}}}}function Te(t,i){var s=i[ks];s===void 0&&(s=i[ks]=new Set);var u=t+"__bubble";s.has(u)||(kd(i,t,2,!1),s.add(u))}function xr(t,i,s){var u=0;i&&(u|=4),kd(s,t,u,i)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Er(t){if(!t[Wo]){t[Wo]=!0,Mu.forEach(function(s){s!=="selectionchange"&&(Ey.has(s)||xr(s,!1,t),xr(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wo]||(i[Wo]=!0,xr("selectionchange",!1,i))}}function kd(t,i,s,u){switch(lm(i)){case 2:var f=$y;break;case 8:f=Zy;break;default:f=qr}s=f.bind(null,i,s,t),f=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function _r(t,i,s,u,f){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var E=u.stateNode.containerInfo;if(E===f)break;if(C===4)for(C=u.return;C!==null;){var _=C.tag;if((_===3||_===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;E!==null;){if(C=ni(E),C===null)return;if(_=C.tag,_===5||_===6||_===26||_===27){u=h=C;continue e}E=E.parentNode}}u=u.return}Hu(function(){var w=h,P=zs(s),B=[];e:{var U=pc.get(t);if(U!==void 0){var k=fo,ue=t;switch(t){case"keypress":if(uo(s)===0)break e;case"keydown":case"keyup":k=yg;break;case"focusin":ue="focus",k=Qs;break;case"focusout":ue="blur",k=Qs;break;case"beforeblur":case"afterblur":k=Qs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Sg;break;case cc:case fc:case dc:k=rg;break;case mc:k=xg;break;case"scroll":case"scrollend":k=ig;break;case"wheel":k=_g;break;case"copy":case"cut":case"paste":k=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ou;break;case"toggle":case"beforetoggle":k=Mg}var se=(i&4)!==0,De=!se&&(t==="scroll"||t==="scrollend"),D=se?U!==null?U+"Capture":null:U;se=[];for(var N=w,b;N!==null;){var H=N;if(b=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||b===null||D===null||(H=nl(N,D),H!=null&&se.push(Pl(N,H,b))),De)break;N=N.return}0<se.length&&(U=new k(U,ue,null,s,P),B.push({event:U,listeners:se}))}}if((i&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",U&&s!==Fs&&(ue=s.relatedTarget||s.fromElement)&&(ni(ue)||ue[ti]))break e;if((k||U)&&(U=P.window===P?P:(U=P.ownerDocument)?U.defaultView||U.parentWindow:window,k?(ue=s.relatedTarget||s.toElement,k=w,ue=ue?ni(ue):null,ue!==null&&(De=d(ue),se=ue.tag,ue!==De||se!==5&&se!==27&&se!==6)&&(ue=null)):(k=null,ue=w),k!==ue)){if(se=zu,H="onMouseLeave",D="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(se=Ou,H="onPointerLeave",D="onPointerEnter",N="pointer"),De=k==null?U:tl(k),b=ue==null?U:tl(ue),U=new se(H,N+"leave",k,s,P),U.target=De,U.relatedTarget=b,H=null,ni(P)===w&&(se=new se(D,N+"enter",ue,s,P),se.target=b,se.relatedTarget=De,H=se),De=H,k&&ue)t:{for(se=k,D=ue,N=0,b=se;b;b=Vi(b))N++;for(b=0,H=D;H;H=Vi(H))b++;for(;0<N-b;)se=Vi(se),N--;for(;0<b-N;)D=Vi(D),b--;for(;N--;){if(se===D||D!==null&&se===D.alternate)break t;se=Vi(se),D=Vi(D)}se=null}else se=null;k!==null&&Ld(B,U,k,se,!1),ue!==null&&De!==null&&Ld(B,De,ue,se,!0)}}e:{if(U=w?tl(w):window,k=U.nodeName&&U.nodeName.toLowerCase(),k==="select"||k==="input"&&U.type==="file")var ee=ju;else if(Zu(U))if(ec)ee=Vg;else{ee=kg;var ge=Ug}else k=U.nodeName,!k||k.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?w&&Bs(w.elementType)&&(ee=ju):ee=Lg;if(ee&&(ee=ee(t,w))){Wu(B,ee,s,P);break e}ge&&ge(t,U,w),t==="focusout"&&w&&U.type==="number"&&w.memoizedProps.value!=null&&Hs(U,"number",U.value)}switch(ge=w?tl(w):window,t){case"focusin":(Zu(ge)||ge.contentEditable==="true")&&(di=ge,ta=w,cl=null);break;case"focusout":cl=ta=di=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,rc(B,s,P);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":rc(B,s,P)}var ne;if(Zs)e:{switch(t){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else fi?Qu(t,s)&&(re="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(re="onCompositionStart");re&&(Ju&&s.locale!=="ko"&&(fi||re!=="onCompositionStart"?re==="onCompositionEnd"&&fi&&(ne=Bu()):(rn=P,Js="value"in rn?rn.value:rn.textContent,fi=!0)),ge=jo(w,re),0<ge.length&&(re=new Yu(re,t,null,s,P),B.push({event:re,listeners:ge}),ne?re.data=ne:(ne=$u(s),ne!==null&&(re.data=ne)))),(ne=Rg?Dg(t,s):bg(t,s))&&(re=jo(w,"onBeforeInput"),0<re.length&&(ge=new Yu("onBeforeInput","beforeinput",null,s,P),B.push({event:ge,listeners:re}),ge.data=ne)),Sy(B,t,w,s,P)}Ud(B,i)})}function Pl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function jo(t,i){for(var s=i+"Capture",u=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=nl(t,s),f!=null&&u.unshift(Pl(t,f,h)),f=nl(t,i),f!=null&&u.push(Pl(t,f,h))),t.tag===3)return u;t=t.return}return[]}function Vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ld(t,i,s,u,f){for(var h=i._reactName,C=[];s!==null&&s!==u;){var E=s,_=E.alternate,w=E.stateNode;if(E=E.tag,_!==null&&_===u)break;E!==5&&E!==26&&E!==27||w===null||(_=w,f?(w=nl(s,h),w!=null&&C.unshift(Pl(s,w,_))):f||(w=nl(s,h),w!=null&&C.push(Pl(s,w,_)))),s=s.return}C.length!==0&&t.push({event:i,listeners:C})}var _y=/\r\n?/g,Ay=/\u0000|\uFFFD/g;function Vd(t){return(typeof t=="string"?t:""+t).replace(_y,`
`).replace(Ay,"")}function qd(t,i){return i=Vd(i),Vd(t)===i}function es(){}function Re(t,i,s,u,f,h){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ri(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ri(t,""+u);break;case"className":lo(t,"class",u);break;case"tabIndex":lo(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":lo(t,s,u);break;case"style":Pu(t,u,h);break;case"data":if(i!=="object"){lo(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=ao(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(i!=="input"&&Re(t,i,"name",f.name,f,null),Re(t,i,"formEncType",f.formEncType,f,null),Re(t,i,"formMethod",f.formMethod,f,null),Re(t,i,"formTarget",f.formTarget,f,null)):(Re(t,i,"encType",f.encType,f,null),Re(t,i,"method",f.method,f,null),Re(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=ao(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=es);break;case"onScroll":u!=null&&Te("scroll",t);break;case"onScrollEnd":u!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=ao(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Te("beforetoggle",t),Te("toggle",t),io(t,"popover",u);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=tg.get(s)||s,io(t,s,u))}}function Ar(t,i,s,u,f,h){switch(s){case"style":Pu(t,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof u=="string"?ri(t,u):(typeof u=="number"||typeof u=="bigint")&&ri(t,""+u);break;case"onScroll":u!=null&&Te("scroll",t);break;case"onScrollEnd":u!=null&&Te("scrollend",t);break;case"onClick":u!=null&&(t.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nu.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),h=t[st]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(i,h,f),typeof u=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,f);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):io(t,s,u)}}}function je(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var u=!1,f=!1,h;for(h in s)if(s.hasOwnProperty(h)){var C=s[h];if(C!=null)switch(h){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Re(t,i,h,C,s,null)}}f&&Re(t,i,"srcSet",s.srcSet,s,null),u&&Re(t,i,"src",s.src,s,null);return;case"input":Te("invalid",t);var E=h=C=f=null,_=null,w=null;for(u in s)if(s.hasOwnProperty(u)){var P=s[u];if(P!=null)switch(u){case"name":f=P;break;case"type":C=P;break;case"checked":_=P;break;case"defaultChecked":w=P;break;case"value":h=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,i));break;default:Re(t,i,u,P,s,null)}}ku(t,h,E,_,w,C,f,!1),oo(t);return;case"select":Te("invalid",t),u=C=h=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":C=E;break;case"multiple":u=E;default:Re(t,i,f,E,s,null)}i=h,s=C,t.multiple=!!u,i!=null?ai(t,!!u,i,!1):s!=null&&ai(t,!!u,s,!0);return;case"textarea":Te("invalid",t),h=f=u=null;for(C in s)if(s.hasOwnProperty(C)&&(E=s[C],E!=null))switch(C){case"value":u=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(91));break;default:Re(t,i,C,E,s,null)}Vu(t,u,f,h),oo(t);return;case"option":for(_ in s)if(s.hasOwnProperty(_)&&(u=s[_],u!=null))switch(_){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Re(t,i,_,u,s,null)}return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(u=0;u<ql.length;u++)Te(ql[u],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in s)if(s.hasOwnProperty(w)&&(u=s[w],u!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Re(t,i,w,u,s,null)}return;default:if(Bs(i)){for(P in s)s.hasOwnProperty(P)&&(u=s[P],u!==void 0&&Ar(t,i,P,u,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(u=s[E],u!=null&&Re(t,i,E,u,s,null))}function My(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,C=null,E=null,_=null,w=null,P=null;for(k in s){var B=s[k];if(s.hasOwnProperty(k)&&B!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":_=B;default:u.hasOwnProperty(k)||Re(t,i,k,null,u,B)}}for(var U in u){var k=u[U];if(B=s[U],u.hasOwnProperty(U)&&(k!=null||B!=null))switch(U){case"type":h=k;break;case"name":f=k;break;case"checked":w=k;break;case"defaultChecked":P=k;break;case"value":C=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,i));break;default:k!==B&&Re(t,i,U,k,u,B)}}Gs(t,C,E,_,w,P,h,f);return;case"select":k=C=E=U=null;for(h in s)if(_=s[h],s.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":k=_;default:u.hasOwnProperty(h)||Re(t,i,h,null,u,_)}for(f in u)if(h=u[f],_=s[f],u.hasOwnProperty(f)&&(h!=null||_!=null))switch(f){case"value":U=h;break;case"defaultValue":E=h;break;case"multiple":C=h;default:h!==_&&Re(t,i,f,h,u,_)}i=E,s=C,u=k,U!=null?ai(t,!!s,U,!1):!!u!=!!s&&(i!=null?ai(t,!!s,i,!0):ai(t,!!s,s?[]:"",!1));return;case"textarea":k=U=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Re(t,i,E,null,u,f)}for(C in u)if(f=u[C],h=s[C],u.hasOwnProperty(C)&&(f!=null||h!=null))switch(C){case"value":U=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==h&&Re(t,i,C,f,u,h)}Lu(t,U,k);return;case"option":for(var ue in s)if(U=s[ue],s.hasOwnProperty(ue)&&U!=null&&!u.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Re(t,i,ue,null,u,U)}for(_ in u)if(U=u[_],k=s[_],u.hasOwnProperty(_)&&U!==k&&(U!=null||k!=null))switch(_){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Re(t,i,_,U,u,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in s)U=s[se],s.hasOwnProperty(se)&&U!=null&&!u.hasOwnProperty(se)&&Re(t,i,se,null,u,U);for(w in u)if(U=u[w],k=s[w],u.hasOwnProperty(w)&&U!==k&&(U!=null||k!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,i));break;default:Re(t,i,w,U,u,k)}return;default:if(Bs(i)){for(var De in s)U=s[De],s.hasOwnProperty(De)&&U!==void 0&&!u.hasOwnProperty(De)&&Ar(t,i,De,void 0,u,U);for(P in u)U=u[P],k=s[P],!u.hasOwnProperty(P)||U===k||U===void 0&&k===void 0||Ar(t,i,P,U,u,k);return}}for(var D in s)U=s[D],s.hasOwnProperty(D)&&U!=null&&!u.hasOwnProperty(D)&&Re(t,i,D,null,u,U);for(B in u)U=u[B],k=s[B],!u.hasOwnProperty(B)||U===k||U==null&&k==null||Re(t,i,B,U,u,k)}var Mr=null,Nr=null;function ts(t){return t.nodeType===9?t:t.ownerDocument}function Pd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dr=null;function Ny(){var t=window.event;return t&&t.type==="popstate"?t===Dr?!1:(Dr=t,!0):(Dr=null,!1)}var Hd=typeof setTimeout=="function"?setTimeout:void 0,Ry=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,Dy=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(t){return Bd.resolve(null).then(t).catch(by)}:Hd;function by(t){setTimeout(function(){throw t})}function _n(t){return t==="head"}function Fd(t,i){var s=i,u=0,f=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<u&&8>u){s=u;var C=t.ownerDocument;if(s&1&&Gl(C.documentElement),s&2&&Gl(C.body),s&4)for(s=C.head,Gl(s),C=s.firstChild;C;){var E=C.nextSibling,_=C.nodeName;C[el]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&C.rel.toLowerCase()==="stylesheet"||s.removeChild(C),C=E}}if(f===0){t.removeChild(h),Kl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:u=s.charCodeAt(0)-48;else u=0;s=h}while(s);Kl(i)}function br(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":br(s),Ls(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function wy(t,i,s,u){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[el])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Ut(t.nextSibling),t===null)break}return null}function Iy(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ut(t.nextSibling),t===null))return null;return t}function wr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Uy(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Ut(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ir=null;function zd(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function Yd(t,i,s){switch(i=ts(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ls(t)}var Dt=new Map,Od=new Set;function ns(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nn=Q.d;Q.d={f:ky,r:Ly,D:Vy,C:qy,L:Py,m:Gy,X:By,S:Hy,M:Fy};function ky(){var t=nn.f(),i=Ko();return t||i}function Ly(t){var i=ii(t);i!==null&&i.tag===5&&i.type==="form"?ff(i):nn.r(t)}var qi=typeof document>"u"?null:document;function Jd(t,i,s){var u=qi;if(u&&typeof i=="string"&&i){var f=xt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Od.has(f)||(Od.add(f),t={rel:t,crossOrigin:s,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),je(i,"link",t),Ke(i),u.head.appendChild(i)))}}function Vy(t){nn.D(t),Jd("dns-prefetch",t,null)}function qy(t,i){nn.C(t,i),Jd("preconnect",t,i)}function Py(t,i,s){nn.L(t,i,s);var u=qi;if(u&&t&&i){var f='link[rel="preload"][as="'+xt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+xt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+xt(s.imageSizes)+'"]')):f+='[href="'+xt(t)+'"]';var h=f;switch(i){case"style":h=Pi(t);break;case"script":h=Gi(t)}Dt.has(h)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Dt.set(h,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(Hl(h))||i==="script"&&u.querySelector(Bl(h))||(i=u.createElement("link"),je(i,"link",t),Ke(i),u.head.appendChild(i)))}}function Gy(t,i){nn.m(t,i);var s=qi;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+xt(u)+'"][href="'+xt(t)+'"]',h=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Gi(t)}if(!Dt.has(h)&&(t=v({rel:"modulepreload",href:t},i),Dt.set(h,t),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(h)))return}u=s.createElement("link"),je(u,"link",t),Ke(u),s.head.appendChild(u)}}}function Hy(t,i,s){nn.S(t,i,s);var u=qi;if(u&&t){var f=li(u).hoistableStyles,h=Pi(t);i=i||"default";var C=f.get(h);if(!C){var E={loading:0,preload:null};if(C=u.querySelector(Hl(h)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Dt.get(h))&&Ur(t,s);var _=C=u.createElement("link");Ke(_),je(_,"link",t),_._p=new Promise(function(w,P){_.onload=w,_.onerror=P}),_.addEventListener("load",function(){E.loading|=1}),_.addEventListener("error",function(){E.loading|=2}),E.loading|=4,is(C,i,u)}C={type:"stylesheet",instance:C,count:1,state:E},f.set(h,C)}}}function By(t,i){nn.X(t,i);var s=qi;if(s&&t){var u=li(s).hoistableScripts,f=Gi(t),h=u.get(f);h||(h=s.querySelector(Bl(f)),h||(t=v({src:t,async:!0},i),(i=Dt.get(f))&&kr(t,i),h=s.createElement("script"),Ke(h),je(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function Fy(t,i){nn.M(t,i);var s=qi;if(s&&t){var u=li(s).hoistableScripts,f=Gi(t),h=u.get(f);h||(h=s.querySelector(Bl(f)),h||(t=v({src:t,async:!0,type:"module"},i),(i=Dt.get(f))&&kr(t,i),h=s.createElement("script"),Ke(h),je(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(f,h))}}function Kd(t,i,s,u){var f=(f=ae.current)?ns(f):null;if(!f)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Pi(s.href),s=li(f).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Pi(s.href);var h=li(f).hoistableStyles,C=h.get(t);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,C),(h=f.querySelector(Hl(t)))&&!h._p&&(C.instance=h,C.state.loading=5),Dt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Dt.set(t,s),h||zy(f,t,s,C.state))),i&&u===null)throw Error(o(528,""));return C}if(i&&u!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Gi(s),s=li(f).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Pi(t){return'href="'+xt(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Xd(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function zy(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),je(i,"link",s),Ke(i),t.head.appendChild(i))}function Gi(t){return'[src="'+xt(t)+'"]'}function Bl(t){return"script[async]"+t}function Qd(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+xt(s.href)+'"]');if(u)return i.instance=u,Ke(u),u;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ke(u),je(u,"style",f),is(u,s.precedence,t),i.instance=u;case"stylesheet":f=Pi(s.href);var h=t.querySelector(Hl(f));if(h)return i.state.loading|=4,i.instance=h,Ke(h),h;u=Xd(s),(f=Dt.get(f))&&Ur(u,f),h=(t.ownerDocument||t).createElement("link"),Ke(h);var C=h;return C._p=new Promise(function(E,_){C.onload=E,C.onerror=_}),je(h,"link",u),i.state.loading|=4,is(h,s.precedence,t),i.instance=h;case"script":return h=Gi(s.src),(f=t.querySelector(Bl(h)))?(i.instance=f,Ke(f),f):(u=s,(f=Dt.get(h))&&(u=v({},s),kr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ke(f),je(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,is(u,s.precedence,t));return i.instance}function is(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,h=f,C=0;C<u.length;C++){var E=u[C];if(E.dataset.precedence===i)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Ur(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ls=null;function $d(t,i,s){if(ls===null){var u=new Map,f=ls=new Map;f.set(s,u)}else f=ls,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var h=s[f];if(!(h[el]||h[et]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var C=h.getAttribute(i)||"";C=t+C;var E=u.get(C);E?E.push(h):u.set(C,[h])}}return u}function Zd(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Yy(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fl=null;function Oy(){}function Jy(t,i,s){if(Fl===null)throw Error(o(475));var u=Fl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Pi(s.href),h=t.querySelector(Hl(f));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=os.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=h,Ke(h);return}h=t.ownerDocument||t,s=Xd(s),(f=Dt.get(f))&&Ur(s,f),h=h.createElement("link"),Ke(h);var C=h;C._p=new Promise(function(E,_){C.onload=E,C.onerror=_}),je(h,"link",s),i.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=os.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Ky(){if(Fl===null)throw Error(o(475));var t=Fl;return t.stylesheets&&t.count===0&&Lr(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Lr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function os(){if(this.count--,this.count===0){if(this.stylesheets)Lr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ss=null;function Lr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ss=new Map,i.forEach(Xy,t),ss=null,os.call(t))}function Xy(t,i){if(!(i.state.loading&4)){var s=ss.get(t);if(s)var u=s.get(null);else{s=new Map,ss.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var C=f[h];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),u=C)}u&&s.set(null,u)}f=i.instance,C=f.getAttribute("data-precedence"),h=s.get(C)||u,h===u&&s.set(null,f),s.set(C,f),this.count++,u=os.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Qy(t,i,s,u,f,h,C,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function jd(t,i,s,u,f,h,C,E,_,w,P,B){return t=new Qy(t,i,s,C,E,_,w,B),i=1,h===!0&&(i|=24),h=ht(3,null,null,i),t.current=h,h.stateNode=t,i=ga(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:s,cache:i},Sa(h),t}function em(t){return t?(t=gi,t):gi}function tm(t,i,s,u,f,h){f=em(f),u.context===null?u.context=f:u.pendingContext=f,u=fn(i),u.payload={element:s},h=h===void 0?null:h,h!==null&&(u.callback=h),s=dn(t,u,i),s!==null&&(St(s,t,i),Tl(s,t,i))}function nm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Vr(t,i){nm(t,i),(t=t.alternate)&&nm(t,i)}function im(t){if(t.tag===13){var i=hi(t,67108864);i!==null&&St(i,t,67108864),Vr(t,67108864)}}var as=!0;function $y(t,i,s,u){var f=q.T;q.T=null;var h=Q.p;try{Q.p=2,qr(t,i,s,u)}finally{Q.p=h,q.T=f}}function Zy(t,i,s,u){var f=q.T;q.T=null;var h=Q.p;try{Q.p=8,qr(t,i,s,u)}finally{Q.p=h,q.T=f}}function qr(t,i,s,u){if(as){var f=Pr(u);if(f===null)_r(t,i,u,rs,s),om(t,u);else if(jy(f,t,i,s,u))u.stopPropagation();else if(om(t,u),i&4&&-1<Wy.indexOf(t)){for(;f!==null;){var h=ii(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var C=In(h.pendingLanes);if(C!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var _=1<<31-mt(C);E.entanglements[1]|=_,C&=~_}Bt(h),(Ae&6)===0&&(Oo=Vt()+500,Vl(0))}}break;case 13:E=hi(h,2),E!==null&&St(E,h,2),Ko(),Vr(h,2)}if(h=Pr(u),h===null&&_r(t,i,u,rs,s),h===f)break;f=h}f!==null&&u.stopPropagation()}else _r(t,i,u,null,s)}}function Pr(t){return t=zs(t),Gr(t)}var rs=null;function Gr(t){if(rs=null,t=ni(t),t!==null){var i=d(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rs=t,null}function lm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qh()){case yu:return 2;case vu:return 8;case jl:case Ph:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var Hr=!1,An=null,Mn=null,Nn=null,Yl=new Map,Ol=new Map,Rn=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function om(t,i){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Jl(t,i,s,u,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:h,targetContainers:[f]},i!==null&&(i=ii(i),i!==null&&im(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function jy(t,i,s,u,f){switch(i){case"focusin":return An=Jl(An,t,i,s,u,f),!0;case"dragenter":return Mn=Jl(Mn,t,i,s,u,f),!0;case"mouseover":return Nn=Jl(Nn,t,i,s,u,f),!0;case"pointerover":var h=f.pointerId;return Yl.set(h,Jl(Yl.get(h)||null,t,i,s,u,f)),!0;case"gotpointercapture":return h=f.pointerId,Ol.set(h,Jl(Ol.get(h)||null,t,i,s,u,f)),!0}return!1}function sm(t){var i=ni(t.target);if(i!==null){var s=d(i);if(s!==null){if(i=s.tag,i===13){if(i=m(s),i!==null){t.blockedOn=i,Jh(t.priority,function(){if(s.tag===13){var u=Tt();u=Is(u);var f=hi(s,u);f!==null&&St(f,s,u),Vr(s,u)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Pr(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Fs=u,s.target.dispatchEvent(u),Fs=null}else return i=ii(s),i!==null&&im(i),t.blockedOn=s,!1;i.shift()}return!0}function am(t,i,s){us(t)&&s.delete(i)}function ev(){Hr=!1,An!==null&&us(An)&&(An=null),Mn!==null&&us(Mn)&&(Mn=null),Nn!==null&&us(Nn)&&(Nn=null),Yl.forEach(am),Ol.forEach(am)}function cs(t,i){t.blockedOn===i&&(t.blockedOn=null,Hr||(Hr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ev)))}var fs=null;function rm(t){fs!==t&&(fs=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fs===t&&(fs=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(Gr(u||s)===null)continue;break}var h=ii(s);h!==null&&(t.splice(i,3),i-=3,Ga(h,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function Kl(t){function i(_){return cs(_,t)}An!==null&&cs(An,t),Mn!==null&&cs(Mn,t),Nn!==null&&cs(Nn,t),Yl.forEach(i),Ol.forEach(i);for(var s=0;s<Rn.length;s++){var u=Rn[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Rn.length&&(s=Rn[0],s.blockedOn===null);)sm(s),s.blockedOn===null&&Rn.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],h=s[u+1],C=f[st]||null;if(typeof h=="function")C||rm(s);else if(C){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,C=h[st]||null)E=C.formAction;else if(Gr(f)!==null)continue}else E=C.action;typeof E=="function"?s[u+1]=E:(s.splice(u,3),u-=3),rm(s)}}}function Br(t){this._internalRoot=t}ds.prototype.render=Br.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,u=Tt();tm(s,u,t,i,null,null)},ds.prototype.unmount=Br.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;tm(t.current,2,null,t,null,null),Ko(),i[ti]=null}};function ds(t){this._internalRoot=t}ds.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Rn.length&&i!==0&&i<Rn[s].priority;s++);Rn.splice(s,0,t),s===0&&sm(t)}};var um=e.version;if(um!=="19.1.1")throw Error(o(527,um,"19.1.1"));Q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var tv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{Zi=ms.inject(tv),dt=ms}catch{}}return Ql.createRoot=function(t,i){if(!c(t))throw Error(o(299));var s=!1,u="",f=Af,h=Mf,C=Nf,E=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=jd(t,1,!1,null,null,s,u,f,h,C,E,null),t[ti]=i.current,Er(t),new Br(i)},Ql.hydrateRoot=function(t,i,s){if(!c(t))throw Error(o(299));var u=!1,f="",h=Af,C=Mf,E=Nf,_=null,w=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks),s.formState!==void 0&&(w=s.formState)),i=jd(t,1,!0,i,s??null,u,f,h,C,E,_,w),i.context=em(null),s=i.current,u=Tt(),u=Is(u),f=fn(u),f.callback=null,dn(s,f,u),s=u,i.current.lanes=s,ji(i,s),Bt(i),t[ti]=i.current,Er(t),new ds(i)},Ql.version="19.1.1",Ql}var Tm;function dv(){if(Tm)return Yr.exports;Tm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yr.exports=fv(),Yr.exports}var mv=dv();const pv=Qp(mv),bn=({children:n,className:e=""})=>T.jsx("div",{className:`flex flex-col gap-2 rounded-xl p-4 bg-[#1A1A1A] ${e}`,children:n}),Ss=({className:n})=>T.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M16.75 13.96c.25.13.43.2.5.33.07.13.07.55-.02.68-.09.13-1.06.9-1.22 1.03-.16.13-.33.13-.55.02-.22-.11-1.02-.37-1.93-1.18-.73-.63-1.22-1.32-1.35-1.55-.13-.22-.02-.35.09-.45.09-.09.22-.22.33-.33.11-.11.16-.18.22-.3.07-.11.02-.22-.02-.33-.04-.11-.55-1.32-.7-1.84-.16-.52-.33-.45-.45-.45-.11 0-.27 0-.4 0s-.35.02-.52.22c-.18.19-.7.68-.87 1.63-.16.95.04 1.91.22 2.15.18.25.92 1.46 2.22 2.03.33.16.59.25.8.33.38.13.73.11.99.07.29-.04.9-.37 1.03-.73.13-.35.13-.68.09-.75-.04-.07-.16-.11-.33-.22zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),$p=({className:n})=>T.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:[T.jsx("circle",{cx:"12",cy:"12",r:"3.2"}),T.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]}),hv=({className:n})=>T.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM16 18H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),Wn=({className:n})=>T.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Zp=V.createContext(void 0),gv=({children:n})=>{const[e,l]=V.useState(()=>{try{return localStorage.getItem("dukan-language")||"en"}catch{return"en"}}),[o,c]=V.useState({});V.useEffect(()=>{const y=async p=>{try{const v=await fetch(`/i18n/locales/${p}.json`);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const S=await v.json();c(S)}catch(v){console.error(`Could not load translations for ${p}`,v),p!=="en"&&await y("en")}};y(e)},[e]);const d=y=>{try{localStorage.setItem("dukan-language",y),l(y)}catch(p){console.error("Could not save language to localStorage",p)}},m=V.useCallback((y,p)=>{const v=o[y];return v===void 0?(console.warn(`Translation key "${y}" not found.`),y):p?Object.keys(p).reduce((S,x)=>S.replace(new RegExp(`{{${x}}}`,"g"),String(p[x])),v):v},[o]),g={language:e,setLanguage:d,t:m};return T.jsx(Zp.Provider,{value:g,children:Object.keys(o).length>0?n:null})},Ue=()=>{const n=V.useContext(Zp);if(n===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return n},yv=({isOpen:n,onClose:e})=>{const[l,o]=V.useState(!1),c=V.useRef(null),d=V.useRef(null),{t:m}=Ue();V.useEffect(()=>{const R=document.querySelector("main");return n?R==null||R.classList.add("overflow-hidden"):R==null||R.classList.remove("overflow-hidden"),()=>{R==null||R.classList.remove("overflow-hidden")}},[n]);const g=()=>{o(!0)},y=()=>{o(!1)},p=()=>{o(!1),e()},v=()=>{var R;(R=c.current)==null||R.click()},S=R=>{var G;const I=(G=R.target.files)==null?void 0:G[0];I&&(alert(`Selected CSV file: ${I.name}. Upload functionality would be implemented here.`),p()),R.target&&(R.target.value="")},x=()=>{var R;(R=d.current)==null||R.click()},A=R=>{var G;const I=(G=R.target.files)==null?void 0:G[0];I&&(alert(`Selected image: ${I.name}. Upload functionality would be implemented here.`),p()),R.target&&(R.target.value="")};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-30 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:p}),T.jsx("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl p-6 z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,children:l?T.jsxs("div",{className:"text-center",children:[T.jsx(Ss,{className:"w-12 h-12 text-[#25D366] mx-auto mb-4"}),T.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:m("whatsapp_ready_title")}),T.jsx("p",{className:"text-neutral-300 mb-6",children:m("whatsapp_ready_desc")}),T.jsx("a",{href:"https://wa.me",target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-[#25D366] text-white font-bold py-3 px-4 rounded-lg hover:bg-[#1EBE57] transition-colors",children:m("open_whatsapp")}),T.jsx("button",{onClick:y,className:"mt-4 text-sm font-semibold text-neutral-400 hover:text-white",children:m("back")})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-lg font-bold text-white",children:m("upload_data")}),T.jsx("button",{onClick:p,className:"text-neutral-400 hover:text-white",children:T.jsx(Wn,{className:"w-6 h-6"})})]}),T.jsxs("ul",{className:"space-y-3",children:[T.jsxs("li",{children:[T.jsxs("button",{onClick:x,className:"w-full flex items-center p-4 bg-[#2D2D2D] rounded-lg text-left hover:bg-opacity-80 transition-colors",children:[T.jsx($p,{className:"w-6 h-6 mr-4 text-[#E6E6FA]"}),T.jsx("span",{className:"font-semibold text-neutral-200",children:m("upload_photo_bill")})]}),T.jsx("input",{type:"file",ref:d,onChange:A,accept:"image/*",capture:"environment",className:"hidden"})]}),T.jsxs("li",{children:[T.jsxs("button",{onClick:v,className:"w-full flex items-center p-4 bg-[#2D2D2D] rounded-lg text-left hover:bg-opacity-80 transition-colors",children:[T.jsx(hv,{className:"w-6 h-6 mr-4 text-[#E6E6FA]"}),T.jsx("span",{className:"font-semibold text-neutral-200",children:m("upload_csv")})]}),T.jsx("input",{type:"file",ref:c,onChange:S,accept:".csv,text/csv",className:"hidden"})]}),T.jsx("li",{children:T.jsxs("button",{onClick:g,className:"w-full flex items-center p-4 bg-[#2D2D2D] rounded-lg text-left hover:bg-opacity-80 transition-colors",children:[T.jsx(Ss,{className:"w-6 h-6 mr-4 text-[#25D366]"}),T.jsx("span",{className:"font-semibold text-neutral-200",children:m("record_on_whatsapp")})]})})]})]})})]})},Sm=[{id:"prod1",name:"product_maggi",price:"₹96",stock:0,stockUnit:"packs",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1iA8T9T2B4zO_VtrJoSA0vQbbfxWd_2n-A&s"},{id:"prod2",name:"product_amul_milk",price:"₹68",stock:0,stockUnit:"cartons",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6y-n52J2bMMz0sA4D2HQzDXs2oKqv4i-pSQ&s"},{id:"prod3",name:"product_parle_g",price:"₹80",stock:0,stockUnit:"packs",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3Y8naCsO5Xg3A9D-M6h_3_4c-w-QjX_p4zQ&s"},{id:"prod4",name:"product_tata_salt",price:"₹28",stock:0,stockUnit:"packs",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-a6f9f-0J4p-W8yBf_2h2Kj9Z-J5Gq8r-g&s"}];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vv,Tv;function Sv(){return{geminiUrl:vv,vertexUrl:Tv}}function Cv(n,e,l,o){var c,d;if(!(n!=null&&n.baseUrl)){const m=Sv();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:l:(d=m.geminiUrl)!==null&&d!==void 0?d:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jn{}function j(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,l){for(let d=0;d<e.length-1;d++){const m=e[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(l))n[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(l))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(d+1),l[p])}else for(const p of y)r(p,e.slice(d+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(d+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const o=e[e.length-1],c=n[o];if(c!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===c)return;if(typeof c=="object"&&typeof l=="object"&&c!==null&&l!==null)Object.assign(c,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(n,l):n[o]=l}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const o=e[l];if(o.endsWith("[]")){const c=o.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(m=>a(m,e.slice(l+1))):void 0}else return}else n=n[o]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xv(n){const e={},l=a(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function Ev(n){const e={},l=a(n,["operationName"]);l!=null&&r(e,["operationName"],l);const o=a(n,["resourceName"]);o!=null&&r(e,["_url","resourceName"],o);const c=a(n,["config"]);return c!=null&&r(e,["config"],c),e}function _v(n){const e={},l=a(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function Av(n){const e={},l=a(n,["video","uri"]);l!=null&&r(e,["uri"],l);const o=a(n,["video","encodedVideo"]);o!=null&&r(e,["videoBytes"],uu(o));const c=a(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function Mv(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],Av(l)),e}function Nv(n){const e={},l=a(n,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Mv(m))),r(e,["generatedVideos"],d)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Rv(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],Nv(m)),e}function Dv(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["videoBytes"],uu(o));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function bv(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],Dv(l)),e}function wv(n){const e={},l=a(n,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>bv(m))),r(e,["generatedVideos"],d)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Iv(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response"]);return m!=null&&r(e,["response"],wv(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cm||(Cm={}));var xm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(xm||(xm={}));var wn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(wn||(wn={}));var Em;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Em||(Em={}));var _m;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(_m||(_m={}));var Am;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Am||(Am={}));var Mm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Mm||(Mm={}));var Nm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Nm||(Nm={}));var Rm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Rm||(Rm={}));var Dm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Dm||(Dm={}));var bm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(bm||(bm={}));var wm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(wm||(wm={}));var Im;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Im||(Im={}));var Um;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Um||(Um={}));var km;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(km||(km={}));var Cs;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Cs||(Cs={}));var Lm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lm||(Lm={}));var Wr;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wr||(Wr={}));var Vm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vm||(Vm={}));var qm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qm||(qm={}));var Pm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Pm||(Pm={}));var Gm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Gm||(Gm={}));var Hm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Hm||(Hm={}));var Bm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bm||(Bm={}));var Fm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Fm||(Fm={}));var zm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(zm||(zm={}));var Ym;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Ym||(Ym={}));var Om;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Om||(Om={}));var Jm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Jm||(Jm={}));var Km;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Km||(Km={}));var Xm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xm||(Xm={}));var Qm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qm||(Qm={}));var $m;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})($m||($m={}));var Zm;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Zm||(Zm={}));var Wm;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Wm||(Wm={}));var jm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(jm||(jm={}));var ep;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(ep||(ep={}));var tp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(tp||(tp={}));var np;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(np||(np={}));var ip;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ip||(ip={}));var lp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lp||(lp={}));var op;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(op||(op={}));var sp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(sp||(sp={}));var ap;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ap||(ap={}));var rp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(rp||(rp={}));var up;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(up||(up={}));var cp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(cp||(cp={}));var Bi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Bi||(Bi={}));class jr{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class $l{get text(){var e,l,o,c,d,m,g,y;if(((c=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const x of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,R]of Object.entries(x))A!=="text"&&A!=="thought"&&(R!==null||R!==void 0)&&S.push(A);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,p+=x.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,l,o,c,d,m,g,y;if(((c=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[x,A]of Object.entries(S))x!=="inlineData"&&(A!==null||A!==void 0)&&v.push(x);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,o,c,d,m,g,y;if(((c=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,o,c,d,m,g,y,p;if(((c=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,o,c,d,m,g,y,p;if(((c=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class fp{}class dp{}class Uv{}class kv{}class Lv{}class Vv{}class mp{}class pp{}class hp{}class qv{}class xs{_fromAPIResponse({apiResponse:e,isVertexAI:l}){const o=new xs;let c;const d=e;return l?c=Iv(d):c=Rv(d),Object.assign(o,c),o}}class gp{}class yp{}class vp{}class Pv{}class Gv{}class Hv{}class Tp{}class Bv{get text(){var e,l,o;let c="",d=!1;const m=[];for(const g of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,l,o;let c="";const d=[];for(const m of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Fv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Wp(n,e){const l=xe(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function jp(n){return Array.isArray(n)?n.map(e=>Es(e)):[Es(n)]}function Es(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function eh(n){const e=Es(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function th(n){const e=Es(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Sp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function nh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Sp(e)):[Sp(n)]}function eu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Cp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function xp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function it(n){if(n==null)throw new Error("ContentUnion is required");return eu(n)?n:{role:"user",parts:nh(n)}}function cu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=it(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=it(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>it(l)):[it(e)]}function bt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Cp(n)||xp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[it(n)]}const e=[],l=[],o=eu(n[0]);for(const c of n){const d=eu(c);if(d!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(Cp(c)||xp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(c)}}return o||e.push({role:"user",parts:nh(l)}),e}function zv(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(wn).includes(l[0].toUpperCase())?l[0].toUpperCase():wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(wn).includes(o.toUpperCase())?o.toUpperCase():wn.TYPE_UNSPECIFIED})}}function Fi(n){const e={},l=["items"],o=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&zv(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(wn).includes(g.toUpperCase())?g.toUpperCase():wn.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=Fi(g);else if(o.includes(m)){const y=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}y.push(Fi(p))}e[m]=y}else if(c.includes(m)){const y={};for(const[p,v]of Object.entries(g))y[p]=Fi(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function fu(n){return Fi(n)}function du(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function mu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Oi(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Fi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Fi(e.response));return n}function Ji(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function Yv(n,e,l,o=1){const c=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:c?`${l}/${e}`:e}function ln(n,e){if(typeof e!="string")throw new Error("name must be a string");return Yv(n,e,"cachedContents")}function ih(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ei(n){return uu(n)}function Ov(n){return n!=null&&typeof n=="object"&&"name"in n}function Jv(n){return n!=null&&typeof n=="object"&&"video"in n}function Kv(n){return n!=null&&typeof n=="object"&&"uri"in n}function lh(n){var e;let l;if(Ov(n)&&(l=n.name),!(Kv(n)&&(l=n.uri,l===void 0))&&!(Jv(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const c=l.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${l}`);l=c[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function oh(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function sh(n){for(const e of["models","tunedModels","publisherModels"])if(Xv(n,e))return n[e];return[]}function Xv(n,e){return n!==null&&typeof n=="object"&&e in n}function Qv(n,e={}){const l=n,o={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(o.responseJsonSchema=l.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function $v(n,e={}){const l=[],o=new Set;for(const c of n){const d=c.name;if(o.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);o.add(d);const m=Qv(c,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function ah(n,e){let l;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))l={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))l={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))l={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:e}}else l=e;const o=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,c=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(n.isVertexAI()){if(c>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||c!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function Zv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rh(n){if(typeof n!="object"||n===null)return{};const e=n,l=e.inlinedResponses;if(typeof l!="object"||l===null)return n;const c=l.inlinedResponses;if(!Array.isArray(c)||c.length===0)return n;let d=!1;for(const m of c){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ki(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function uh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wv(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function jv(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function eT(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function tT(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function nT(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Wv(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],jv(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],eT(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],tT(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function ch(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>nT(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function iT(n){const e={},l=a(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const o=a(n,["default"]);o!=null&&r(e,["default"],o);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=a(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const x=a(n,["maximum"]);x!=null&&r(e,["maximum"],x);const A=a(n,["minItems"]);A!=null&&r(e,["minItems"],A);const R=a(n,["minLength"]);R!=null&&r(e,["minLength"],R);const I=a(n,["minProperties"]);I!=null&&r(e,["minProperties"],I);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const K=a(n,["nullable"]);K!=null&&r(e,["nullable"],K);const z=a(n,["pattern"]);z!=null&&r(e,["pattern"],z);const Y=a(n,["properties"]);Y!=null&&r(e,["properties"],Y);const L=a(n,["propertyOrdering"]);L!=null&&r(e,["propertyOrdering"],L);const F=a(n,["required"]);F!=null&&r(e,["required"],F);const W=a(n,["title"]);W!=null&&r(e,["title"],W);const Z=a(n,["type"]);return Z!=null&&r(e,["type"],Z),e}function lT(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=a(n,["category"]);l!=null&&r(e,["category"],l);const o=a(n,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function oT(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function sT(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function aT(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],sT(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function rT(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function uT(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],rT(l)),e}function cT(){return{}}function fT(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function dT(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>oT(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],aT(o));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],uT(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],cT());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],fT(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function mT(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function pT(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function hT(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],pT(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function gT(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],mT(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],hT(o)),e}function yT(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function fh(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],yT(l)),e}function vT(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],fh(o)),e}function TT(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>vT(c))),r(e,["speakerVoiceConfigs"],o)}return e}function ST(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],fh(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],TT(o));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function CT(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function xT(n,e,l){const o={},c=a(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],ch(it(c)));const d=a(e,["temperature"]);d!=null&&r(o,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(o,["topP"],m);const g=a(e,["topK"]);g!=null&&r(o,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(o,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(o,["stopSequences"],v);const S=a(e,["responseLogprobs"]);S!=null&&r(o,["responseLogprobs"],S);const x=a(e,["logprobs"]);x!=null&&r(o,["logprobs"],x);const A=a(e,["presencePenalty"]);A!=null&&r(o,["presencePenalty"],A);const R=a(e,["frequencyPenalty"]);R!=null&&r(o,["frequencyPenalty"],R);const I=a(e,["seed"]);I!=null&&r(o,["seed"],I);const G=a(e,["responseMimeType"]);G!=null&&r(o,["responseMimeType"],G);const K=a(e,["responseSchema"]);K!=null&&r(o,["responseSchema"],iT(fu(K)));const z=a(e,["responseJsonSchema"]);if(z!=null&&r(o,["responseJsonSchema"],z),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=a(e,["safetySettings"]);if(l!==void 0&&Y!=null){let le=Y;Array.isArray(le)&&(le=le.map(me=>lT(me))),r(l,["safetySettings"],le)}const L=a(e,["tools"]);if(l!==void 0&&L!=null){let le=Ji(L);Array.isArray(le)&&(le=le.map(me=>dT(Oi(me)))),r(l,["tools"],le)}const F=a(e,["toolConfig"]);if(l!==void 0&&F!=null&&r(l,["toolConfig"],gT(F)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=a(e,["cachedContent"]);l!==void 0&&W!=null&&r(l,["cachedContent"],ln(n,W));const Z=a(e,["responseModalities"]);Z!=null&&r(o,["responseModalities"],Z);const ce=a(e,["mediaResolution"]);ce!=null&&r(o,["mediaResolution"],ce);const X=a(e,["speechConfig"]);if(X!=null&&r(o,["speechConfig"],ST(du(X))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=a(e,["thinkingConfig"]);return ie!=null&&r(o,["thinkingConfig"],CT(ie)),o}function ET(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["request","model"],xe(n,o));const c=a(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>ch(g))),r(l,["request","contents"],m)}const d=a(e,["config"]);return d!=null&&r(l,["request","generationConfig"],xT(n,d,l)),l}function _T(n,e){const l={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=a(e,["fileName"]);o!=null&&r(l,["fileName"],o);const c=a(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>ET(n,m))),r(l,["requests","requests"],d)}return l}function AT(n,e){const l={},o=a(n,["displayName"]);if(e!==void 0&&o!=null&&r(e,["batch","displayName"],o),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Xr(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["src"]);c!=null&&r(l,["batch","inputConfig"],_T(n,ah(n,c)));const d=a(e,["config"]);return d!=null&&r(l,["config"],AT(d,l)),l}function MT(n,e){const l={},o=a(n,["taskType"]);e!==void 0&&o!=null&&r(e,["requests[]","taskType"],o);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=a(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function NT(n,e){const l={},o=a(e,["contents"]);o!=null&&r(l,["requests[]","request","content"],cu(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],MT(c,l)),l}function RT(n,e){const l={},o=a(e,["fileName"]);o!=null&&r(l,["file_name"],o);const c=a(e,["inlinedRequests"]);return c!=null&&r(l,["requests"],NT(n,c)),l}function DT(n,e){const l={},o=a(n,["displayName"]);return e!==void 0&&o!=null&&r(e,["batch","displayName"],o),l}function Qr(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["src"]);c!=null&&r(l,["batch","inputConfig"],RT(n,c));const d=a(e,["config"]);return d!=null&&r(l,["config"],DT(d,l)),l}function bT(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],Ki(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function wT(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],Ki(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function IT(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const c=a(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function UT(n){const e={},l=a(n,["config"]);return l!=null&&r(e,["config"],IT(l,e)),e}function kT(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],Ki(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function LT(n){const e={},l=a(n,["format"]);l!=null&&r(e,["instancesFormat"],l);const o=a(n,["gcsUri"]);o!=null&&r(e,["gcsSource","uris"],o);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function VT(n){const e={},l=a(n,["format"]);l!=null&&r(e,["predictionsFormat"],l);const o=a(n,["gcsUri"]);o!=null&&r(e,["gcsDestination","outputUriPrefix"],o);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function qT(n,e){const l={},o=a(n,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const c=a(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],VT(Zv(c))),l}function PT(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["model"],xe(n,o));const c=a(e,["src"]);c!=null&&r(l,["inputConfig"],LT(ah(n,c)));const d=a(e,["config"]);return d!=null&&r(l,["config"],qT(d,l)),l}function GT(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],Ki(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function HT(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],Ki(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function BT(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function FT(n){const e={},l=a(n,["config"]);return l!=null&&r(e,["config"],BT(l,e)),e}function zT(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],Ki(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function YT(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function OT(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function JT(n){const e={},l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function KT(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function XT(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],YT(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],OT(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],JT(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],KT(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function QT(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>XT(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function $T(n){const e={},l=a(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function ZT(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function WT(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>ZT(c))),r(e,["urlMetadata"],o)}return e}function jT(n){const e={},l=a(n,["content"]);l!=null&&r(e,["content"],QT(l));const o=a(n,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],$T(o));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],WT(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=a(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function e0(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>jT(p))),r(e,["candidates"],y)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=a(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function pu(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["code"]);o!=null&&r(e,["code"],o);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function t0(n){const e={},l=a(n,["response"]);l!=null&&r(e,["response"],e0(l));const o=a(n,["error"]);return o!=null&&r(e,["error"],pu(o)),e}function n0(n){const e={},l=a(n,["values"]);return l!=null&&r(e,["values"],l),e}function i0(n){const e={},l=a(n,["embedding"]);l!=null&&r(e,["embedding"],n0(l));const o=a(n,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function l0(n){const e={},l=a(n,["response"]);l!=null&&r(e,["response"],i0(l));const o=a(n,["error"]);return o!=null&&r(e,["error"],pu(o)),e}function o0(n){const e={},l=a(n,["responsesFile"]);l!=null&&r(e,["fileName"],l);const o=a(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>t0(m))),r(e,["inlinedResponses"],d)}const c=a(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>l0(m))),r(e,["inlinedEmbedContentResponses"],d)}return e}function Hi(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata","displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["metadata","state"]);c!=null&&r(e,["state"],uh(c));const d=a(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=a(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=a(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=a(n,["metadata","output"]);return p!=null&&r(e,["dest"],o0(rh(p))),e}function s0(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Hi(m))),r(e,["batchJobs"],d)}return e}function a0(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);return d!=null&&r(e,["error"],pu(d)),e}function dh(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["code"]);o!=null&&r(e,["code"],o);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function r0(n){const e={},l=a(n,["instancesFormat"]);l!=null&&r(e,["format"],l);const o=a(n,["gcsSource","uris"]);o!=null&&r(e,["gcsUri"],o);const c=a(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function u0(n){const e={},l=a(n,["predictionsFormat"]);l!=null&&r(e,["format"],l);const o=a(n,["gcsDestination","outputUriPrefix"]);o!=null&&r(e,["gcsUri"],o);const c=a(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function tu(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["state"]);c!=null&&r(e,["state"],uh(c));const d=a(n,["error"]);d!=null&&r(e,["error"],dh(d));const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=a(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=a(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=a(n,["model"]);v!=null&&r(e,["model"],v);const S=a(n,["inputConfig"]);S!=null&&r(e,["src"],r0(S));const x=a(n,["outputConfig"]);return x!=null&&r(e,["dest"],u0(rh(x))),e}function c0(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>tu(m))),r(e,["batchJobs"],d)}return e}function f0(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);return d!=null&&r(e,["error"],dh(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Zn||(Zn={}));class Wl{constructor(e,l,o,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,c)}init(e,l,o){var c,d;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!o||Object.keys(o).length===0?m={config:{}}:typeof o=="object"?m=Object.assign({},o):m=o,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d0 extends jn{constructor(e){super(),this.apiClient=e,this.create=async l=>{var o,c;if(this.apiClient.isVertexAI())return l.config=this.formatDestination(l.src,l.config),this.createInternal(l);const d=l.src;if(!(Array.isArray(l.src)||d.inlinedRequests!==void 0))return this.createInternal(l);const g=this.createInlinedGenerateContentRequest(l),y=g.path,p=g.body,v=Xr(this.apiClient,l)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=l.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(c=l.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()).then(x=>Hi(x))},this.createEmbeddings=async l=>{var o,c;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(l.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(l);const g=this.createInlinedEmbedContentRequest(l),y=g.path,p=g.body,v=Qr(this.apiClient,l)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=l.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(c=l.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()).then(x=>Hi(x))},this.list=async(l={})=>new Wl(Zn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}createInlinedGenerateContentRequest(e){const l=Xr(this.apiClient,e),o=l._url,c=j("{model}:batchGenerateContent",o),g=l.batch.inputConfig.requests,y=g.requests,p=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const x=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=x,S.request=A}p.push(S)}return g.requests=p,delete l.config,delete l._url,delete l._query,{path:c,body:l}}createInlinedEmbedContentRequest(e){const l=Qr(this.apiClient,e),o=l._url,c=j("{model}:asyncBatchEmbedContent",o),g=l.batch.inputConfig.requests,y=g.requests,p=[];delete g.config;for(const v of y){const S=Object.assign({},v),x=S.request;for(const A in S)A!=="request"&&(x[A]=S[A],delete S[A]);p.push(S)}return g.requests=p,delete l.config,delete l._url,delete l._query,{path:c,body:l}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,l){const o=l?Object.assign({},l):{},c=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${c}`),o.dest===void 0){const d=this.getGcsUri(e),m=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?o.dest=`${d.slice(0,-6)}/dest`:o.dest=`${d}_dest_${c}`;else if(m)o.dest=`${m}_dest_${c}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=PT(this.apiClient,e);return g=j("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>tu(v))}else{const p=Xr(this.apiClient,e);return g=j("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Hi(v))}}async createEmbeddingsInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Qr(this.apiClient,e);return d=j("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>Hi(y))}}async get(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=GT(this.apiClient,e);return g=j("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>tu(v))}else{const p=bT(this.apiClient,e);return g=j("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Hi(v))}}async cancel(e){var l,o,c,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=HT(this.apiClient,e);m=j("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=wT(this.apiClient,e);m=j("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=FT(e);return g=j("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=c0(v),x=new Tp;return Object.assign(x,S),x})}else{const p=UT(e);return g=j("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=s0(v),x=new Tp;return Object.assign(x,S),x})}}async delete(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=zT(this.apiClient,e);return g=j("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>f0(v))}else{const p=kT(this.apiClient,e);return g=j("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>a0(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m0(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function p0(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function h0(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function g0(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function y0(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],m0(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],p0(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],h0(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],g0(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function Ep(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>y0(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function v0(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function T0(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function S0(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],T0(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function C0(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function x0(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],C0(l)),e}function E0(){return{}}function _0(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function A0(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>v0(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],S0(o));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],x0(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],E0());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],_0(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function M0(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function N0(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function R0(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],N0(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function D0(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],M0(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],R0(o)),e}function b0(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=a(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let v=bt(m);Array.isArray(v)&&(v=v.map(S=>Ep(S))),r(e,["contents"],v)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Ep(it(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>A0(S))),r(e,["tools"],v)}const p=a(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],D0(p)),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function w0(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["model"],Wp(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],b0(c,l)),l}function I0(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],ln(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function U0(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],ln(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function k0(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function L0(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],ln(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],k0(c,l)),l}function V0(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function q0(n){const e={},l=a(n,["config"]);return l!=null&&r(e,["config"],V0(l,e)),e}function P0(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function G0(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function H0(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function B0(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function F0(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],P0(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],G0(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],H0(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],B0(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function _p(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>F0(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function z0(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=a(n,["description"]);l!=null&&r(e,["description"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function Y0(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function O0(n){const e={},l=a(n,["timeRangeFilter"]);l!=null&&r(e,["timeRangeFilter"],Y0(l));const o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function J0(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function K0(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],J0(l)),e}function X0(n){const e={},l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function Q0(n){const e={},l=a(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function $0(n){const e={},l=a(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],Q0(l));const o=a(n,["authType"]);o!=null&&r(e,["authType"],o);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function Z0(n){const e={},l=a(n,["authConfig"]);return l!=null&&r(e,["authConfig"],$0(l)),e}function W0(){return{}}function j0(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function eS(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(x=>z0(x))),r(e,["functionDeclarations"],S)}const o=a(n,["retrieval"]);o!=null&&r(e,["retrieval"],o);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],O0(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],K0(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],X0(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],Z0(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],W0());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],j0(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function tS(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function nS(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function iS(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],nS(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function lS(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],tS(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],iS(o)),e}function oS(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=a(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let S=bt(m);Array.isArray(S)&&(S=S.map(x=>_p(x))),r(e,["contents"],S)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],_p(it(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(x=>eS(x))),r(e,["tools"],S)}const p=a(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],lS(p));const v=a(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),l}function sS(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["model"],Wp(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],oS(c,l)),l}function aS(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],ln(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function rS(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],ln(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function uS(n,e){const l={},o=a(n,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function cS(n,e){const l={},o=a(e,["name"]);o!=null&&r(l,["_url","name"],ln(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],uS(c,l)),l}function fS(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function dS(n){const e={},l=a(n,["config"]);return l!=null&&r(e,["config"],fS(l,e)),e}function vs(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function mS(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function pS(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>vs(m))),r(e,["cachedContents"],d)}return e}function Ts(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function hS(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function gS(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Ts(m))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yS extends jn{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new Wl(Zn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=sS(this.apiClient,e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Ts(v))}else{const p=w0(this.apiClient,e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vs(v))}}async get(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=aS(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Ts(v))}else{const p=I0(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vs(v))}}async delete(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=rS(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=hS(v),x=new yp;return Object.assign(x,S),x})}else{const p=U0(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=mS(v),x=new yp;return Object.assign(x,S),x})}}async update(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=cS(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Ts(v))}else{const p=L0(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>vs(v))}}async listInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=dS(e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=gS(v),x=new vp;return Object.assign(x,S),x})}else{const p=q0(e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=pS(v),x=new vp;return Object.assign(x,S),x})}}}function Ap(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(n){return this instanceof ke?(this.v=n,this):new ke(n)}function zi(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(A){return function(R){return Promise.resolve(R).then(A,S)}}function g(A,R){o[A]&&(c[A]=function(I){return new Promise(function(G,K){d.push([A,I,G,K])>1||y(A,I)})},R&&(c[A]=R(c[A])))}function y(A,R){try{p(o[A](R))}catch(I){x(d[0][3],I)}}function p(A){A.value instanceof ke?Promise.resolve(A.value.v).then(v,S):x(d[0][2],A)}function v(A){y("next",A)}function S(A){y("throw",A)}function x(A,R){A(R),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Zl(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Ap=="function"?Ap(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(d){l[d]=n[d]&&function(m){return new Promise(function(g,y){m=n[d](m),c(g,y,m.done,m.value)})}}function c(d,m,g,y){Promise.resolve(y).then(function(p){d({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:mh(l)}function mh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function TS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Mp(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const c=[];let d=!0;for(;o<l&&n[o].role==="model";)c.push(n[o]),d&&!mh(n[o])&&(d=!1),o++;d?e.push(...c):e.pop()}return e}class SS{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new CS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class CS{constructor(e,l,o,c={},d=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),TS(d)}async sendMessage(e){var l;await this.sendPromise;const o=it(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await c,p=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let x=[];v!=null&&(x=(g=v.slice(S))!==null&&g!==void 0?g:[]);const A=p?[p]:[];this.recordHistory(o,A,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var l;await this.sendPromise;const o=it(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,o)}getHistory(e=!1){const l=e?Mp(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var o,c;return zi(this,arguments,function*(){var m,g,y,p;const v=[];try{for(var S=!0,x=Zl(e),A;A=yield ke(x.next()),m=A.done,!m;S=!0){p=A.value,S=!1;const R=p;if(vS(R)){const I=(c=(o=R.candidates)===null||o===void 0?void 0:o[0])===null||c===void 0?void 0:c.content;I!==void 0&&v.push(I)}yield yield ke(R)}}catch(R){g={error:R}}finally{try{!S&&!m&&(y=x.return)&&(yield ke(y.call(x)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(e,l,o){let c=[];l.length>0&&l.every(d=>d.role!==void 0)?c=l:c.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Mp(o)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _s extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_s.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function ES(n){const e={},l=a(n,["config"]);return l!=null&&r(e,["config"],xS(l,e)),e}function _S(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["message"]);o!=null&&r(e,["message"],o);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function AS(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=a(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const S=a(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const x=a(n,["state"]);x!=null&&r(e,["state"],x);const A=a(n,["source"]);A!=null&&r(e,["source"],A);const R=a(n,["videoMetadata"]);R!=null&&r(e,["videoMetadata"],R);const I=a(n,["error"]);return I!=null&&r(e,["error"],_S(I)),e}function MS(n){const e={},l=a(n,["file"]);l!=null&&r(e,["file"],AS(l));const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function NS(n){const e={},l=a(n,["name"]);l!=null&&r(e,["_url","file"],lh(l));const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function RS(n){const e={},l=a(n,["name"]);l!=null&&r(e,["_url","file"],lh(l));const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function DS(n){const e={},l=a(n,["details"]);l!=null&&r(e,["details"],l);const o=a(n,["message"]);o!=null&&r(e,["message"],o);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function nu(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=a(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const S=a(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const x=a(n,["state"]);x!=null&&r(e,["state"],x);const A=a(n,["source"]);A!=null&&r(e,["source"],A);const R=a(n,["videoMetadata"]);R!=null&&r(e,["videoMetadata"],R);const I=a(n,["error"]);return I!=null&&r(e,["error"],DS(I)),e}function bS(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>nu(m))),r(e,["files"],d)}return e}function wS(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function IS(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class US extends jn{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new Wl(Zn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>nu(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ES(e);return d=j("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=bS(y),v=new Pv;return Object.assign(v,p),v})}}async createInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MS(e);return d=j("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>{const p=wS(y),v=new Gv;return Object.assign(v,p),v})}}async get(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NS(e);return d=j("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>nu(y))}}async delete(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RS(e);return d=j("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=IS(y),v=new Hv;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function ph(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],kS(l)),e}function LS(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],ph(o)),e}function VS(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>LS(c))),r(e,["speakerVoiceConfigs"],o)}return e}function qS(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],ph(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],VS(o));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function PS(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function GS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function HS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function BS(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function FS(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],PS(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],GS(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],HS(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],BS(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function zS(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>FS(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function YS(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function OS(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function JS(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],OS(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function KS(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function XS(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],KS(l)),e}function QS(){return{}}function $S(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function ZS(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>YS(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],JS(o));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],XS(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],QS());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],$S(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function WS(n){const e={},l=a(n,["handle"]);if(l!=null&&r(e,["handle"],l),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Np(){return{}}function jS(n){const e={},l=a(n,["disabled"]);l!=null&&r(e,["disabled"],l);const o=a(n,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function eC(n){const e={},l=a(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],jS(l));const o=a(n,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function tC(n){const e={},l=a(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function nC(n){const e={},l=a(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const o=a(n,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],tC(o)),e}function iC(n){const e={},l=a(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function lC(n,e){const l={},o=a(n,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=a(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],qS(mu(S)));const x=a(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const A=a(n,["systemInstruction"]);e!==void 0&&A!=null&&r(e,["setup","systemInstruction"],zS(it(A)));const R=a(n,["tools"]);if(e!==void 0&&R!=null){let F=Ji(R);Array.isArray(F)&&(F=F.map(W=>ZS(Oi(W)))),r(e,["setup","tools"],F)}const I=a(n,["sessionResumption"]);e!==void 0&&I!=null&&r(e,["setup","sessionResumption"],WS(I));const G=a(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&r(e,["setup","inputAudioTranscription"],Np());const K=a(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],Np());const z=a(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],eC(z));const Y=a(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],nC(Y));const L=a(n,["proactivity"]);return e!==void 0&&L!=null&&r(e,["setup","proactivity"],iC(L)),l}function oC(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["setup","model"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],lC(c,l)),l}function sC(){return{}}function aC(){return{}}function rC(n){const e={},l=a(n,["media"]);l!=null&&r(e,["mediaChunks"],jp(l));const o=a(n,["audio"]);o!=null&&r(e,["audio"],th(o));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=a(n,["video"]);d!=null&&r(e,["video"],eh(d));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],sC()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],aC()),e}function hh(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["weight"]);return o!=null&&r(e,["weight"],o),e}function uC(n){const e={},l=a(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>hh(c))),r(e,["weightedPrompts"],o)}return e}function gh(n){const e={},l=a(n,["temperature"]);l!=null&&r(e,["temperature"],l);const o=a(n,["topK"]);o!=null&&r(e,["topK"],o);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const d=a(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=a(n,["scale"]);p!=null&&r(e,["scale"],p);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=a(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const x=a(n,["onlyBassAndDrums"]);x!=null&&r(e,["onlyBassAndDrums"],x);const A=a(n,["musicGenerationMode"]);return A!=null&&r(e,["musicGenerationMode"],A),e}function cC(n){const e={},l=a(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],gh(l)),e}function yh(n){const e={},l=a(n,["model"]);return l!=null&&r(e,["model"],l),e}function vh(n){const e={},l=a(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>hh(c))),r(e,["weightedPrompts"],o)}return e}function iu(n){const e={},l=a(n,["setup"]);l!=null&&r(e,["setup"],yh(l));const o=a(n,["clientContent"]);o!=null&&r(e,["clientContent"],vh(o));const c=a(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],gh(c));const d=a(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function fC(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function dC(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],fC(l)),e}function mC(n){const e={},l=a(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],dC(l)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function pC(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function hC(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function gC(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function yC(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function vC(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],pC(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],hC(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],gC(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],yC(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function TC(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>vC(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function SC(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=a(n,["description"]);l!=null&&r(e,["description"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function CC(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function xC(n){const e={},l=a(n,["timeRangeFilter"]);l!=null&&r(e,["timeRangeFilter"],CC(l));const o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function EC(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function _C(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],EC(l)),e}function AC(n){const e={},l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function MC(n){const e={},l=a(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function NC(n){const e={},l=a(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],MC(l));const o=a(n,["authType"]);o!=null&&r(e,["authType"],o);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function RC(n){const e={},l=a(n,["authConfig"]);return l!=null&&r(e,["authConfig"],NC(l)),e}function DC(){return{}}function bC(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function wC(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(x=>SC(x))),r(e,["functionDeclarations"],S)}const o=a(n,["retrieval"]);o!=null&&r(e,["retrieval"],o);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],xC(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],_C(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],AC(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],RC(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],DC());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],bC(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function IC(n){const e={},l=a(n,["handle"]);l!=null&&r(e,["handle"],l);const o=a(n,["transparent"]);return o!=null&&r(e,["transparent"],o),e}function Rp(){return{}}function UC(n){const e={},l=a(n,["disabled"]);l!=null&&r(e,["disabled"],l);const o=a(n,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function kC(n){const e={},l=a(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],UC(l));const o=a(n,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function LC(n){const e={},l=a(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function VC(n){const e={},l=a(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const o=a(n,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],LC(o)),e}function qC(n){const e={},l=a(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function PC(n,e){const l={},o=a(n,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=a(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],mC(mu(S)));const x=a(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const A=a(n,["systemInstruction"]);e!==void 0&&A!=null&&r(e,["setup","systemInstruction"],TC(it(A)));const R=a(n,["tools"]);if(e!==void 0&&R!=null){let F=Ji(R);Array.isArray(F)&&(F=F.map(W=>wC(Oi(W)))),r(e,["setup","tools"],F)}const I=a(n,["sessionResumption"]);e!==void 0&&I!=null&&r(e,["setup","sessionResumption"],IC(I));const G=a(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&r(e,["setup","inputAudioTranscription"],Rp());const K=a(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],Rp());const z=a(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],kC(z));const Y=a(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],VC(Y));const L=a(n,["proactivity"]);return e!==void 0&&L!=null&&r(e,["setup","proactivity"],qC(L)),l}function GC(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["setup","model"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],PC(c,l)),l}function HC(){return{}}function BC(){return{}}function FC(n){const e={},l=a(n,["media"]);l!=null&&r(e,["mediaChunks"],jp(l));const o=a(n,["audio"]);o!=null&&r(e,["audio"],th(o));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=a(n,["video"]);d!=null&&r(e,["video"],eh(d));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],HC()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],BC()),e}function zC(){return{}}function YC(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function OC(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function JC(n){const e={},l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Th(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function KC(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],YC(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],OC(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],JC(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],Th(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function XC(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>KC(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function Dp(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["finished"]);return o!=null&&r(e,["finished"],o),e}function QC(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function $C(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>QC(c))),r(e,["urlMetadata"],o)}return e}function ZC(n){const e={},l=a(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],XC(l));const o=a(n,["turnComplete"]);o!=null&&r(e,["turnComplete"],o);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=a(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Dp(g));const y=a(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Dp(y));const p=a(n,["urlContextMetadata"]);p!=null&&r(e,["urlContextMetadata"],$C(p));const v=a(n,["turnCompleteReason"]);v!=null&&r(e,["turnCompleteReason"],v);const S=a(n,["waitingForInput"]);return S!=null&&r(e,["waitingForInput"],S),e}function WC(n){const e={},l=a(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Th(c))),r(e,["functionCalls"],o)}return e}function jC(n){const e={},l=a(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function ps(n){const e={},l=a(n,["modality"]);l!=null&&r(e,["modality"],l);const o=a(n,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function ex(n){const e={},l=a(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const o=a(n,["cachedContentTokenCount"]);o!=null&&r(e,["cachedContentTokenCount"],o);const c=a(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=a(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(A=>ps(A))),r(e,["promptTokensDetails"],x)}const p=a(n,["cacheTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(A=>ps(A))),r(e,["cacheTokensDetails"],x)}const v=a(n,["responseTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(A=>ps(A))),r(e,["responseTokensDetails"],x)}const S=a(n,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(A=>ps(A))),r(e,["toolUsePromptTokensDetails"],x)}return e}function tx(n){const e={},l=a(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function nx(n){const e={},l=a(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const o=a(n,["resumable"]);o!=null&&r(e,["resumable"],o);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function ix(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],zC());const o=a(n,["serverContent"]);o!=null&&r(e,["serverContent"],ZC(o));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],WC(c));const d=a(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],jC(d));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],ex(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],tx(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],nx(y)),e}function lx(){return{}}function ox(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["weight"]);return o!=null&&r(e,["weight"],o),e}function sx(n){const e={},l=a(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>ox(c))),r(e,["weightedPrompts"],o)}return e}function ax(n){const e={},l=a(n,["temperature"]);l!=null&&r(e,["temperature"],l);const o=a(n,["topK"]);o!=null&&r(e,["topK"],o);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const d=a(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=a(n,["scale"]);p!=null&&r(e,["scale"],p);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=a(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const x=a(n,["onlyBassAndDrums"]);x!=null&&r(e,["onlyBassAndDrums"],x);const A=a(n,["musicGenerationMode"]);return A!=null&&r(e,["musicGenerationMode"],A),e}function rx(n){const e={},l=a(n,["clientContent"]);l!=null&&r(e,["clientContent"],sx(l));const o=a(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],ax(o)),e}function ux(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);o!=null&&r(e,["mimeType"],o);const c=a(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],rx(c)),e}function cx(n){const e={},l=a(n,["audioChunks"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>ux(c))),r(e,["audioChunks"],o)}return e}function fx(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["filteredReason"]);return o!=null&&r(e,["filteredReason"],o),e}function dx(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],lx());const o=a(n,["serverContent"]);o!=null&&r(e,["serverContent"],cx(o));const c=a(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],fx(c)),e}function mx(n){const e={},l=a(n,["sessionId"]);return l!=null&&r(e,["sessionId"],l),e}function px(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function hx(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function gx(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Sh(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function yx(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],px(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],hx(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],gx(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],Sh(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function vx(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>yx(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function bp(n){const e={},l=a(n,["text"]);l!=null&&r(e,["text"],l);const o=a(n,["finished"]);return o!=null&&r(e,["finished"],o),e}function Tx(n){const e={},l=a(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],vx(l));const o=a(n,["turnComplete"]);o!=null&&r(e,["turnComplete"],o);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=a(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],bp(g));const y=a(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],bp(y));const p=a(n,["turnCompleteReason"]);p!=null&&r(e,["turnCompleteReason"],p);const v=a(n,["waitingForInput"]);return v!=null&&r(e,["waitingForInput"],v),e}function Sx(n){const e={},l=a(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Sh(c))),r(e,["functionCalls"],o)}return e}function Cx(n){const e={},l=a(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function hs(n){const e={},l=a(n,["modality"]);l!=null&&r(e,["modality"],l);const o=a(n,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function xx(n){const e={},l=a(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const o=a(n,["cachedContentTokenCount"]);o!=null&&r(e,["cachedContentTokenCount"],o);const c=a(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=a(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(R=>hs(R))),r(e,["promptTokensDetails"],A)}const p=a(n,["cacheTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(R=>hs(R))),r(e,["cacheTokensDetails"],A)}const v=a(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(R=>hs(R))),r(e,["responseTokensDetails"],A)}const S=a(n,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(R=>hs(R))),r(e,["toolUsePromptTokensDetails"],A)}const x=a(n,["trafficType"]);return x!=null&&r(e,["trafficType"],x),e}function Ex(n){const e={},l=a(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function _x(n){const e={},l=a(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const o=a(n,["resumable"]);o!=null&&r(e,["resumable"],o);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function Ax(n){const e={},l=a(n,["setupComplete"]);l!=null&&r(e,["setupComplete"],mx(l));const o=a(n,["serverContent"]);o!=null&&r(e,["serverContent"],Tx(o));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],Sx(c));const d=a(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],Cx(d));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],xx(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],Ex(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],_x(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Nx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Rx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Dx(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function bx(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Mx(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],Nx(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],Rx(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],Dx(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function As(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>bx(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function wx(n){const e={},l=a(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const o=a(n,["default"]);o!=null&&r(e,["default"],o);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=a(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const x=a(n,["maximum"]);x!=null&&r(e,["maximum"],x);const A=a(n,["minItems"]);A!=null&&r(e,["minItems"],A);const R=a(n,["minLength"]);R!=null&&r(e,["minLength"],R);const I=a(n,["minProperties"]);I!=null&&r(e,["minProperties"],I);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const K=a(n,["nullable"]);K!=null&&r(e,["nullable"],K);const z=a(n,["pattern"]);z!=null&&r(e,["pattern"],z);const Y=a(n,["properties"]);Y!=null&&r(e,["properties"],Y);const L=a(n,["propertyOrdering"]);L!=null&&r(e,["propertyOrdering"],L);const F=a(n,["required"]);F!=null&&r(e,["required"],F);const W=a(n,["title"]);W!=null&&r(e,["title"],W);const Z=a(n,["type"]);return Z!=null&&r(e,["type"],Z),e}function Ix(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=a(n,["category"]);l!=null&&r(e,["category"],l);const o=a(n,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function Ux(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function kx(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function Lx(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],kx(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Vx(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function qx(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],Vx(l)),e}function Px(){return{}}function Gx(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function Hx(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Ux(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],Lx(o));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],qx(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],Px());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],Gx(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function Bx(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function Fx(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function zx(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],Fx(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function Yx(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],Bx(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],zx(o)),e}function Ox(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function Ch(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],Ox(l)),e}function Jx(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],Ch(o)),e}function Kx(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Jx(c))),r(e,["speakerVoiceConfigs"],o)}return e}function Xx(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],Ch(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],Kx(o));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function Qx(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function $x(n,e,l){const o={},c=a(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],As(it(c)));const d=a(e,["temperature"]);d!=null&&r(o,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(o,["topP"],m);const g=a(e,["topK"]);g!=null&&r(o,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(o,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(o,["stopSequences"],v);const S=a(e,["responseLogprobs"]);S!=null&&r(o,["responseLogprobs"],S);const x=a(e,["logprobs"]);x!=null&&r(o,["logprobs"],x);const A=a(e,["presencePenalty"]);A!=null&&r(o,["presencePenalty"],A);const R=a(e,["frequencyPenalty"]);R!=null&&r(o,["frequencyPenalty"],R);const I=a(e,["seed"]);I!=null&&r(o,["seed"],I);const G=a(e,["responseMimeType"]);G!=null&&r(o,["responseMimeType"],G);const K=a(e,["responseSchema"]);K!=null&&r(o,["responseSchema"],wx(fu(K)));const z=a(e,["responseJsonSchema"]);if(z!=null&&r(o,["responseJsonSchema"],z),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=a(e,["safetySettings"]);if(l!==void 0&&Y!=null){let le=Y;Array.isArray(le)&&(le=le.map(me=>Ix(me))),r(l,["safetySettings"],le)}const L=a(e,["tools"]);if(l!==void 0&&L!=null){let le=Ji(L);Array.isArray(le)&&(le=le.map(me=>Hx(Oi(me)))),r(l,["tools"],le)}const F=a(e,["toolConfig"]);if(l!==void 0&&F!=null&&r(l,["toolConfig"],Yx(F)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=a(e,["cachedContent"]);l!==void 0&&W!=null&&r(l,["cachedContent"],ln(n,W));const Z=a(e,["responseModalities"]);Z!=null&&r(o,["responseModalities"],Z);const ce=a(e,["mediaResolution"]);ce!=null&&r(o,["mediaResolution"],ce);const X=a(e,["speechConfig"]);if(X!=null&&r(o,["speechConfig"],Xx(du(X))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=a(e,["thinkingConfig"]);return ie!=null&&r(o,["thinkingConfig"],Qx(ie)),o}function wp(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>As(g))),r(l,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(l,["generationConfig"],$x(n,d,l)),l}function Zx(n,e){const l={},o=a(n,["taskType"]);e!==void 0&&o!=null&&r(e,["requests[]","taskType"],o);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=a(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Wx(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["contents"]);c!=null&&r(l,["requests[]","content"],cu(n,c));const d=a(e,["config"]);d!=null&&r(l,["config"],Zx(d,l));const m=a(e,["model"]);return m!==void 0&&r(l,["requests[]","model"],xe(n,m)),l}function jx(n,e){const l={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=a(n,["numberOfImages"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const c=a(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=a(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=a(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=a(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=a(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=a(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=a(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const S=a(n,["outputMimeType"]);e!==void 0&&S!=null&&r(e,["parameters","outputOptions","mimeType"],S);const x=a(n,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&r(e,["parameters","outputOptions","compressionQuality"],x),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const A=a(n,["imageSize"]);if(e!==void 0&&A!=null&&r(e,["parameters","sampleImageSize"],A),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function eE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=a(e,["config"]);return d!=null&&r(l,["config"],jx(d,l)),l}function tE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","name"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function nE(n,e,l){const o={},c=a(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=a(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const m=a(e,["filter"]);l!==void 0&&m!=null&&r(l,["_query","filter"],m);const g=a(e,["queryBase"]);return l!==void 0&&g!=null&&r(l,["_url","models_url"],oh(n,g)),o}function iE(n,e){const l={},o=a(e,["config"]);return o!=null&&r(l,["config"],nE(n,o,l)),l}function lE(n,e){const l={},o=a(n,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=a(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function oE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","name"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],lE(c,l)),l}function sE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","name"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function aE(n){const e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function rE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>As(g))),r(l,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(l,["config"],aE(d)),l}function xh(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=a(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],ei(l));const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function uE(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const c=a(n,["image"]);if(e!==void 0&&c!=null&&r(e,["instances[0]","image"],xh(c)),a(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return l}function cE(n,e){const l={},o=a(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=a(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=a(n,["aspectRatio"]);e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d);const m=a(n,["resolution"]);e!==void 0&&m!=null&&r(e,["parameters","resolution"],m);const g=a(n,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=a(n,["negativePrompt"]);e!==void 0&&y!=null&&r(e,["parameters","negativePrompt"],y);const p=a(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&r(e,["parameters","enhancePrompt"],p),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(a(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function fE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=a(e,["image"]);if(d!=null&&r(l,["instances[0]","image"],xh(d)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=a(e,["source"]);m!=null&&r(l,["config"],uE(m,l));const g=a(e,["config"]);return g!=null&&r(l,["config"],cE(g,l)),l}function dE(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function mE(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function pE(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function hE(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function gE(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],dE(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],mE(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],pE(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],hE(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function Xi(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>gE(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function yE(n){const e={},l=a(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const o=a(n,["default"]);o!=null&&r(e,["default"],o);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["enum"]);d!=null&&r(e,["enum"],d);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=a(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const x=a(n,["maximum"]);x!=null&&r(e,["maximum"],x);const A=a(n,["minItems"]);A!=null&&r(e,["minItems"],A);const R=a(n,["minLength"]);R!=null&&r(e,["minLength"],R);const I=a(n,["minProperties"]);I!=null&&r(e,["minProperties"],I);const G=a(n,["minimum"]);G!=null&&r(e,["minimum"],G);const K=a(n,["nullable"]);K!=null&&r(e,["nullable"],K);const z=a(n,["pattern"]);z!=null&&r(e,["pattern"],z);const Y=a(n,["properties"]);Y!=null&&r(e,["properties"],Y);const L=a(n,["propertyOrdering"]);L!=null&&r(e,["propertyOrdering"],L);const F=a(n,["required"]);F!=null&&r(e,["required"],F);const W=a(n,["title"]);W!=null&&r(e,["title"],W);const Z=a(n,["type"]);return Z!=null&&r(e,["type"],Z),e}function vE(n){const e={},l=a(n,["featureSelectionPreference"]);return l!=null&&r(e,["featureSelectionPreference"],l),e}function TE(n){const e={},l=a(n,["method"]);l!=null&&r(e,["method"],l);const o=a(n,["category"]);o!=null&&r(e,["category"],o);const c=a(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function SE(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=a(n,["description"]);l!=null&&r(e,["description"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=a(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function CE(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function xE(n){const e={},l=a(n,["timeRangeFilter"]);l!=null&&r(e,["timeRangeFilter"],CE(l));const o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function EE(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function _E(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],EE(l)),e}function AE(n){const e={},l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function ME(n){const e={},l=a(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function NE(n){const e={},l=a(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],ME(l));const o=a(n,["authType"]);o!=null&&r(e,["authType"],o);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=a(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function RE(n){const e={},l=a(n,["authConfig"]);return l!=null&&r(e,["authConfig"],NE(l)),e}function DE(){return{}}function bE(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function Eh(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(x=>SE(x))),r(e,["functionDeclarations"],S)}const o=a(n,["retrieval"]);o!=null&&r(e,["retrieval"],o);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],xE(c));const d=a(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],_E(d));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],AE(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],RE(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],DE());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],bE(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function wE(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function IE(n){const e={},l=a(n,["latitude"]);l!=null&&r(e,["latitude"],l);const o=a(n,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function UE(n){const e={},l=a(n,["latLng"]);l!=null&&r(e,["latLng"],IE(l));const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function kE(n){const e={},l=a(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],wE(l));const o=a(n,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],UE(o)),e}function LE(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function VE(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],LE(l)),e}function qE(n){const e={},l=a(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],VE(l)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(n,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function PE(n){const e={},l=a(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const o=a(n,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function GE(n,e,l){const o={},c=a(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],Xi(it(c)));const d=a(e,["temperature"]);d!=null&&r(o,["temperature"],d);const m=a(e,["topP"]);m!=null&&r(o,["topP"],m);const g=a(e,["topK"]);g!=null&&r(o,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(o,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(o,["stopSequences"],v);const S=a(e,["responseLogprobs"]);S!=null&&r(o,["responseLogprobs"],S);const x=a(e,["logprobs"]);x!=null&&r(o,["logprobs"],x);const A=a(e,["presencePenalty"]);A!=null&&r(o,["presencePenalty"],A);const R=a(e,["frequencyPenalty"]);R!=null&&r(o,["frequencyPenalty"],R);const I=a(e,["seed"]);I!=null&&r(o,["seed"],I);const G=a(e,["responseMimeType"]);G!=null&&r(o,["responseMimeType"],G);const K=a(e,["responseSchema"]);K!=null&&r(o,["responseSchema"],yE(fu(K)));const z=a(e,["responseJsonSchema"]);z!=null&&r(o,["responseJsonSchema"],z);const Y=a(e,["routingConfig"]);Y!=null&&r(o,["routingConfig"],Y);const L=a(e,["modelSelectionConfig"]);L!=null&&r(o,["modelConfig"],vE(L));const F=a(e,["safetySettings"]);if(l!==void 0&&F!=null){let ye=F;Array.isArray(ye)&&(ye=ye.map(q=>TE(q))),r(l,["safetySettings"],ye)}const W=a(e,["tools"]);if(l!==void 0&&W!=null){let ye=Ji(W);Array.isArray(ye)&&(ye=ye.map(q=>Eh(Oi(q)))),r(l,["tools"],ye)}const Z=a(e,["toolConfig"]);l!==void 0&&Z!=null&&r(l,["toolConfig"],kE(Z));const ce=a(e,["labels"]);l!==void 0&&ce!=null&&r(l,["labels"],ce);const X=a(e,["cachedContent"]);l!==void 0&&X!=null&&r(l,["cachedContent"],ln(n,X));const ie=a(e,["responseModalities"]);ie!=null&&r(o,["responseModalities"],ie);const le=a(e,["mediaResolution"]);le!=null&&r(o,["mediaResolution"],le);const me=a(e,["speechConfig"]);me!=null&&r(o,["speechConfig"],qE(du(me)));const qe=a(e,["audioTimestamp"]);qe!=null&&r(o,["audioTimestamp"],qe);const Ye=a(e,["thinkingConfig"]);return Ye!=null&&r(o,["thinkingConfig"],PE(Ye)),o}function Ip(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>Xi(g))),r(l,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(l,["generationConfig"],GE(n,d,l)),l}function HE(n,e){const l={},o=a(n,["taskType"]);e!==void 0&&o!=null&&r(e,["instances[]","task_type"],o);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=a(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const m=a(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=a(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),l}function BE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["contents"]);c!=null&&r(l,["instances[]","content"],cu(n,c));const d=a(e,["config"]);return d!=null&&r(l,["config"],HE(d,l)),l}function FE(n,e){const l={},o=a(n,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=a(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=a(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=a(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const x=a(n,["includeRaiReason"]);e!==void 0&&x!=null&&r(e,["parameters","includeRaiReason"],x);const A=a(n,["language"]);e!==void 0&&A!=null&&r(e,["parameters","language"],A);const R=a(n,["outputMimeType"]);e!==void 0&&R!=null&&r(e,["parameters","outputOptions","mimeType"],R);const I=a(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","compressionQuality"],I);const G=a(n,["addWatermark"]);e!==void 0&&G!=null&&r(e,["parameters","addWatermark"],G);const K=a(n,["imageSize"]);e!==void 0&&K!=null&&r(e,["parameters","sampleImageSize"],K);const z=a(n,["enhancePrompt"]);return e!==void 0&&z!=null&&r(e,["parameters","enhancePrompt"],z),l}function zE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=a(e,["config"]);return d!=null&&r(l,["config"],FE(d,l)),l}function kt(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const o=a(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],ei(o));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function YE(n){const e={},l=a(n,["maskMode"]);l!=null&&r(e,["maskMode"],l);const o=a(n,["segmentationClasses"]);o!=null&&r(e,["maskClasses"],o);const c=a(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function OE(n){const e={},l=a(n,["controlType"]);l!=null&&r(e,["controlType"],l);const o=a(n,["enableControlImageComputation"]);return o!=null&&r(e,["computeControl"],o),e}function JE(n){const e={},l=a(n,["styleDescription"]);return l!=null&&r(e,["styleDescription"],l),e}function KE(n){const e={},l=a(n,["subjectType"]);l!=null&&r(e,["subjectType"],l);const o=a(n,["subjectDescription"]);return o!=null&&r(e,["subjectDescription"],o),e}function XE(n){const e={},l=a(n,["referenceImage"]);l!=null&&r(e,["referenceImage"],kt(l));const o=a(n,["referenceId"]);o!=null&&r(e,["referenceId"],o);const c=a(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=a(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],YE(d));const m=a(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],OE(m));const g=a(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],JE(g));const y=a(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],KE(y)),e}function QE(n,e){const l={},o=a(n,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=a(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=a(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=a(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const x=a(n,["includeRaiReason"]);e!==void 0&&x!=null&&r(e,["parameters","includeRaiReason"],x);const A=a(n,["language"]);e!==void 0&&A!=null&&r(e,["parameters","language"],A);const R=a(n,["outputMimeType"]);e!==void 0&&R!=null&&r(e,["parameters","outputOptions","mimeType"],R);const I=a(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","compressionQuality"],I);const G=a(n,["addWatermark"]);e!==void 0&&G!=null&&r(e,["parameters","addWatermark"],G);const K=a(n,["editMode"]);e!==void 0&&K!=null&&r(e,["parameters","editMode"],K);const z=a(n,["baseSteps"]);return e!==void 0&&z!=null&&r(e,["parameters","editConfig","baseSteps"],z),l}function $E(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=a(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>XE(y))),r(l,["instances[0]","referenceImages"],g)}const m=a(e,["config"]);return m!=null&&r(l,["config"],QE(m,l)),l}function ZE(n,e){const l={},o=a(n,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const c=a(n,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=a(n,["outputMimeType"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","mimeType"],d);const m=a(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m);const g=a(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const y=a(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const p=a(n,["numberOfImages"]);e!==void 0&&p!=null&&r(e,["parameters","sampleCount"],p);const v=a(n,["mode"]);return e!==void 0&&v!=null&&r(e,["parameters","mode"],v),l}function WE(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["image"]);c!=null&&r(l,["instances[0]","image"],kt(c));const d=a(e,["upscaleFactor"]);d!=null&&r(l,["parameters","upscaleConfig","upscaleFactor"],d);const m=a(e,["config"]);return m!=null&&r(l,["config"],ZE(m,l)),l}function jE(n){const e={},l=a(n,["productImage"]);return l!=null&&r(e,["image"],kt(l)),e}function e_(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const c=a(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],kt(c));const d=a(n,["productImages"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>jE(g))),r(e,["instances[0]","productImages"],m)}return l}function t_(n,e){const l={},o=a(n,["numberOfImages"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const c=a(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const d=a(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const m=a(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=a(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const p=a(n,["addWatermark"]);e!==void 0&&p!=null&&r(e,["parameters","addWatermark"],p);const v=a(n,["outputMimeType"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","mimeType"],v);const S=a(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S);const x=a(n,["enhancePrompt"]);return e!==void 0&&x!=null&&r(e,["parameters","enhancePrompt"],x),l}function n_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["source"]);c!=null&&r(l,["config"],e_(c,l));const d=a(e,["config"]);return d!=null&&r(l,["config"],t_(d,l)),l}function i_(n){const e={},l=a(n,["image"]);return l!=null&&r(e,["image"],kt(l)),e}function l_(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const c=a(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],kt(c));const d=a(n,["scribbleImage"]);return e!==void 0&&d!=null&&r(e,["instances[0]","scribble"],i_(d)),l}function o_(n,e){const l={},o=a(n,["mode"]);e!==void 0&&o!=null&&r(e,["parameters","mode"],o);const c=a(n,["maxPredictions"]);e!==void 0&&c!=null&&r(e,["parameters","maxPredictions"],c);const d=a(n,["confidenceThreshold"]);e!==void 0&&d!=null&&r(e,["parameters","confidenceThreshold"],d);const m=a(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const g=a(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&r(e,["parameters","binaryColorThreshold"],g),l}function s_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["source"]);c!=null&&r(l,["config"],l_(c,l));const d=a(e,["config"]);return d!=null&&r(l,["config"],o_(d,l)),l}function a_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","name"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function r_(n,e,l){const o={},c=a(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=a(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const m=a(e,["filter"]);l!==void 0&&m!=null&&r(l,["_query","filter"],m);const g=a(e,["queryBase"]);return l!==void 0&&g!=null&&r(l,["_url","models_url"],oh(n,g)),o}function u_(n,e){const l={},o=a(e,["config"]);return o!=null&&r(l,["config"],r_(n,o,l)),l}function c_(n,e){const l={},o=a(n,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=a(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function f_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c_(c,l)),l}function d_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","name"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],c),l}function m_(n,e){const l={},o=a(n,["systemInstruction"]);e!==void 0&&o!=null&&r(e,["systemInstruction"],Xi(it(o)));const c=a(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Eh(g))),r(e,["tools"],m)}const d=a(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),l}function p_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>Xi(g))),r(l,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(l,["config"],m_(d,l)),l}function h_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>Xi(g))),r(l,["contents"],m)}const d=a(e,["config"]);return d!=null&&r(l,["config"],d),l}function _h(n){const e={},l=a(n,["uri"]);l!=null&&r(e,["gcsUri"],l);const o=a(n,["videoBytes"]);o!=null&&r(e,["bytesBase64Encoded"],ei(o));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function g_(n,e){const l={},o=a(n,["prompt"]);e!==void 0&&o!=null&&r(e,["instances[0]","prompt"],o);const c=a(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],kt(c));const d=a(n,["video"]);return e!==void 0&&d!=null&&r(e,["instances[0]","video"],_h(d)),l}function y_(n){const e={},l=a(n,["image"]);l!=null&&r(e,["image"],kt(l));const o=a(n,["referenceType"]);return o!=null&&r(e,["referenceType"],o),e}function v_(n){const e={},l=a(n,["image"]);l!=null&&r(e,["_self"],kt(l));const o=a(n,["maskMode"]);return o!=null&&r(e,["maskMode"],o),e}function T_(n,e){const l={},o=a(n,["numberOfVideos"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const c=a(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=a(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const m=a(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=a(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=a(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=a(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=a(n,["pubsubTopic"]);e!==void 0&&S!=null&&r(e,["parameters","pubsubTopic"],S);const x=a(n,["negativePrompt"]);e!==void 0&&x!=null&&r(e,["parameters","negativePrompt"],x);const A=a(n,["enhancePrompt"]);e!==void 0&&A!=null&&r(e,["parameters","enhancePrompt"],A);const R=a(n,["generateAudio"]);e!==void 0&&R!=null&&r(e,["parameters","generateAudio"],R);const I=a(n,["lastFrame"]);e!==void 0&&I!=null&&r(e,["instances[0]","lastFrame"],kt(I));const G=a(n,["referenceImages"]);if(e!==void 0&&G!=null){let Y=G;Array.isArray(Y)&&(Y=Y.map(L=>y_(L))),r(e,["instances[0]","referenceImages"],Y)}const K=a(n,["mask"]);e!==void 0&&K!=null&&r(e,["instances[0]","mask"],v_(K));const z=a(n,["compressionQuality"]);return e!==void 0&&z!=null&&r(e,["parameters","compressionQuality"],z),l}function S_(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["_url","model"],xe(n,o));const c=a(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=a(e,["image"]);d!=null&&r(l,["instances[0]","image"],kt(d));const m=a(e,["video"]);m!=null&&r(l,["instances[0]","video"],_h(m));const g=a(e,["source"]);g!=null&&r(l,["config"],g_(g,l));const y=a(e,["config"]);return y!=null&&r(l,["config"],T_(y,l)),l}function C_(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function x_(n){const e={},l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function E_(n){const e={},l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function __(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function A_(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],C_(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],x_(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],E_(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],__(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function M_(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>A_(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function N_(n){const e={},l=a(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function R_(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function D_(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>R_(c))),r(e,["urlMetadata"],o)}return e}function b_(n){const e={},l=a(n,["content"]);l!=null&&r(e,["content"],M_(l));const o=a(n,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],N_(o));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],D_(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=a(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function Up(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>b_(p))),r(e,["candidates"],y)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=a(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function w_(n){const e={},l=a(n,["values"]);return l!=null&&r(e,["values"],l),e}function I_(){return{}}function U_(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["embeddings"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>w_(m))),r(e,["embeddings"],d)}return a(n,["metadata"])!=null&&r(e,["metadata"],I_()),e}function k_(n){const e={},l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],ei(l));const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ah(n){const e={},l=a(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const o=a(n,["safetyAttributes","scores"]);o!=null&&r(e,["scores"],o);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function L_(n){const e={},l=a(n,["_self"]);l!=null&&r(e,["image"],k_(l));const o=a(n,["raiFilteredReason"]);o!=null&&r(e,["raiFilteredReason"],o);const c=a(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],Ah(c)),e}function V_(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>L_(m))),r(e,["generatedImages"],d)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Ah(c)),e}function q_(n){const e={},l=a(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["createTime"]);o!=null&&r(e,["createTime"],o);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function lu(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["version"]);d!=null&&r(e,["version"],d);const m=a(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],q_(m));const g=a(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=a(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=a(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function P_(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["_self"]);if(c!=null){let d=sh(c);Array.isArray(d)&&(d=d.map(m=>lu(m))),r(e,["models"],d)}return e}function G_(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function H_(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["totalTokens"]);o!=null&&r(e,["totalTokens"],o);const c=a(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function B_(n){const e={},l=a(n,["video","uri"]);l!=null&&r(e,["uri"],l);const o=a(n,["video","encodedVideo"]);o!=null&&r(e,["videoBytes"],ei(o));const c=a(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function F_(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],B_(l)),e}function z_(n){const e={},l=a(n,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>F_(m))),r(e,["generatedVideos"],d)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Y_(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],z_(m)),e}function O_(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function J_(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["data"]);o!=null&&r(e,["data"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function K_(n){const e={},l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function X_(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function Q_(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],O_(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],J_(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],K_(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],X_(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function $_(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Q_(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function Z_(n){const e={},l=a(n,["citations"]);return l!=null&&r(e,["citations"],l),e}function W_(n){const e={},l=a(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const o=a(n,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function j_(n){const e={},l=a(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>W_(c))),r(e,["urlMetadata"],o)}return e}function eA(n){const e={},l=a(n,["content"]);l!=null&&r(e,["content"],$_(l));const o=a(n,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],Z_(o));const c=a(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=a(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],j_(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=a(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function kp(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>eA(v))),r(e,["candidates"],p)}const c=a(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=a(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const m=a(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=a(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function tA(n){const e={},l=a(n,["truncated"]);l!=null&&r(e,["truncated"],l);const o=a(n,["token_count"]);return o!=null&&r(e,["tokenCount"],o),e}function nA(n){const e={},l=a(n,["values"]);l!=null&&r(e,["values"],l);const o=a(n,["statistics"]);return o!=null&&r(e,["statistics"],tA(o)),e}function iA(n){const e={},l=a(n,["billableCharacterCount"]);return l!=null&&r(e,["billableCharacterCount"],l),e}function lA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions[]","embeddings"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>nA(m))),r(e,["embeddings"],d)}const c=a(n,["metadata"]);return c!=null&&r(e,["metadata"],iA(c)),e}function Mh(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],ei(o));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Nh(n){const e={},l=a(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const o=a(n,["safetyAttributes","scores"]);o!=null&&r(e,["scores"],o);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function Ms(n){const e={},l=a(n,["_self"]);l!=null&&r(e,["image"],Mh(l));const o=a(n,["raiFilteredReason"]);o!=null&&r(e,["raiFilteredReason"],o);const c=a(n,["_self"]);c!=null&&r(e,["safetyAttributes"],Nh(c));const d=a(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function oA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Ms(m))),r(e,["generatedImages"],d)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Nh(c)),e}function sA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Ms(d))),r(e,["generatedImages"],c)}return e}function aA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["predictions"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Ms(d))),r(e,["generatedImages"],c)}return e}function rA(n){const e={},l=a(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>Ms(c))),r(e,["generatedImages"],o)}return e}function uA(n){const e={},l=a(n,["label"]);l!=null&&r(e,["label"],l);const o=a(n,["score"]);return o!=null&&r(e,["score"],o),e}function cA(n){const e={},l=a(n,["_self"]);l!=null&&r(e,["mask"],Mh(l));const o=a(n,["labels"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>uA(d))),r(e,["labels"],c)}return e}function fA(n){const e={},l=a(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>cA(c))),r(e,["generatedMasks"],o)}return e}function dA(n){const e={},l=a(n,["endpoint"]);l!=null&&r(e,["name"],l);const o=a(n,["deployedModelId"]);return o!=null&&r(e,["deployedModelId"],o),e}function mA(n){const e={},l=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["createTime"]);o!=null&&r(e,["createTime"],o);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function pA(n){const e={},l=a(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const o=a(n,["epoch"]);o!=null&&r(e,["epoch"],o);const c=a(n,["step"]);return c!=null&&r(e,["step"],c),e}function ou(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const d=a(n,["versionId"]);d!=null&&r(e,["version"],d);const m=a(n,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(x=>dA(x))),r(e,["endpoints"],S)}const g=a(n,["labels"]);g!=null&&r(e,["labels"],g);const y=a(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],mA(y));const p=a(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=a(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>pA(x))),r(e,["checkpoints"],S)}return e}function hA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["_self"]);if(c!=null){let d=sh(c);Array.isArray(d)&&(d=d.map(m=>ou(m))),r(e,["models"],d)}return e}function gA(n){const e={},l=a(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function yA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["totalTokens"]);return o!=null&&r(e,["totalTokens"],o),e}function vA(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["tokensInfo"]);return o!=null&&r(e,["tokensInfo"],o),e}function TA(n){const e={},l=a(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["videoBytes"],ei(o));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function SA(n){const e={},l=a(n,["_self"]);return l!=null&&r(e,["video"],TA(l)),e}function CA(n){const e={},l=a(n,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>SA(m))),r(e,["generatedVideos"],d)}const o=a(n,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function xA(n){const e={},l=a(n,["name"]);l!=null&&r(e,["name"],l);const o=a(n,["metadata"]);o!=null&&r(e,["metadata"],o);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const d=a(n,["error"]);d!=null&&r(e,["error"],d);const m=a(n,["response"]);return m!=null&&r(e,["response"],CA(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EA="Content-Type",_A="X-Server-Timeout",AA="User-Agent",su="x-goog-api-client",MA="1.20.0",NA=`google-genai-sdk/${MA}`,RA="v1beta1",DA="v1beta",Lp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class bA{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:RA,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:DA,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const c=[this.getRequestUrlInternal(l)];return o&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))c.searchParams.append(m,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(l))typeof d=="object"?o[c]=Object.assign(Object.assign({},o[c]),d):d!==void 0&&(o[c]=d);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,o);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o){if(l&&l.timeout||o){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const m=setTimeout(()=>c.abort(),l.timeout);m&&typeof m.unref=="function"&&m.unref()}o&&o.addEventListener("abort",()=>{c.abort()}),e.signal=d}return l&&l.extraBody!==null&&wA(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async c=>(await Vp(c),new jr(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async c=>(await Vp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var l;return zi(this,arguments,function*(){const c=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield ke(c.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(y,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const x=JSON.parse(JSON.stringify(S.error)),A=x.status,R=x.code,I=`got status: ${A}. ${JSON.stringify(S)}`;if(R>=400&&R<600)throw new _s({message:I,status:R})}}catch(S){if(S.name==="ApiError")throw S}m+=p;let v=m.match(Lp);for(;v;){const S=v[1];try{const x=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ke(new jr(x)),m=m.slice(v[0].length),v=m.match(Lp)}catch(x){throw new Error(`exception parsing stream chunk ${S}. ${x}`)}}}}finally{c.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=NA+" "+this.clientOptions.userAgentExtra;return e[AA]=l,e[su]=l,e[EA]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[o,c]of Object.entries(e.headers))l.append(o,c);e.timeout&&e.timeout>0&&l.append(_A,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var o;const c={};l!=null&&(c.mimeType=l.mimeType,c.name=l.name,c.displayName=l.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,m=await d.stat(e);c.sizeBytes=String(m.size);const g=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,l);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var o;let c={};l!=null&&l.httpOptions?c=l.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},m=await this.request({path:j("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Vp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(o);throw l>=400&&l<600?new _s({message:c,status:l}):new Error(c)}}function wA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const c=o(l,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IA="mcp_used/unknown";let UA=!1;function Rh(n){for(const e of n)if(kA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return UA}function Dh(n){var e;const l=(e=n[su])!==null&&e!==void 0?e:"";n[su]=(l+` ${IA}`).trimStart()}function kA(n){return n!==null&&typeof n=="object"&&n instanceof hu}function LA(n,e=100){return zi(this,arguments,function*(){let o,c=0;for(;c<e;){const d=yield ke(n.listTools({cursor:o}));for(const m of d.tools)yield yield ke(m),c++;if(!d.nextCursor)break;o=d.nextCursor}})}class hu{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new hu(e,l)}async initialize(){var e,l,o,c;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,Zl(LA(v))),p;p=await y.next(),e=p.done,!e;g=!0){c=p.value,g=!1;const S=c;m.push(S);const x=S.name;if(d[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);d[x]=v}}catch(S){l={error:S}}finally{try{!g&&!e&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),$v(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[o.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await c.callTool({name:o.name,arguments:o.args},void 0,d);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VA(n,e,l){const o=new Fv;let c;l.data instanceof Blob?c=JSON.parse(await l.data.text()):c=JSON.parse(l.data);const d=dx(c);Object.assign(o,d),e(o)}class qA{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=HA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(Y=>{p=Y}),S=e.callbacks,x=function(){p({})},A=this.apiClient,R={onopen:x,onmessage:Y=>{VA(A,S.onmessage,Y)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(Y){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(Y){}},I=this.webSocketFactory.create(y,GA(m),R);I.connect(),await v;const G=xe(this.apiClient,e.model),K=yh({model:G}),z=iu({setup:K});return I.send(JSON.stringify(z)),new PA(I,this.apiClient)}}class PA{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=uC(e),o=vh(l);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=cC(e),o=iu(l);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const l=iu({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Bi.PLAY)}pause(){this.sendPlaybackControl(Bi.PAUSE)}stop(){this.sendPlaybackControl(Bi.STOP)}resetContext(){this.sendPlaybackControl(Bi.RESET_CONTEXT)}close(){this.conn.close()}}function GA(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function HA(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FA(n,e,l){const o=new Bv;let c;l.data instanceof Blob?c=await l.data.text():l.data instanceof ArrayBuffer?c=new TextDecoder().decode(l.data):c=l.data;const d=JSON.parse(c);if(n.isVertexAI()){const m=Ax(d);Object.assign(o,m)}else{const m=ix(d);Object.assign(o,m)}e(o)}class zA{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new qA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,c,d,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&Rh(e.config.tools)&&Dh(S);const x=KA(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const X=this.apiClient.getApiKey();let ie="BidiGenerateContent",le="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",le="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ie}?${le}=${X}`}let A=()=>{};const R=new Promise(X=>{A=X}),I=e.callbacks,G=function(){var X;(X=I==null?void 0:I.onopen)===null||X===void 0||X.call(I),A({})},K=this.apiClient,z={onopen:G,onmessage:X=>{FA(K,I.onmessage,X)},onerror:(l=I==null?void 0:I.onerror)!==null&&l!==void 0?l:function(X){},onclose:(o=I==null?void 0:I.onclose)!==null&&o!==void 0?o:function(X){}},Y=this.webSocketFactory.create(v,JA(x),z);Y.connect(),await R;let L=xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const X=this.apiClient.getProject(),ie=this.apiClient.getLocation();L=`projects/${X}/locations/${ie}/`+L}let F={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Cs.AUDIO]}:e.config.responseModalities=[Cs.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Z=[];for(const X of W)if(this.isCallableTool(X)){const ie=X;Z.push(await ie.tool())}else Z.push(X);Z.length>0&&(e.config.tools=Z);const ce={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=GC(this.apiClient,ce):F=oC(this.apiClient,ce),delete F.config,Y.send(JSON.stringify(F)),new OA(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const YA={turnComplete:!0};class OA{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=bt(l.turns),e.isVertexAI()?o=o.map(c=>Xi(c)):o=o.map(c=>As(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const d of o){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(BA)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},YA),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:FC(e)}:l={realtimeInput:rC(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function JA(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function KA(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qp=10;function Pp(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(Yi(m)){c=!0;break}if(!c)return!0;const d=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Yi(n){return"callTool"in n&&typeof n.callTool=="function"}function XA(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>Yi(c)))!==null&&o!==void 0?o:!1}function QA(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>!Yi(c)))!==null&&o!==void 0?o:!1}function Gp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $A extends jn{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,c,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!XA(l)||Pp(l.config))return await this.generateContentInternal(y);if(QA(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const S=bt(y.contents),x=(d=(c=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:qp;let A=0;for(;A<x&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const R=p.candidates[0].content,I=[];for(const G of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Yi(G)){const z=await G.callTool(p.functionCalls);I.push(...z)}A++,v={role:"user",parts:I},y.contents=bt(y.contents),y.contents.push(R),y.contents.push(v),Gp(y.config)&&(S.push(R),S.push(v))}return Gp(y.config)&&(p.automaticFunctionCallingHistory=S),p},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),Pp(l.config)){const o=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var c;let d;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:o.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:o.sdkHttpResponse},g}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Wl(Zn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const c={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(c)},this.generateVideos=async l=>{if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var l,o,c;const d=(l=e.config)===null||l===void 0?void 0:l.tools;if(!d)return e;const m=await Promise.all(d.map(async y=>Yi(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&Rh(e.config.tools)){const y=(c=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Dh(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var l,o,c;const d=new Map;for(const m of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(Yi(m)){const g=m,y=await g.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,g)}}return d}async processAfcStream(e){var l,o,c;const d=(c=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&c!==void 0?c:qp;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(p,v,S){var x,A;return zi(this,arguments,function*(){for(var R,I,G,K;g<d;){m&&(g++,m=!1);const F=yield ke(p.processParamsMaybeAddMcpUsage(S)),W=yield ke(p.generateContentStreamInternal(F)),Z=[],ce=[];try{for(var z=!0,Y=(I=void 0,Zl(W)),L;L=yield ke(Y.next()),R=L.done,!R;z=!0){K=L.value,z=!1;const X=K;if(yield yield ke(X),X.candidates&&(!((x=X.candidates[0])===null||x===void 0)&&x.content)){ce.push(X.candidates[0].content);for(const ie of(A=X.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(g<d&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ie.functionCall.name)){const le=yield ke(v.get(ie.functionCall.name).callTool([ie.functionCall]));Z.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(X){I={error:X}}finally{try{!z&&!R&&(G=Y.return)&&(yield ke(G.call(Y)))}finally{if(I)throw I.error}}if(Z.length>0){m=!0;const X=new $l;X.candidates=[{content:{role:"user",parts:Z}}],yield yield ke(X);const ie=[];ie.push(...ce),ie.push({role:"user",parts:Z});const le=bt(S.contents).concat(ie);S.contents=le}else break}})})(this,y,e)}async generateContentInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Ip(this.apiClient,e);return g=j("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=kp(v),x=new $l;return Object.assign(x,S),x})}else{const p=wp(this.apiClient,e);return g=j("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=Up(v),x=new $l;return Object.assign(x,S),x})}}async generateContentStreamInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Ip(this.apiClient,e);return g=j("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(S){return zi(this,arguments,function*(){var x,A,R,I;try{for(var G=!0,K=Zl(S),z;z=yield ke(K.next()),x=z.done,!x;G=!0){I=z.value,G=!1;const Y=I,L=kp(yield ke(Y.json()));L.sdkHttpResponse={headers:Y.headers};const F=new $l;Object.assign(F,L),yield yield ke(F)}}catch(Y){A={error:Y}}finally{try{!G&&!x&&(R=K.return)&&(yield ke(R.call(K)))}finally{if(A)throw A.error}}})})}else{const p=wp(this.apiClient,e);return g=j("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(S){return zi(this,arguments,function*(){var x,A,R,I;try{for(var G=!0,K=Zl(S),z;z=yield ke(K.next()),x=z.done,!x;G=!0){I=z.value,G=!1;const Y=I,L=Up(yield ke(Y.json()));L.sdkHttpResponse={headers:Y.headers};const F=new $l;Object.assign(F,L),yield yield ke(F)}}catch(Y){A={error:Y}}finally{try{!G&&!x&&(R=K.return)&&(yield ke(R.call(K)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=BE(this.apiClient,e);return g=j("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=lA(v),x=new fp;return Object.assign(x,S),x})}else{const p=Wx(this.apiClient,e);return g=j("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=U_(v),x=new fp;return Object.assign(x,S),x})}}async generateImagesInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=zE(this.apiClient,e);return g=j("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=oA(v),x=new dp;return Object.assign(x,S),x})}else{const p=eE(this.apiClient,e);return g=j("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=V_(v),x=new dp;return Object.assign(x,S),x})}}async editImageInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=$E(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=sA(y),v=new Uv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=aA(y),v=new kv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=n_(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>{const p=rA(y),v=new Lv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=s_(this.apiClient,e);return d=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>{const p=fA(y),v=new Vv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=a_(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}else{const p=tE(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}}async listInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=u_(this.apiClient,e);return g=j("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=hA(v),x=new mp;return Object.assign(x,S),x})}else{const p=iE(this.apiClient,e);return g=j("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=P_(v),x=new mp;return Object.assign(x,S),x})}}async update(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=f_(this.apiClient,e);return g=j("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}else{const p=oE(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}}async delete(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=d_(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=gA(v),x=new pp;return Object.assign(x,S),x})}else{const p=sE(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=G_(v),x=new pp;return Object.assign(x,S),x})}}async countTokens(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=p_(this.apiClient,e);return g=j("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=yA(v),x=new hp;return Object.assign(x,S),x})}else{const p=rE(this.apiClient,e);return g=j("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=H_(v),x=new hp;return Object.assign(x,S),x})}}async computeTokens(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=h_(this.apiClient,e);return d=j("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=vA(y),v=new qv;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=S_(this.apiClient,e);return g=j("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const S=xA(v),x=new xs;return Object.assign(x,S),x})}else{const p=fE(this.apiClient,e);return g=j("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const S=Y_(v),x=new xs;return Object.assign(x,S),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZA extends jn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=l.name.split("/operations/")[0];let d;o&&"httpOptions"in o&&(d=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:c,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=l.name.split("/operations/")[0];let d;o&&"httpOptions"in o&&(d=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:c,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=_v(e);return g=j("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m}else{const p=xv(e);return g=j("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=Ev(e);return d=j("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WA(n){const e={},l=a(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function bh(n){const e={},l=a(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],WA(l)),e}function jA(n){const e={},l=a(n,["speaker"]);l!=null&&r(e,["speaker"],l);const o=a(n,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],bh(o)),e}function eM(n){const e={},l=a(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>jA(c))),r(e,["speakerVoiceConfigs"],o)}return e}function tM(n){const e={},l=a(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],bh(l));const o=a(n,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],eM(o));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function nM(n){const e={},l=a(n,["fps"]);l!=null&&r(e,["fps"],l);const o=a(n,["endOffset"]);o!=null&&r(e,["endOffset"],o);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function iM(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["data"]);l!=null&&r(e,["data"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function lM(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const o=a(n,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function oM(n){const e={},l=a(n,["id"]);l!=null&&r(e,["id"],l);const o=a(n,["args"]);o!=null&&r(e,["args"],o);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function sM(n){const e={},l=a(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],nM(l));const o=a(n,["thought"]);o!=null&&r(e,["thought"],o);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],iM(c));const d=a(n,["fileData"]);d!=null&&r(e,["fileData"],lM(d));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["functionCall"]);g!=null&&r(e,["functionCall"],oM(g));const y=a(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=a(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=a(n,["text"]);return S!=null&&r(e,["text"],S),e}function aM(n){const e={},l=a(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>sM(d))),r(e,["parts"],c)}const o=a(n,["role"]);return o!=null&&r(e,["role"],o),e}function rM(n){const e={},l=a(n,["behavior"]);l!=null&&r(e,["behavior"],l);const o=a(n,["description"]);o!=null&&r(e,["description"],o);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const d=a(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function uM(n){const e={},l=a(n,["startTime"]);l!=null&&r(e,["startTime"],l);const o=a(n,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function cM(n){const e={},l=a(n,["timeRangeFilter"]);if(l!=null&&r(e,["timeRangeFilter"],uM(l)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function fM(n){const e={},l=a(n,["mode"]);l!=null&&r(e,["mode"],l);const o=a(n,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function dM(n){const e={},l=a(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],fM(l)),e}function mM(){return{}}function pM(n){const e={},l=a(n,["environment"]);return l!=null&&r(e,["environment"],l),e}function hM(n){const e={},l=a(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>rM(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(n,["googleSearch"]);o!=null&&r(e,["googleSearch"],cM(o));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],dM(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],mM());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],pM(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function gM(n){const e={},l=a(n,["handle"]);if(l!=null&&r(e,["handle"],l),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Hp(){return{}}function yM(n){const e={},l=a(n,["disabled"]);l!=null&&r(e,["disabled"],l);const o=a(n,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=a(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function vM(n){const e={},l=a(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],yM(l));const o=a(n,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function TM(n){const e={},l=a(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function SM(n){const e={},l=a(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const o=a(n,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],TM(o)),e}function CM(n){const e={},l=a(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function xM(n,e){const l={},o=a(n,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=a(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=a(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],tM(mu(S)));const x=a(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const A=a(n,["systemInstruction"]);e!==void 0&&A!=null&&r(e,["setup","systemInstruction"],aM(it(A)));const R=a(n,["tools"]);if(e!==void 0&&R!=null){let F=Ji(R);Array.isArray(F)&&(F=F.map(W=>hM(Oi(W)))),r(e,["setup","tools"],F)}const I=a(n,["sessionResumption"]);e!==void 0&&I!=null&&r(e,["setup","sessionResumption"],gM(I));const G=a(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&r(e,["setup","inputAudioTranscription"],Hp());const K=a(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],Hp());const z=a(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&r(e,["setup","realtimeInputConfig"],vM(z));const Y=a(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],SM(Y));const L=a(n,["proactivity"]);return e!==void 0&&L!=null&&r(e,["setup","proactivity"],CM(L)),l}function EM(n,e){const l={},o=a(e,["model"]);o!=null&&r(l,["setup","model"],xe(n,o));const c=a(e,["config"]);return c!=null&&r(l,["config"],xM(c,l)),l}function _M(n,e,l){const o={},c=a(e,["expireTime"]);l!==void 0&&c!=null&&r(l,["expireTime"],c);const d=a(e,["newSessionExpireTime"]);l!==void 0&&d!=null&&r(l,["newSessionExpireTime"],d);const m=a(e,["uses"]);l!==void 0&&m!=null&&r(l,["uses"],m);const g=a(e,["liveConnectConstraints"]);l!==void 0&&g!=null&&r(l,["bidiGenerateContentSetup"],EM(n,g));const y=a(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&r(l,["fieldMask"],y),o}function AM(n,e){const l={},o=a(e,["config"]);return o!=null&&r(l,["config"],_M(n,o,l)),l}function MM(n){const e={},l=a(n,["name"]);return l!=null&&r(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NM(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const c=Object.keys(o).map(d=>`${l}.${d}`);e.push(...c)}else e.push(l)}return e.join(",")}function RM(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const d=o.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,l=d):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(l){const d=NM(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class DM extends jn{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=AM(this.apiClient,e);d=j("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=RM(g,e.config);return c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),c.then(p=>MM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bM(n){const e={},l=a(n,["name"]);l!=null&&r(e,["_url","name"],l);const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function wM(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function IM(n){const e={},l=a(n,["config"]);return l!=null&&r(e,["config"],wM(l,e)),e}function UM(n){const e={},l=a(n,["name"]);l!=null&&r(e,["_url","name"],l);const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function kM(n){const e={},l=a(n,["textInput"]);l!=null&&r(e,["textInput"],l);const o=a(n,["output"]);return o!=null&&r(e,["output"],o),e}function LM(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=a(n,["examples"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(c=>kM(c))),r(e,["examples","examples"],o)}return e}function VM(n,e){const l={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&r(e,["displayName"],o),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=a(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=a(n,["learningRateMultiplier"]);if(d!=null&&r(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=a(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=a(n,["learningRate"]);if(e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),a(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return l}function qM(n){const e={},l=a(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["preTunedModel"]);o!=null&&r(e,["preTunedModel"],o);const c=a(n,["trainingDataset"]);c!=null&&r(e,["tuningTask","trainingData"],LM(c));const d=a(n,["config"]);return d!=null&&r(e,["config"],VM(d,e)),e}function PM(n){const e={},l=a(n,["name"]);l!=null&&r(e,["_url","name"],l);const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function GM(n,e){const l={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=a(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function HM(n){const e={},l=a(n,["config"]);return l!=null&&r(e,["config"],GM(l,e)),e}function BM(n){const e={},l=a(n,["name"]);l!=null&&r(e,["_url","name"],l);const o=a(n,["config"]);return o!=null&&r(e,["config"],o),e}function FM(n,e){const l={},o=a(n,["gcsUri"]);e!==void 0&&o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],o);const c=a(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function zM(n,e){const l={},o=a(n,["gcsUri"]);o!=null&&r(l,["validationDatasetUri"],o);const c=a(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),l}function YM(n,e){const l={},o=a(n,["validationDataset"]);e!==void 0&&o!=null&&r(e,["supervisedTuningSpec"],zM(o,l));const c=a(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=a(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const m=a(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=a(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=a(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=a(n,["preTunedModelCheckpointId"]);p!=null&&r(l,["preTunedModel","checkpointId"],p);const v=a(n,["adapterSize"]);if(e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=a(n,["labels"]);return e!==void 0&&S!=null&&r(e,["labels"],S),l}function OM(n){const e={},l=a(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const o=a(n,["preTunedModel"]);o!=null&&r(e,["preTunedModel"],o);const c=a(n,["trainingDataset"]);c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],FM(c,e));const d=a(n,["config"]);return d!=null&&r(e,["config"],YM(d,e)),e}function JM(n){const e={},l=a(n,["name"]);l!=null&&r(e,["model"],l);const o=a(n,["name"]);return o!=null&&r(e,["endpoint"],o),e}function wh(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["state"]);c!=null&&r(e,["state"],ih(c));const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["description"]);p!=null&&r(e,["description"],p);const v=a(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const S=a(n,["_self"]);S!=null&&r(e,["tunedModel"],JM(S));const x=a(n,["customBaseModel"]);x!=null&&r(e,["customBaseModel"],x);const A=a(n,["experiment"]);A!=null&&r(e,["experiment"],A);const R=a(n,["labels"]);R!=null&&r(e,["labels"],R);const I=a(n,["outputUri"]);I!=null&&r(e,["outputUri"],I);const G=a(n,["pipelineJob"]);G!=null&&r(e,["pipelineJob"],G);const K=a(n,["serviceAccount"]);K!=null&&r(e,["serviceAccount"],K);const z=a(n,["tunedModelDisplayName"]);return z!=null&&r(e,["tunedModelDisplayName"],z),e}function KM(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>wh(m))),r(e,["tuningJobs"],d)}return e}function XM(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["metadata"]);c!=null&&r(e,["metadata"],c);const d=a(n,["done"]);d!=null&&r(e,["done"],d);const m=a(n,["error"]);return m!=null&&r(e,["error"],m),e}function QM(n){const e={},l=a(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const o=a(n,["epoch"]);o!=null&&r(e,["epoch"],o);const c=a(n,["step"]);c!=null&&r(e,["step"],c);const d=a(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function $M(n){const e={},l=a(n,["model"]);l!=null&&r(e,["model"],l);const o=a(n,["endpoint"]);o!=null&&r(e,["endpoint"],o);const c=a(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>QM(m))),r(e,["checkpoints"],d)}return e}function au(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["name"]);o!=null&&r(e,["name"],o);const c=a(n,["state"]);c!=null&&r(e,["state"],ih(c));const d=a(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=a(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["error"]);p!=null&&r(e,["error"],p);const v=a(n,["description"]);v!=null&&r(e,["description"],v);const S=a(n,["baseModel"]);S!=null&&r(e,["baseModel"],S);const x=a(n,["tunedModel"]);x!=null&&r(e,["tunedModel"],$M(x));const A=a(n,["preTunedModel"]);A!=null&&r(e,["preTunedModel"],A);const R=a(n,["supervisedTuningSpec"]);R!=null&&r(e,["supervisedTuningSpec"],R);const I=a(n,["tuningDataStats"]);I!=null&&r(e,["tuningDataStats"],I);const G=a(n,["encryptionSpec"]);G!=null&&r(e,["encryptionSpec"],G);const K=a(n,["partnerModelTuningSpec"]);K!=null&&r(e,["partnerModelTuningSpec"],K);const z=a(n,["customBaseModel"]);z!=null&&r(e,["customBaseModel"],z);const Y=a(n,["experiment"]);Y!=null&&r(e,["experiment"],Y);const L=a(n,["labels"]);L!=null&&r(e,["labels"],L);const F=a(n,["outputUri"]);F!=null&&r(e,["outputUri"],F);const W=a(n,["pipelineJob"]);W!=null&&r(e,["pipelineJob"],W);const Z=a(n,["serviceAccount"]);Z!=null&&r(e,["serviceAccount"],Z);const ce=a(n,["tunedModelDisplayName"]);return ce!=null&&r(e,["tunedModelDisplayName"],ce),e}function ZM(n){const e={},l=a(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const o=a(n,["nextPageToken"]);o!=null&&r(e,["nextPageToken"],o);const c=a(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>au(m))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WM extends jn{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Wl(Zn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const o={tunedModelName:l.baseModel},c=Object.assign(Object.assign({},l),{preTunedModel:o});return c.baseModel=void 0,await this.tuneInternal(c)}else{const o=Object.assign({},l);return await this.tuneInternal(o)}else{const o=Object.assign({},l),c=await this.tuneMldevInternal(o);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:Wr.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=PM(e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>au(v))}else{const p=bM(e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>wh(v))}}async listInternal(e){var l,o,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=HM(e);return g=j("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=ZM(v),x=new gp;return Object.assign(x,S),x})}else{const p=IM(e);return g=j("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const S=KM(v),x=new gp;return Object.assign(x,S),x})}}async cancel(e){var l,o,c,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=BM(e);m=j("{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=UM(e);m=j("{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=OM(e);return d=j("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>au(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qM(e);return d=j("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>XM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jM{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eN=1024*1024*8,tN=3,nN=1e3,iN=2,$r="x-goog-upload-status";async function lN(n,e,l){var o,c,d;let m=0,g=0,y=new jr(new Response),p="upload";for(m=n.size;g<m;){const S=Math.min(eN,m-g),x=n.slice(g,g+S);g+S>=m&&(p+=", finalize");let A=0,R=nN;for(;A<tN&&(y=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[$r]));)A++,await sN(R),R=R*iN;if(g+=S,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[$r])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[$r])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function oN(n){return{size:n.size,type:n.type}}function sN(n){return new Promise(e=>setTimeout(e,n))}class aN{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lN(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rN{create(e,l,o){return new uN(e,l,o)}}class uN{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bp="x-goog-api-key";class cN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Bp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Bp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fN="gl-node/";class dN{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=Cv(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const c=new cN(this.apiKey);this.apiClient=new bA({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:fN+"web",uploader:new aN,downloader:new jM}),this.models=new $A(this.apiClient),this.live=new zA(this.apiClient,c,new rN),this.batches=new d0(this.apiClient),this.chats=new SS(this.models,this.apiClient),this.caches=new yS(this.apiClient),this.files=new US(this.apiClient),this.operations=new ZA(this.apiClient),this.authTokens=new DM(this.apiClient),this.tunings=new WM(this.apiClient)}}const mN=new dN({apiKey:"AIzaSyB4osfKIaM3TvPbvtGDLf6tLU_99qxnYpA"});async function*pN(n,e){if(!n||n.length===0){yield{icon:"add_shopping_cart",title:"Add Your First Product",description:"Add products to your catalog to start getting AI insights."};return}const l=n.map(({name:d,stock:m,price:g})=>({name:d,stock:m,price:g}));let o;switch(e){case"hi":o="Hindi";break;case"ur":o="Urdu";break;case"ta":o="Tamil";break;case"pa":o="Punjabi";break;case"gu":o="Gujarati";break;case"kn":o="Kannada";break;default:o="English";break}const c=`You are an expert AI business advisor for a small Kirana (grocery) store owner in India. Your task is to generate five creative, actionable, and concise insights based on their inventory. The store owner is not technical, so make the advice easy to understand.

**RESPONSE FORMAT RULES (MANDATORY):**
*   You MUST provide EXACTLY FIVE insights.
*   Each insight MUST be a single, valid JSON object on its own line. Use newline characters ('\\n') to separate them.
*   DO NOT use markdown (like \`\`\`json), and DO NOT wrap the list in a JSON array \`[]\`.
*   Each JSON object must have three keys: "icon", "title", and "description".
*   The text for "title" and "description" MUST be in the ${o} language.

**ICON SELECTION:**
For the "icon" key, you MUST use one of these Material Symbols Outlined names: 'warning', 'lightbulb', 'local_fire_department', 'trending_up', 'inventory', 'sell', 'groups'. Choose the most relevant icon for each insight.

**INSIGHT GUIDELINES:**
Generate a mix of insights. At least one should be a low-stock alert if any product has 10 or fewer items. For the others, be creative. Think about combo deals, seasonal trends (like weather or festivals in India), sales forecasts, and customer engagement tips. Your advice should be practical and highly relevant to a small store in India.`;try{const d=await mN.models.generateContentStream({model:"gemini-2.5-flash",contents:`Here is the current inventory data: ${JSON.stringify(l)}. Please generate 5 insights based on this data.`,config:{systemInstruction:c}});let m="";for await(const g of d){m+=g.text;let y;for(;(y=m.indexOf(`
`))!==-1;){const p=m.substring(0,y).trim();if(m=m.substring(y+1),p)try{yield JSON.parse(p)}catch(v){console.warn("Could not parse insight from stream:",p,v)}}}if(m.trim())try{yield JSON.parse(m.trim())}catch(g){console.warn("Could not parse final insight from stream:",m.trim(),g)}}catch(d){console.error("Error generating AI insights:",d);const m=JSON.stringify(d);let g="Could Not Fetch Insights",y="There was an issue connecting to the AI service. Please try again later.";(m.includes("429")||m.includes("RESOURCE_EXHAUSTED"))&&(g="AI Quota Exceeded",y="You have used your daily AI insights quota. Please check your plan to upgrade."),yield{icon:"error",title:g,description:y}}}const Ih=V.createContext(void 0),Uh=V.createContext(void 0),hN=({children:n})=>{const[e,l]=V.useState([]),[o,c]=V.useState(!0),[d,m]=V.useState([]),[g,y]=V.useState(!0),[p,v]=V.useState(null),{language:S}=Ue();V.useEffect(()=>{try{const z=localStorage.getItem("dukan-products");l(z?JSON.parse(z):Sm)}catch(z){console.error("Failed to load products from localStorage",z),l(Sm)}finally{c(!1)}},[]),V.useEffect(()=>{if(!o)try{localStorage.setItem("dukan-products",JSON.stringify(e))}catch(z){z instanceof DOMException&&(z.name==="QuotaExceededError"||z.name==="NS_ERROR_DOM_QUOTA_REACHED")?(console.error("LocalStorage quota exceeded. Cannot save products."),alert("Error: Your device storage is full. Cannot save new product data. Please try removing some older products or images.")):console.error("Failed to save products to localStorage",z)}},[e,o]);const x=V.useCallback(async()=>{y(!0),v(null),m([]);try{for await(const z of pN(e,S))m(Y=>[...Y,z])}catch(z){v("Failed to load insights due to a network or client error."),console.error(z)}finally{y(!1)}},[e,S]);V.useEffect(()=>{o||x()},[o]);const G={products:e,addProduct:z=>{const Y={...z,id:`prod_${new Date().getTime()}`};l(L=>[...L,Y])},updateProduct:z=>{l(Y=>Y.map(L=>L.id===z.id?z:L))},deleteProduct:z=>{l(Y=>Y.filter(L=>L.id!==z))},loading:o},K={insights:d,isLoadingInsights:g,error:p,refreshInsights:x};return T.jsx(Ih.Provider,{value:G,children:T.jsx(Uh.Provider,{value:K,children:n})})},Ns=()=>{const n=V.useContext(Ih);if(n===void 0)throw new Error("useProducts must be used within a ProductProvider");return n},gN=()=>{const n=V.useContext(Uh);if(n===void 0)throw new Error("useInsights must be used within a ProductProvider");return n};var ft=(n=>(n.DASHBOARD="DASHBOARD",n.SALES="SALES",n.ORDERS="ORDERS",n.INSIGHTS="INSIGHTS",n.CATALOG="CATALOG",n.SETTINGS="SETTINGS",n.ONLINE_STORE="ONLINE_STORE",n))(ft||{}),fe=(n=>(n.NEW="NEW",n.PREPARING="PREPARING",n.READY_FOR_PICKUP="READY_FOR_PICKUP",n.COMPLETED="COMPLETED",n.REJECTED="REJECTED",n))(fe||{});const Fp=({icon:n,title:e,description:l})=>T.jsxs("div",{className:"flex items-center gap-4 rounded-xl p-4 bg-[#1A1A1A]",children:[T.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-[#2D2D2D]",children:T.jsx("span",{className:"material-symbols-outlined text-2xl text-[#E6E6FA]",children:n})}),T.jsxs("div",{className:"flex flex-1 flex-col gap-1.5",children:[T.jsx("p",{className:"text-base font-bold leading-tight text-white",children:e}),T.jsx("p",{className:"text-sm font-normal leading-normal text-neutral-400",children:l})]})]}),yN=()=>T.jsxs("div",{className:"flex items-center gap-4 rounded-xl p-4 bg-[#1A1A1A]",children:[T.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-[#2D2D2D] animate-pulse"}),T.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[T.jsx("div",{className:"h-4 bg-[#2D2D2D] rounded w-3/4 animate-pulse"}),T.jsx("div",{className:"h-3 bg-[#2D2D2D] rounded w-full animate-pulse"})]})]}),vN=n=>{const e=new Date;return n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()},TN=n=>{const e=new Date;return n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()},zp=({orders:n,onModalStateChange:e})=>{const[l,o]=V.useState(!1),{insights:c,isLoadingInsights:d,error:m,refreshInsights:g}=gN(),{t:y}=Ue();V.useEffect(()=>{e(l)},[l,e]);const p=()=>o(S=>!S),v=V.useMemo(()=>{const S={sales:0,orders:0},x={sales:0,orders:0};return n.filter(R=>R.status!==fe.NEW&&R.status!==fe.REJECTED).forEach(R=>{const I=new Date(R.timestamp);vN(I)&&(S.sales+=R.total,S.orders+=1),TN(I)&&(x.sales+=R.total,x.orders+=1)}),{today:S,thisMonth:x}},[n]);return T.jsxs("div",{children:[T.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-gradient-to-b from-[#1A1A1A] to-black p-4 pb-2",children:[T.jsx("div",{className:"w-12"}),T.jsx("h1",{className:"flex-1 text-center text-xl font-bold tracking-tight text-white",children:y("dashboard_title")}),T.jsx("div",{className:"flex w-12 items-center justify-end",children:T.jsx("button",{onClick:p,className:"flex h-12 w-12 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-[#E6E6FA] text-black",children:T.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})})})]}),T.jsxs("div",{className:"space-y-8 p-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"px-2 pb-3 text-lg font-bold tracking-tight text-white",children:y("dashboard_today")}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs(bn,{children:[T.jsx("p",{className:"text-sm font-medium text-neutral-400",children:y("dashboard_sales")}),T.jsxs("p",{className:"text-2xl font-bold text-white",children:["₹",v.today.sales.toLocaleString("en-IN")]})]}),T.jsxs(bn,{children:[T.jsx("p",{className:"text-sm font-medium text-neutral-400",children:y("dashboard_orders")}),T.jsx("p",{className:"text-2xl font-bold text-white",children:v.today.orders})]})]})]}),T.jsxs("div",{children:[T.jsx("h2",{className:"px-2 pb-3 text-lg font-bold tracking-tight text-white",children:y("dashboard_this_month")}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs(bn,{children:[T.jsx("p",{className:"text-sm font-medium text-neutral-400",children:y("dashboard_sales")}),T.jsxs("p",{className:"text-2xl font-bold text-white",children:["₹",v.thisMonth.sales.toLocaleString("en-IN")]})]}),T.jsxs(bn,{children:[T.jsx("p",{className:"text-sm font-medium text-neutral-400",children:y("dashboard_orders")}),T.jsx("p",{className:"text-2xl font-bold text-white",children:v.thisMonth.orders})]})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center px-2 pb-3",children:[T.jsx("h2",{className:"text-lg font-bold tracking-tight text-white",children:y("dashboard_insights")}),T.jsx("button",{onClick:g,disabled:d,className:"p-2 text-neutral-400 rounded-full hover:bg-[#2D2D2D] active:bg-neutral-600 disabled:opacity-50 disabled:cursor-wait transition-colors","aria-label":y("dashboard_refresh_insights"),children:T.jsx("span",{className:`material-symbols-outlined ${d?"animate-spin":""}`,children:"sync"})})]}),T.jsx("div",{className:"space-y-4",children:m?T.jsx(Fp,{icon:"error",title:"Error",description:m}):T.jsxs(T.Fragment,{children:[c.map((S,x)=>T.jsx(Fp,{icon:S.icon,title:S.title,description:S.description},x)),d&&Array.from({length:Math.max(0,5-c.length)}).map((S,x)=>T.jsx(yN,{},`skel-${x}`))]})})]})]}),T.jsx(yv,{isOpen:l,onClose:p})]})},SN=[{icon:"dashboard",labelKey:"nav_dashboard",screen:ft.DASHBOARD},{icon:"receipt_long",labelKey:"nav_sales",screen:ft.SALES},{icon:"list_alt",labelKey:"nav_orders",screen:ft.ORDERS},{icon:"inventory_2",labelKey:"nav_catalog",screen:ft.CATALOG},{icon:"settings",labelKey:"nav_settings",screen:ft.SETTINGS}],CN=({icon:n,label:e,screen:l,isActive:o,onClick:c,badgeCount:d})=>{const m=o?"text-[#E6E6FA]":"text-neutral-400";return T.jsxs("button",{onClick:()=>c(l),className:`relative flex flex-1 flex-col items-center justify-end gap-1 ${m} transition-colors duration-200`,"aria-label":e,children:[d>0&&T.jsx("span",{className:"absolute top-0 right-[calc(50%-24px)] flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white ring-2 ring-[#1A1A1A]",children:d>9?"9+":d}),T.jsx("span",{className:"material-symbols-outlined text-2xl",children:n}),T.jsx("p",{className:"text-xs font-medium",children:e})]})},xN=({activeScreen:n,onNavigate:e,newOrderCount:l})=>{const{t:o}=Ue();return T.jsx("footer",{className:"fixed bottom-0 left-0 right-0 z-10",children:T.jsx("div",{className:"flex justify-around border-t border-[#2D2D2D] bg-[#1A1A1A] px-2 pt-2 pb-[calc(1rem+env(safe-area-inset-bottom))]",children:SN.map(c=>T.jsx(CN,{icon:c.icon,label:o(c.labelKey),screen:c.screen,isActive:n===c.screen,onClick:e,badgeCount:c.screen===ft.ORDERS?l:void 0},c.screen))})})},Yp=n=>{const e=new Date;return n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()},Op=n=>{const e=new Date,l=new Date;return l.setDate(e.getDate()-6),l.setHours(0,0,0,0),e.setHours(23,59,59,999),n>=l&&n<=e},Jp=n=>{const e=new Date;return n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()},EN=()=>{const{t:n}=Ue();return T.jsx("header",{className:"flex items-center bg-gradient-to-b from-[#1A1A1A] to-black p-4 pb-2 justify-center sticky top-0 z-10",children:T.jsx("h1",{className:"text-white text-xl font-bold tracking-tight",children:n("sales_title")})})},_N=({activeFilter:n,setActiveFilter:e})=>{const{t:l}=Ue(),o=[{label:"Today",key:"sales_filter_today"},{label:"This Week",key:"sales_filter_week"},{label:"This Month",key:"sales_filter_month"}];return T.jsx("div",{className:"flex items-center justify-center bg-[#1A1A1A] p-1 rounded-full",children:o.map(c=>T.jsx("button",{onClick:()=>e(c.label),className:`px-4 py-1.5 text-sm font-semibold rounded-full transition-colors duration-200 ${n===c.label?"bg-[#E6E6FA] text-black":"text-neutral-300"}`,children:l(c.key)},c.label))})},AN=({orders:n})=>{const{t:e}=Ue(),l=V.useMemo(()=>{const o=n.reduce((m,g)=>m+g.total,0),c=n.length,d=c>0?o/c:0;return{totalSales:o,orderCount:c,avgValue:d}},[n]);return T.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[T.jsxs(bn,{className:"items-center !p-3",children:[T.jsx("p",{className:"text-neutral-400 text-xs font-medium",children:e("sales_total_sales")}),T.jsxs("p",{className:"text-white text-lg font-bold",children:["₹",l.totalSales.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),T.jsxs(bn,{className:"items-center !p-3",children:[T.jsx("p",{className:"text-neutral-400 text-xs font-medium",children:e("sales_orders")}),T.jsx("p",{className:"text-white text-lg font-bold",children:l.orderCount})]}),T.jsxs(bn,{className:"items-center !p-3",children:[T.jsx("p",{className:"text-neutral-400 text-xs font-medium",children:e("sales_avg_value")}),T.jsxs("p",{className:"text-white text-lg font-bold",children:["₹",l.avgValue.toLocaleString("en-IN",{maximumFractionDigits:0})]})]})]})},MN=({data:n})=>{if(!n||n.length===0)return null;const e=320,l=160,o={top:10,right:0,bottom:20,left:0},c=e-o.left-o.right,d=l-o.top-o.bottom,m=Math.max(...n.map(x=>x.value),1e3)*1.1,g=0,y=x=>o.left+x/(n.length-1)*c,p=x=>l-o.bottom-(x-g)/(m-g)*d,v=n.map((x,A)=>{const R=y(A),I=p(x.value);return`${A===0?"M":"L"} ${R},${I}`}).join(" "),S=[0,Math.round(m/2),Math.round(m)].map(x=>({value:`₹${(x/1e3).toFixed(x>1e3?1:0)}k`,y:p(x)}));return T.jsx("div",{className:"bg-[#1A1A1A] rounded-xl p-4 h-48 flex flex-col justify-end",children:T.jsxs("svg",{viewBox:`0 0 ${e} ${l}`,className:"w-full h-full",preserveAspectRatio:"xMidYMid meet",children:[T.jsxs("defs",{children:[T.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[T.jsx("stop",{offset:"0%",stopColor:"#c084fc"}),T.jsx("stop",{offset:"100%",stopColor:"#E6E6FA"})]}),T.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"0%",stopColor:"#E6E6FA",stopOpacity:.2}),T.jsx("stop",{offset:"100%",stopColor:"#E6E6FA",stopOpacity:0})]})]}),S.map((x,A)=>T.jsx("g",{children:T.jsx("line",{x1:o.left,y1:x.y,x2:e-o.right,y2:x.y,stroke:"#2D2D2D",strokeWidth:"1",strokeDasharray:"2 4"})},A)),T.jsx("path",{d:`${v} L ${y(n.length-1)},${l-o.bottom} L ${y(0)},${l-o.bottom} Z`,fill:"url(#areaGradient)"}),T.jsx("path",{d:v,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.map((x,A)=>T.jsx("circle",{cx:y(A),cy:p(x.value),r:"3",fill:"#E6E6FA"},A)),n.map((x,A)=>T.jsx("text",{x:y(A),y:l-5,textAnchor:"middle",fill:"#8A8A8A",fontSize:"10",fontWeight:"500",children:x.label},A))]})})},NN=({id:n,time:e,amount:l})=>T.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#1A1A1A] rounded-lg",children:[T.jsxs("div",{children:[T.jsxs("p",{className:"font-semibold text-white",children:["Order #",n]}),T.jsx("p",{className:"text-sm text-neutral-400",children:e})]}),T.jsx("p",{className:"font-bold text-lg text-[#E6E6FA]",children:l})]}),RN=({orders:n})=>{const[e,l]=V.useState("This Week"),{t:o}=Ue(),c=V.useMemo(()=>{const m=n.filter(g=>g.status!==fe.NEW&&g.status!==fe.REJECTED).sort((g,y)=>new Date(y.timestamp).getTime()-new Date(g.timestamp).getTime());switch(e){case"Today":return m.filter(g=>Yp(new Date(g.timestamp)));case"This Week":return m.filter(g=>Op(new Date(g.timestamp)));case"This Month":return m.filter(g=>Jp(new Date(g.timestamp)));default:return m}},[n,e]),d=V.useMemo(()=>{const m=n.filter(y=>y.status!==fe.NEW&&y.status!==fe.REJECTED),g=new Date;switch(e){case"Today":{const y=[{label:"Morning",value:0},{label:"Afternoon",value:0},{label:"Evening",value:0},{label:"Night",value:0}];return m.filter(p=>Yp(new Date(p.timestamp))).forEach(p=>{const v=new Date(p.timestamp).getHours();v>=5&&v<12?y[0].value+=p.total:v>=12&&v<17?y[1].value+=p.total:v>=17&&v<21?y[2].value+=p.total:y[3].value+=p.total}),y}case"This Month":{const y=Array.from({length:5},(S,x)=>({label:`W${x+1}`,value:0}));m.filter(S=>Jp(new Date(S.timestamp))).forEach(S=>{const x=new Date(S.timestamp).getDate(),A=Math.floor((x-1)/7);y[A]&&(y[A].value+=S.total)});const p=new Date(g.getFullYear(),g.getMonth()+1,0).getDate(),v=Math.ceil(p/7);return y.slice(0,v)}case"This Week":default:{const y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=new Array(7).fill(0).map((v,S)=>{const x=new Date;return x.setDate(g.getDate()-(6-S)),{value:0,label:y[x.getDay()]}});return m.filter(v=>Op(new Date(v.timestamp))).forEach(v=>{const S=new Date(v.timestamp),x=new Date;x.setHours(0,0,0,0);const A=new Date(S);A.setHours(0,0,0,0);const R=Math.round((x.getTime()-A.getTime())/(1e3*3600*24));if(R>=0&&R<7){const I=6-R;p[I]&&(p[I].value+=v.total)}}),p}}},[n,e]);return T.jsxs("div",{children:[T.jsx(EN,{}),T.jsxs("div",{className:"p-4 space-y-6",children:[T.jsx(_N,{activeFilter:e,setActiveFilter:l}),T.jsx(AN,{orders:c}),T.jsx(MN,{data:d}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-white text-lg font-bold tracking-tight px-2 pb-3",children:o("sales_recent_transactions")}),T.jsx("div",{className:"space-y-3",children:c.length>0?c.slice(0,5).map(m=>T.jsx(NN,{id:m.id.replace("B2C-",""),time:new Date(m.timestamp).toLocaleTimeString("en-IN",{hour:"numeric",minute:"2-digit",hour12:!0}),amount:`₹${m.total.toLocaleString("en-IN",{maximumFractionDigits:0})}`},m.id)):T.jsx("div",{className:"text-center py-10 text-neutral-400",children:T.jsx("p",{className:"font-semibold",children:"No transactions for this period."})})})]})]})]})},gu=(n,e,l,o=.7)=>new Promise((c,d)=>{const m=new FileReader;m.readAsDataURL(n),m.onload=g=>{var p;if(!((p=g.target)!=null&&p.result))return d(new Error("FileReader failed to read file."));const y=new Image;y.src=g.target.result,y.onload=()=>{const v=document.createElement("canvas");let{width:S,height:x}=y;S>x?S>e&&(x=Math.round(x*e/S),S=e):x>l&&(S=Math.round(S*l/x),x=l),v.width=S,v.height=x;const A=v.getContext("2d");if(!A)return d(new Error("Could not get canvas context."));A.drawImage(y,0,0,S,x);const R=v.toDataURL("image/jpeg",o);c(R)},y.onerror=v=>d(v)},m.onerror=g=>d(g)}),DN=({isOpen:n,onClose:e,onSave:l})=>{const[o,c]=V.useState(""),[d,m]=V.useState(""),[g,y]=V.useState("");V.useEffect(()=>{n&&(c(localStorage.getItem("dukan-supplier-name")||""),m(localStorage.getItem("dukan-supplier-whatsapp-display")||""),y(""))},[n]);const p=()=>{if(!o.trim()){y("Supplier name is required.");return}const v=d.replace(/[^0-9]/g,"");if(v.length<10){y("Please enter a valid WhatsApp number with country code.");return}y(""),localStorage.setItem("dukan-supplier-name",o),localStorage.setItem("dukan-supplier-whatsapp",v),localStorage.setItem("dukan-supplier-whatsapp-display",d),l()};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-40 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),T.jsxs("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl p-6 z-50 transform transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"supplier-modal-title",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{id:"supplier-modal-title",className:"text-lg font-bold text-white",children:"Add Supplier Details"}),T.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white","aria-label":"Close",children:T.jsx(Wn,{className:"w-6 h-6"})})]}),T.jsx("p",{className:"text-neutral-300 text-sm mb-6",children:"To send your stock list, please enter your supplier's details. This will be saved for future use."}),T.jsxs("form",{onSubmit:v=>{v.preventDefault(),p()},className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"supplier-name",className:"text-sm font-medium text-neutral-400",children:"Supplier / Distributor Name"}),T.jsx("input",{id:"supplier-name",type:"text",value:o,onChange:v=>c(v.target.value),placeholder:"e.g. Rajesh Kumar",className:"w-full bg-[#2D2D2D] mt-1 text-white rounded-md p-2 border-transparent focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"supplier-whatsapp",className:"text-sm font-medium text-neutral-400",children:"Supplier WhatsApp Number"}),T.jsx("input",{id:"supplier-whatsapp",type:"tel",value:d,onChange:v=>m(v.target.value),placeholder:"+91 98765 43210",className:"w-full bg-[#2D2D2D] mt-1 text-white rounded-md p-2 border-transparent focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none",required:!0}),T.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 px-1",children:"Use country code (e.g., +91)."})]}),g&&T.jsx("p",{className:"text-sm text-red-400",children:g}),T.jsx("div",{className:"pt-2",children:T.jsx("button",{type:"submit",className:"w-full bg-[#E6E6FA] text-black font-bold py-3 rounded-lg hover:opacity-90 transition-opacity active:scale-95 transform",children:"Save & Continue"})})]})]})]})},bN=({isOpen:n,onClose:e,message:l,whatsappUrl:o})=>{const c=()=>{navigator.clipboard.writeText(l).then(()=>{alert("Message copied to clipboard!"),e()}).catch(m=>{console.error("Failed to copy text: ",m),alert("Failed to copy message. Please try again.")})},d=()=>{window.open(o,"_blank","noopener,noreferrer"),e()};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-40 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),T.jsxs("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl p-6 z-50 transform transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"upstock-message-modal-title",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{id:"upstock-message-modal-title",className:"text-lg font-bold text-white",children:"Ready to Upstock"}),T.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white","aria-label":"Close",children:T.jsx(Wn,{className:"w-6 h-6"})})]}),T.jsx("p",{className:"text-neutral-300 text-sm mb-4",children:"We've prepared the following message for your supplier."}),T.jsx("div",{className:"bg-[#2D2D2D] rounded-lg p-3 max-h-48 overflow-y-auto mb-6",children:T.jsx("pre",{className:"text-sm text-neutral-200 whitespace-pre-wrap font-sans",children:l})}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("button",{onClick:d,className:"w-full bg-[#25D366] text-white font-bold py-3 rounded-lg hover:bg-opacity-90 transition-opacity active:scale-95 transform flex items-center justify-center gap-2",children:[T.jsx(Ss,{className:"w-5 h-5"}),"Open in WhatsApp"]}),T.jsxs("button",{onClick:c,className:"w-full bg-[#2D2D2D] text-neutral-200 font-bold py-3 rounded-lg hover:bg-opacity-80 transition-opacity active:scale-95 transform flex items-center justify-center gap-2",children:[T.jsx("span",{className:"material-symbols-outlined text-xl",children:"content_copy"}),"Copy Message & Close"]})]})]})]})},wN=({isOpen:n,onClose:e,onSave:l})=>{const[o,c]=V.useState(""),[d,m]=V.useState("");V.useEffect(()=>{n&&(c(localStorage.getItem("dukan-store-name")||""),m(""))},[n]);const g=()=>{if(!o.trim()){m("Store name is required.");return}m(""),localStorage.setItem("dukan-store-name",o),l()};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-40 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),T.jsxs("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl p-6 z-50 transform transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"store-name-modal-title",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{id:"store-name-modal-title",className:"text-lg font-bold text-white",children:"Set Your Store Name"}),T.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white","aria-label":"Close",children:T.jsx(Wn,{className:"w-6 h-6"})})]}),T.jsx("p",{className:"text-neutral-300 text-sm mb-6",children:"To send your stock list to a supplier, we need your store's name to include in the message."}),T.jsxs("form",{onSubmit:y=>{y.preventDefault(),g()},className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"store-name",className:"text-sm font-medium text-neutral-400",children:"Store Name"}),T.jsx("input",{id:"store-name",type:"text",value:o,onChange:y=>c(y.target.value),placeholder:"e.g. Sunil's Kirana Store",className:"w-full bg-[#2D2D2D] mt-1 text-white rounded-md p-2 border-transparent focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none",required:!0})]}),d&&T.jsx("p",{className:"text-sm text-red-400",children:d}),T.jsx("div",{className:"pt-2",children:T.jsx("button",{type:"submit",className:"w-full bg-[#E6E6FA] text-black font-bold py-3 rounded-lg hover:opacity-90 transition-opacity active:scale-95 transform",children:"Save & Continue"})})]})]})]})},IN=({isOpen:n,onClose:e,productToEdit:l})=>{const{products:o,addProduct:c,updateProduct:d}=Ns(),{t:m}=Ue(),[g,y]=V.useState(""),[p,v]=V.useState(""),[S,x]=V.useState(""),[A,R]=V.useState("units"),[I,G]=V.useState(""),[K,z]=V.useState(!1),Y=V.useRef(null),L=o.filter(J=>J.stock<10),[F,W]=V.useState(!1),[Z,ce]=V.useState(!1),[X,ie]=V.useState(!1),[le,me]=V.useState(""),[qe,Ye]=V.useState("");V.useEffect(()=>{l?(y(m(l.name)),v(l.price.replace("₹","")),x(String(l.stock)),R(l.stockUnit),G(l.imageUrl)):(y(""),v(""),x(""),R("units"),G(""))},[l,n,m]),V.useEffect(()=>{const J=document.querySelector("main");return n?J==null||J.classList.add("overflow-hidden"):J==null||J.classList.remove("overflow-hidden"),()=>{J==null||J.classList.remove("overflow-hidden")}},[n]);const ye=J=>{if(J.preventDefault(),!g||!p||!S){alert("Please fill all fields.");return}const te={name:g,price:`₹${p}`,stock:parseInt(S,10),stockUnit:A,imageUrl:I||"https://via.placeholder.com/150/1A1A1A/E6E6FA?text=No+Image"};l?(m(l.name)===g&&(te.name=l.name),d({...te,id:l.id})):c(te),e()},q=()=>{var J;K||(J=Y.current)==null||J.click()},Q=async J=>{var he;const te=(he=J.target.files)==null?void 0:he[0];if(te){z(!0);try{const ae=await gu(te,400,400,.8);G(ae)}catch(ae){console.error("Failed to process image:",ae),alert("There was an error processing your image. Please try another one.")}finally{z(!1)}}},oe=()=>{const J=localStorage.getItem("dukan-supplier-whatsapp"),te=localStorage.getItem("dukan-supplier-name")||"Supplier",he=localStorage.getItem("dukan-store-name");if(!he||!J){alert("Something went wrong. Store Name or Supplier details are missing.");return}const ae=te.split(" ")[0],lt=L.map((on,$i)=>`${$i+1}. ${m(on.name)} - ${on.stock} ${on.stockUnit}`).join(`
`),be=`Namaste ${ae} ji, yeh stocks bhej do:
${lt}

Store: ${he}
Dhanyavaad.`,Lt=encodeURIComponent(be),Qi=`https://wa.me/${J}?text=${Lt}`;me(be),Ye(Qi),ie(!0)},_e=()=>{localStorage.getItem("dukan-supplier-whatsapp")?oe():ce(!0)},M=()=>{if(L.length===0){alert("No low-stock items right now.");return}localStorage.getItem("dukan-store-name")?_e():W(!0)},O=()=>{W(!1),_e()},$=()=>{ce(!1),oe()};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-30 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),T.jsxs("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl p-6 z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h3",{id:"product-modal-title",className:"text-lg font-bold text-white",children:m(l?"edit_product":"add_new_product")}),T.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white","aria-label":"Close",children:T.jsx(Wn,{className:"w-6 h-6"})})]}),T.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("button",{type:"button",onClick:q,className:"relative flex-shrink-0 h-20 w-20 bg-[#2D2D2D] rounded-lg flex items-center justify-center overflow-hidden",children:[I&&!K&&T.jsx("img",{src:I,alt:"Product",className:"h-full w-full object-cover"}),!I&&!K&&T.jsx($p,{className:"w-8 h-8 text-neutral-400"}),K&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:T.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),T.jsx("input",{type:"file",ref:Y,onChange:Q,accept:"image/*",className:"hidden"}),T.jsxs("div",{className:"w-full",children:[T.jsx("label",{htmlFor:"product-name",className:"text-sm font-medium text-neutral-400",children:"Product Name"}),T.jsx("input",{id:"product-name",type:"text",value:g,onChange:J=>y(J.target.value),className:"w-full bg-[#2D2D2D] mt-1 text-white rounded-md p-2 border-transparent focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none",required:!0})]})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"price",className:"text-sm font-medium text-neutral-400",children:"Price (₹)"}),T.jsx("input",{id:"price",type:"number",value:p,onChange:J=>v(J.target.value),className:"w-full bg-[#2D2D2D] mt-1 text-white rounded-md p-2 border-transparent focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none",required:!0})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"stock",className:"text-sm font-medium text-neutral-400",children:"Stock"}),T.jsx("input",{id:"stock",type:"number",value:S,onChange:J=>x(J.target.value),className:"w-full bg-[#2D2D2D] mt-1 text-white rounded-md p-2 border-transparent focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"unit",className:"text-sm font-medium text-neutral-400",children:"Unit"}),T.jsx("input",{id:"unit",type:"text",value:A,onChange:J=>R(J.target.value),className:"w-full bg-[#2D2D2D] mt-1 text-white rounded-md p-2 border-transparent focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none"})]})]}),T.jsx("div",{className:"border-t border-[#2D2D2D] !my-6"}),T.jsxs("button",{type:"button",onClick:M,disabled:L.length===0,title:L.length===0?"No low-stock items under 10 units":`Send ${L.length} low-stock item(s) to supplier`,className:"w-full flex items-center p-3 bg-[#2D2D2D] rounded-lg text-left hover:bg-opacity-80 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx("span",{className:"material-symbols-outlined w-6 h-6 mr-3 text-[#E6E6FA]",children:"local_shipping"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("span",{className:"font-semibold text-neutral-200",children:"Upstock"}),T.jsx("p",{className:"text-xs text-neutral-400",children:L.length>0?`Send ${L.length} low-stock item(s) to supplier`:"No items with low stock (< 10 units)"})]}),T.jsx("span",{className:"material-symbols-outlined text-neutral-400",children:"chevron_right"})]}),T.jsx("div",{className:"pt-2",children:T.jsx("button",{type:"submit",className:"w-full bg-[#E6E6FA] text-black font-bold py-3 rounded-lg hover:opacity-90 transition-opacity active:scale-95 transform",children:l?"Save Changes":"Add Product"})})]})]}),T.jsx(wN,{isOpen:F,onClose:()=>W(!1),onSave:O}),T.jsx(DN,{isOpen:Z,onClose:()=>ce(!1),onSave:$}),T.jsx(bN,{isOpen:X,onClose:()=>ie(!1),message:le,whatsappUrl:qe})]})},UN=()=>{const{t:n}=Ue();return T.jsx("header",{className:"flex items-center bg-gradient-to-b from-[#1A1A1A] to-black p-4 pb-2 justify-center sticky top-0 z-10",children:T.jsx("h1",{className:"text-white text-xl font-bold tracking-tight",children:n("catalog_title")})})},kN=({onAdd:n,onSearch:e})=>T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("div",{className:"relative flex-grow",children:[T.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",children:"search"}),T.jsx("input",{type:"text",placeholder:"Search products...",onChange:l=>e(l.target.value),className:"w-full bg-[#1A1A1A] text-white rounded-full pl-10 pr-4 py-2.5 border border-[#2D2D2D] focus:ring-2 focus:ring-[#E6E6FA] focus:outline-none"})]}),T.jsx("button",{onClick:n,className:"flex-shrink-0 flex h-11 w-11 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-[#E6E6FA] text-black",children:T.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add"})})]}),LN=({product:n,onEdit:e})=>{const{name:l,price:o,stock:c,stockUnit:d,imageUrl:m}=n,{t:g}=Ue(),y=c<10,[p,v]=V.useState(!1),S=V.useRef(null),{deleteProduct:x}=Ns();V.useEffect(()=>{const R=I=>{S.current&&!S.current.contains(I.target)&&v(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const A=()=>{v(!1),setTimeout(()=>{window.confirm("Are you sure you want to delete this product?")&&x(n.id)},0)};return T.jsxs("div",{className:"flex items-center gap-4 p-3 bg-[#1A1A1A] rounded-xl",children:[T.jsx("img",{src:m,alt:l,className:"h-16 w-16 rounded-lg object-cover bg-neutral-700"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"font-bold text-white",children:g(l)}),T.jsx("p",{className:"text-sm text-neutral-300",children:o}),T.jsxs("p",{className:`text-xs font-semibold ${y?"text-red-400":"text-blue-300"}`,children:[c," ",d," in stock"]})]}),T.jsxs("div",{className:"relative",ref:S,children:[T.jsx("button",{onClick:()=>v(!p),className:"text-neutral-400 p-2 rounded-full hover:bg-[#2D2D2D]",children:T.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})}),p&&T.jsxs("div",{className:"absolute right-0 top-10 mt-1 w-36 bg-[#2D2D2D] rounded-lg shadow-xl z-20 overflow-hidden",children:[T.jsxs("button",{onClick:()=>{e(),v(!1)},className:"w-full text-left px-4 py-2 text-sm text-white hover:bg-neutral-600 flex items-center gap-2",children:[T.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"})," Edit"]}),T.jsxs("button",{onClick:A,className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-neutral-600 flex items-center gap-2",children:[T.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})," Delete"]})]})]})]})},VN=({onModalStateChange:n})=>{const{products:e,loading:l}=Ns(),[o,c]=V.useState(!1),[d,m]=V.useState(null),[g,y]=V.useState(""),{t:p}=Ue();V.useEffect(()=>{n(o)},[o,n]);const v=()=>{m(null),c(!0)},S=A=>{m(A),c(!0)},x=e.filter(A=>p(A.name).toLowerCase().includes(g.toLowerCase()));return T.jsxs("div",{children:[T.jsx(UN,{}),T.jsxs("div",{className:"p-4 space-y-6",children:[T.jsx(kN,{onAdd:v,onSearch:y}),l?T.jsx("div",{className:"text-center py-10 text-neutral-400",children:"Loading products..."}):T.jsx("div",{className:"space-y-3",children:x.length>0?x.map(A=>T.jsx(LN,{product:A,onEdit:()=>S(A)},A.id)):T.jsxs("div",{className:"text-center py-10 text-neutral-400",children:[T.jsx("p",{className:"font-semibold",children:"No products found."}),T.jsx("p",{className:"text-sm",children:"Try adjusting your search or add a new product."})]})})]}),T.jsx(IN,{isOpen:o,onClose:()=>c(!1),productToEdit:d})]})},Rs=({title:n,onBack:e,onSave:l,isSaving:o})=>{const{t:c}=Ue();return T.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-gradient-to-b from-[#1A1A1A] to-black p-4 pb-2",children:[T.jsx("div",{className:"flex w-16 items-center justify-start",children:T.jsx("button",{onClick:e,className:"flex h-10 w-10 cursor-pointer items-center justify-center text-white",children:T.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back_ios_new"})})}),T.jsx("h1",{className:"flex-1 text-center text-xl font-bold tracking-tight text-white",children:n}),T.jsx("div",{className:"flex w-16 items-center justify-end",children:l&&T.jsx("button",{onClick:l,disabled:o,className:"px-4 py-1.5 text-base font-bold text-black bg-[#E6E6FA] rounded-full disabled:opacity-50 transition-opacity",children:o?"...":c("button_save")})})]})},Zr=({label:n,type:e,value:l,placeholder:o,disabled:c,isVerified:d,onChange:m})=>T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1.5 px-1",children:n}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:e,value:l,placeholder:o,disabled:c,onChange:g=>m(g.target.value),className:"w-full bg-transparent border-b-2 border-neutral-600 text-white text-lg py-2 focus:outline-none focus:border-[#E6E6FA] placeholder-neutral-400 transition-colors duration-300 disabled:opacity-60"}),d&&T.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center text-xs text-blue-300 font-semibold",children:[T.jsx("span",{className:"material-symbols-outlined text-sm mr-1",children:"verified"}),"Verified"]})]})]}),qN=({onBack:n})=>{const[e,l]=V.useState(()=>localStorage.getItem("dukan-profile-name")||""),[o,c]=V.useState(()=>localStorage.getItem("dukan-profile-email")||""),[d,m]=V.useState(()=>localStorage.getItem("dukan-profile-pic")||null),[g,y]=V.useState(!1),[p,v]=V.useState(!1),{t:S}=Ue(),x=V.useRef(null),A=async G=>{var z;const K=(z=G.target.files)==null?void 0:z[0];if(K){v(!0);try{const Y=await gu(K,200,200,.8);m(Y)}catch(Y){console.error("Failed to process image:",Y),alert("There was an error processing your image. Please try another one.")}finally{v(!1)}}},R=()=>{var G;p||(G=x.current)==null||G.click()},I=()=>{y(!0);try{localStorage.setItem("dukan-profile-name",e),localStorage.setItem("dukan-profile-email",o),d?localStorage.setItem("dukan-profile-pic",d):localStorage.removeItem("dukan-profile-pic"),console.log("Saving profile:",{name:e,email:o}),setTimeout(()=>{y(!1),n()},1e3)}catch(G){G instanceof DOMException&&(G.name==="QuotaExceededError"||G.name==="NS_ERROR_DOM_QUOTA_REACHED")?alert("Error: Your device storage is full. Could not save profile picture."):(alert("An unexpected error occurred while saving."),console.error("Save failed:",G)),y(!1)}};return T.jsxs("div",{children:[T.jsx(Rs,{title:S("edit_profile_title"),onBack:n,onSave:I,isSaving:g}),T.jsxs("div",{className:"p-4 space-y-8",children:[T.jsx("div",{className:"flex flex-col items-center",children:T.jsxs("div",{className:"relative",children:[T.jsxs("div",{className:"h-28 w-28 rounded-full bg-[#1A1A1A] flex items-center justify-center overflow-hidden",children:[d&&!p&&T.jsx("img",{src:d,alt:"Profile",className:"h-full w-full object-cover"}),!d&&!p&&T.jsx("span",{className:"material-symbols-outlined text-7xl text-neutral-400",children:"person"}),p&&T.jsx("div",{className:"w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"})]}),T.jsx("button",{onClick:R,className:"absolute bottom-1 right-1 h-8 w-8 bg-[#E6E6FA] rounded-full flex items-center justify-center text-black",children:T.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),T.jsx("input",{type:"file",ref:x,onChange:A,accept:"image/*",className:"hidden"})]})}),T.jsxs("div",{className:"space-y-4",children:[T.jsx(Zr,{label:S("label_full_name"),type:"text",value:e,onChange:l,placeholder:S("placeholder_your_full_name")}),T.jsx(Zr,{label:S("label_mobile_number"),type:"tel",value:"+91 98765 43210",onChange:()=>{},disabled:!0,isVerified:!0}),T.jsx(Zr,{label:S("label_email_address"),type:"email",value:o,onChange:c,placeholder:S("placeholder_your_email_address")})]})]})]})},gs=({label:n,value:e,onChange:l,placeholder:o})=>T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1.5 px-1",children:n}),T.jsx("input",{type:"text",value:e,placeholder:o,onChange:c=>l(c.target.value),className:"w-full bg-transparent border-b-2 border-neutral-600 text-white text-lg py-2 focus:outline-none focus:border-[#E6E6FA] placeholder-neutral-400 transition-colors duration-300"})]}),PN=({onBack:n})=>{const[e,l]=V.useState(()=>localStorage.getItem("dukan-store-name")||""),[o,c]=V.useState(()=>localStorage.getItem("dukan-store-address")||""),[d,m]=V.useState(()=>localStorage.getItem("dukan-store-category")||""),[g,y]=V.useState(()=>localStorage.getItem("dukan-store-banner")||null),[p,v]=V.useState(()=>localStorage.getItem("dukan-supplier-name")||""),[S,x]=V.useState(()=>localStorage.getItem("dukan-supplier-whatsapp-display")||""),[A,R]=V.useState(!1),[I,G]=V.useState(!1),{t:K}=Ue(),z=V.useRef(null),Y=async Z=>{var X;const ce=(X=Z.target.files)==null?void 0:X[0];if(ce){G(!0);try{const ie=await gu(ce,800,400,.8);y(ie)}catch(ie){console.error("Failed to process image:",ie),alert("There was an error processing your banner image. Please try another one.")}finally{G(!1)}}},L=()=>{var Z;I||(Z=z.current)==null||Z.click()},F=()=>{R(!0);try{localStorage.setItem("dukan-store-name",e),localStorage.setItem("dukan-store-address",o),localStorage.setItem("dukan-store-category",d),g?localStorage.setItem("dukan-store-banner",g):localStorage.removeItem("dukan-store-banner");const Z=S.replace(/[^0-9]/g,"");localStorage.setItem("dukan-supplier-name",p),localStorage.setItem("dukan-supplier-whatsapp",Z),localStorage.setItem("dukan-supplier-whatsapp-display",S),console.log("Saving store details:",{storeName:e,address:o,category:d,supplierName:p,supplierWhatsapp:S}),setTimeout(()=>{R(!1),n()},1e3)}catch(Z){Z instanceof DOMException&&(Z.name==="QuotaExceededError"||Z.name==="NS_ERROR_DOM_QUOTA_REACHED")?alert("Error: Your device storage is full. Could not save store banner."):(alert("An unexpected error occurred while saving."),console.error("Save failed:",Z)),R(!1)}},W=()=>{navigator.clipboard.writeText("sunil-kirana.dukan.ai"),alert("Store URL copied to clipboard!")};return T.jsxs("div",{children:[T.jsx(Rs,{title:K("manage_store_title"),onBack:n,onSave:F,isSaving:A}),T.jsxs("div",{className:"p-4 space-y-6",children:[T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsxs("button",{onClick:L,className:"relative w-full h-32 bg-[#1A1A1A] rounded-lg flex items-center justify-center overflow-hidden text-neutral-400 hover:bg-[#2D2D2D] transition-colors",children:[g&&!I&&T.jsx("img",{src:g,alt:"Store Banner",className:"h-full w-full object-cover"}),!g&&!I&&T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"material-symbols-outlined text-5xl",children:"add_a_photo"}),T.jsx("p",{className:"text-sm font-semibold",children:K("manage_store_upload_banner")})]}),I&&T.jsx("div",{className:"w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"}),T.jsx("div",{className:"absolute bottom-2 right-2 h-8 w-8 bg-[#E6E6FA] rounded-full flex items-center justify-center text-black pointer-events-none",children:T.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})})]}),T.jsx("input",{type:"file",ref:z,onChange:Y,accept:"image/*",className:"hidden"})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx(gs,{label:K("label_store_name"),value:e,onChange:l,placeholder:K("placeholder_store_name_example")}),T.jsx(gs,{label:K("label_store_address"),value:o,onChange:c,placeholder:K("placeholder_store_address_example")}),T.jsx(gs,{label:K("label_store_category"),value:d,onChange:m,placeholder:K("placeholder_store_category_example")}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1.5 px-1",children:K("label_online_store_url")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"text",value:"sunil-kirana.dukan.ai",readOnly:!0,className:"w-full bg-transparent border-b-2 border-neutral-600 text-neutral-300 text-lg py-2 pr-12"}),T.jsx("button",{onClick:W,className:"absolute inset-y-0 right-0 flex items-center justify-center w-12 text-[#E6E6FA]",children:T.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})})]})]})]}),T.jsx("div",{className:"border-t border-[#2D2D2D] my-4"}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg font-bold text-white px-1",children:K("manage_store_supplier_details_title")}),T.jsx(gs,{label:K("label_supplier_name"),value:p,onChange:v,placeholder:K("placeholder_supplier_name_example")}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1.5 px-1",children:K("label_supplier_whatsapp")}),T.jsx("input",{type:"tel",value:S,placeholder:"+91 9876543210",onChange:Z=>x(Z.target.value),className:"w-full bg-transparent border-b-2 border-neutral-600 text-white text-lg py-2 focus:outline-none focus:border-[#E6E6FA] placeholder-neutral-400 transition-colors duration-300"}),T.jsx("p",{className:"text-xs text-neutral-500 mt-1.5 px-1",children:K("manage_store_whatsapp_hint")})]})]})]})]})},GN=({id:n,checked:e,onChange:l})=>T.jsxs("label",{htmlFor:n,className:"relative inline-flex items-center cursor-pointer",children:[T.jsx("input",{type:"checkbox",id:n,className:"sr-only peer",checked:e,onChange:o=>l(o.target.checked)}),T.jsx("div",{className:"w-11 h-6 bg-[#2D2D2D] rounded-full peer peer-focus:ring-2 peer-focus:ring-[#E6E6FA] peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#a8a2d3]"})]}),ys=({id:n,label:e,description:l,initialState:o})=>{const c=`dukan-notif-${n}`,[d,m]=V.useState(()=>{const g=localStorage.getItem(c);return g!==null?JSON.parse(g):o});return V.useEffect(()=>{localStorage.setItem(c,JSON.stringify(d))},[d,c]),T.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1A1A1A] rounded-lg",children:[T.jsxs("div",{className:"flex-1 pr-4",children:[T.jsx("p",{className:"font-semibold text-white",children:e}),T.jsx("p",{className:"text-sm text-neutral-400",children:l})]}),T.jsx(GN,{id:n,checked:d,onChange:m})]})},HN=({onBack:n})=>{const{t:e}=Ue();return T.jsxs("div",{children:[T.jsx(Rs,{title:e("notifications_title"),onBack:n}),T.jsxs("div",{className:"p-4 space-y-3",children:[T.jsx(ys,{id:"sales-alerts",label:"Sales Alerts",description:"Get notified about new sales.",initialState:!0}),T.jsx(ys,{id:"inventory-alerts",label:"Inventory Alerts",description:"Receive alerts for low-stock items.",initialState:!0}),T.jsx(ys,{id:"ai-insights",label:"AI Insights",description:"Weekly summary of AI-powered insights.",initialState:!1}),T.jsx(ys,{id:"promotions",label:"Dukan.AI News",description:"News and special promotions from us.",initialState:!0})]})]})},BN=[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"हिन्दी"},{code:"ur",name:"Urdu",nativeName:"اردو"},{code:"ta",name:"Tamil",nativeName:"தமிழ்"},{code:"pa",name:"Punjabi",nativeName:"ਪੰਜਾਬੀ"},{code:"gu",name:"Gujarati",nativeName:"ગુજરાતી"},{code:"kn",name:"Kannada",nativeName:"ಕನ್ನಡ"}],FN=({onBack:n})=>{const{language:e,setLanguage:l,t:o}=Ue(),c=d=>{l(d)};return T.jsxs("div",{children:[T.jsx(Rs,{title:o("change_language_title"),onBack:n}),T.jsx("div",{className:"p-4 space-y-2",children:BN.map(d=>T.jsxs("button",{onClick:()=>c(d.code),className:"w-full flex items-center justify-between p-4 bg-[#1A1A1A] rounded-lg text-left transition-colors active:bg-neutral-800","aria-pressed":e===d.code,children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-semibold text-white",children:d.name}),T.jsx("p",{className:"text-sm text-neutral-400",children:d.nativeName})]}),e===d.code&&T.jsx("span",{className:"material-symbols-outlined text-2xl text-[#E6E6FA]",children:"check_circle"})]},d.code))}),T.jsx("p",{className:"text-center text-xs text-neutral-500 p-4 mt-4",children:o("change_language_footer")})]})},zN=()=>{const{t:n}=Ue();return T.jsx("header",{className:"flex items-center bg-gradient-to-b from-[#1A1A1A] to-black p-4 pb-2 justify-center sticky top-0 z-10",children:T.jsx("h1",{className:"text-white text-xl font-bold tracking-tight",children:n("settings_title")})})},YN=()=>{const{t:n}=Ue(),e=localStorage.getItem("dukan-profile-name")||n("placeholder_your_name"),l=localStorage.getItem("dukan-store-name")||n("placeholder_store_name"),o=localStorage.getItem("dukan-profile-pic");return T.jsxs("div",{className:"flex items-center gap-4 p-4",children:[T.jsx("div",{className:"h-16 w-16 rounded-full bg-[#1A1A1A] flex items-center justify-center overflow-hidden",children:o?T.jsx("img",{src:o,alt:"Profile",className:"h-full w-full object-cover"}):T.jsx("span",{className:"material-symbols-outlined text-4xl text-neutral-400",children:"person"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xl font-bold text-white",children:e}),T.jsx("p",{className:"text-sm text-neutral-400",children:l})]})]})},$n=({icon:n,label:e,onClick:l})=>T.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-4 bg-[#1A1A1A] rounded-lg text-left transition-colors active:bg-neutral-800",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("span",{className:"material-symbols-outlined text-neutral-300",children:n}),T.jsx("p",{className:"font-semibold text-white",children:e})]}),T.jsx("span",{className:"material-symbols-outlined text-neutral-500",children:"chevron_right"})]}),ON=({isOpen:n,onClose:e})=>(V.useEffect(()=>{const l=document.querySelector("main");return n?l==null||l.classList.add("overflow-hidden"):l==null||l.classList.remove("overflow-hidden"),()=>{l==null||l.classList.remove("overflow-hidden")}},[n]),T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-30 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),T.jsxs("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl p-6 z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"contact-support-title",onClick:l=>l.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h3",{id:"contact-support-title",className:"text-lg font-bold text-white",children:"Contact Support"}),T.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white","aria-label":"Close",children:T.jsx(Wn,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"flex justify-around items-center py-4",children:[T.jsxs("a",{href:"mailto:support@dukan.ai",className:"flex flex-col items-center gap-2 text-neutral-200 hover:text-white transition-colors",children:[T.jsx("div",{className:"w-20 h-20 bg-[#2D2D2D] rounded-full flex items-center justify-center active:bg-neutral-600 transition-colors",children:T.jsx("span",{className:"material-symbols-outlined text-4xl text-[#E6E6FA]",children:"mail"})}),T.jsx("p",{className:"font-semibold text-sm",children:"Email Us"})]}),T.jsxs("a",{href:"tel:9256487182",className:"flex flex-col items-center gap-2 text-neutral-200 hover:text-white transition-colors",children:[T.jsx("div",{className:"w-20 h-20 bg-[#2D2D2D] rounded-full flex items-center justify-center active:bg-neutral-600 transition-colors",children:T.jsx("span",{className:"material-symbols-outlined text-4xl text-[#E6E6FA]",children:"call"})}),T.jsx("p",{className:"font-semibold text-sm",children:"Call Us"})]})]})]})]})),JN=({onNavigate:n,onModalStateChange:e})=>{const[l,o]=V.useState(!1),{t:c}=Ue();V.useEffect(()=>{e(l)},[l,e]);const d=()=>{window.open("https://www.dukan.ai/help","_blank","noopener,noreferrer")},m=()=>{o(!0)},g=()=>{window.open("https://www.dukan.ai/privacy","_blank","noopener,noreferrer")};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx(zN,{}),T.jsxs("div",{children:[T.jsx(YN,{}),T.jsxs("div",{className:"p-4 space-y-4",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-neutral-400 text-sm font-bold uppercase tracking-wider px-2 pb-2",children:c("settings_account")}),T.jsxs("div",{className:"space-y-2",children:[T.jsx($n,{icon:"account_circle",label:c("settings_edit_profile"),onClick:()=>n("profile")}),T.jsx($n,{icon:"store",label:c("settings_manage_store"),onClick:()=>n("store")}),T.jsx($n,{icon:"notifications",label:c("settings_notifications"),onClick:()=>n("notifications")}),T.jsx($n,{icon:"language",label:c("settings_change_language"),onClick:()=>n("language")})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-neutral-400 text-sm font-bold uppercase tracking-wider px-2 pb-2",children:c("settings_support")}),T.jsxs("div",{className:"space-y-2",children:[T.jsx($n,{icon:"help_outline",label:c("settings_help_center"),onClick:d}),T.jsx($n,{icon:"support_agent",label:c("settings_contact_support"),onClick:m}),T.jsx($n,{icon:"privacy_tip",label:c("settings_privacy_policy"),onClick:g})]})]})]}),T.jsx("div",{className:"p-4",children:T.jsxs("button",{className:"w-full flex items-center justify-center p-3 bg-[#1A1A1A] rounded-lg text-left transition-colors active:bg-neutral-800",children:[T.jsx("span",{className:"material-symbols-outlined text-red-400 mr-2",children:"logout"}),T.jsx("p",{className:"font-semibold text-red-400",children:c("settings_logout")})]})})]})]}),T.jsx(ON,{isOpen:l,onClose:()=>o(!1)})]})},KN=({onModalStateChange:n})=>{const[e,l]=V.useState(null),o=()=>{const c=()=>l(null);switch(e){case"profile":return T.jsx(qN,{onBack:c});case"store":return T.jsx(PN,{onBack:c});case"notifications":return T.jsx(HN,{onBack:c});case"language":return T.jsx(FN,{onBack:c});default:return T.jsx(JN,{onNavigate:l,onModalStateChange:n})}};return T.jsx(T.Fragment,{children:o()})},XN=({isOpen:n,onClose:e,order:l,onUpdateStatus:o})=>{const[c,d]=V.useState(150),m=V.useRef(null),{t:g}=Ue(),y=V.useRef(!1),p=V.useRef(0),v=V.useRef(0),S=V.useRef(null),x=V.useRef(null),A=V.useRef(o);V.useEffect(()=>{A.current=o},[o]),V.useEffect(()=>{const L=document.querySelector("main");return n?(L==null||L.classList.add("overflow-hidden"),document.body.style.overscrollBehavior="contain"):(L==null||L.classList.remove("overflow-hidden"),document.body.style.overscrollBehavior="auto"),()=>{L==null||L.classList.remove("overflow-hidden"),document.body.style.overscrollBehavior="auto"}},[n]),V.useEffect(()=>(n&&l.status===fe.NEW&&(d(150),m.current&&clearInterval(m.current),m.current=window.setInterval(()=>{d(L=>L<=1?(clearInterval(m.current),A.current(l.id,fe.REJECTED),0):L-1)},100)),()=>{m.current&&clearInterval(m.current)}),[n,l.id,l.status]);const R=V.useCallback(L=>"touches"in L?L.touches[0].clientX:L.clientX,[]),I=V.useCallback(L=>{if(!y.current)return;L.cancelable&&L.preventDefault();let W=R(L)-p.current;if(S.current&&x.current){const Z=S.current.offsetWidth,ce=x.current.offsetWidth,X=Z-ce;W=Math.max(0,Math.min(W,X)),v.current=W,x.current.style.transform=`translateX(${W}px)`;const ie=S.current.querySelector("p");if(ie){const le=Math.max(0,1-W/(Z*.6));ie.style.opacity=`${le}`}}},[R]),G=V.useCallback(()=>{if(window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",I),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G),!!y.current&&(y.current=!1,S.current)){const L=S.current.offsetWidth*.5;if(v.current>L)A.current(l.id,fe.PREPARING);else{x.current&&(x.current.style.transition="transform 0.3s ease-out",x.current.style.transform="translateX(0px)");const F=S.current.querySelector("p");F&&(F.style.transition="opacity 0.3s ease-out",F.style.opacity="1")}}},[l.id,I]),K=V.useCallback(L=>{if(!(l.status!==fe.NEW||y.current)){if(x.current&&(x.current.style.transition="none"),S.current){const F=S.current.querySelector("p");F&&(F.style.transition="none")}p.current=R(L),y.current=!0,v.current=0,window.addEventListener("mousemove",I),window.addEventListener("touchmove",I,{passive:!1}),window.addEventListener("mouseup",G),window.addEventListener("touchend",G)}},[l.status,R,I,G]);if(V.useEffect(()=>()=>{y.current&&(window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",I),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G))},[I,G]),!n)return null;const z=()=>`https://wa.me/${l.customer.whatsappNumber.replace(/[^0-9]/g,"")}`,Y=()=>{switch(l.status){case fe.NEW:return T.jsxs("div",{ref:S,className:"relative w-full bg-[#2D2D2D] rounded-full h-14 flex items-center justify-center overflow-hidden select-none",children:[T.jsx("p",{className:"text-neutral-300 font-semibold z-10 transition-opacity duration-200 pointer-events-none",children:"Swipe to Accept"}),T.jsx("div",{ref:x,className:"absolute top-0 left-0 h-full w-14 bg-[#E6E6FA] rounded-full flex items-center justify-center z-20 cursor-grab active:cursor-grabbing",onMouseDown:K,onTouchStart:K,children:T.jsx("span",{className:"material-symbols-outlined text-black font-bold",children:"chevron_right"})})]});case fe.PREPARING:return T.jsx("button",{onClick:()=>o(l.id,fe.READY_FOR_PICKUP),className:"w-full bg-[#E6E6FA] text-black font-bold py-3 rounded-lg hover:opacity-90 transition-opacity",children:"Ready for Pickup"});case fe.READY_FOR_PICKUP:return T.jsxs("div",{className:"text-center p-3 bg-[#2D2D2D] rounded-lg",children:[T.jsx("p",{className:"font-semibold text-purple-300",children:"Waiting for delivery partner."}),T.jsx("button",{onClick:()=>o(l.id,fe.COMPLETED),className:"text-xs text-neutral-400 hover:underline mt-1",children:"Mark as Completed"})]});default:return null}};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-30 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),T.jsxs("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"order-details-title",children:[l.status===fe.NEW&&T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-[#2D2D2D] rounded-t-2xl overflow-hidden",children:T.jsx("div",{className:"h-full bg-white transition-all duration-100 ease-linear",style:{width:`${c/150*100}%`}})}),T.jsxs("div",{className:"p-6 pt-5",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h3",{id:"order-details-title",className:"text-lg font-bold text-white",children:["Order ",l.id]}),T.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white","aria-label":"Close",children:T.jsx(Wn,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"max-h-[70vh] overflow-y-auto hide-scrollbar pb-24",children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"bg-[#2D2D2D] p-3 rounded-lg",children:[T.jsx("p",{className:"text-sm text-neutral-400",children:"Customer"}),T.jsx("p",{className:"font-bold text-white mt-1",children:l.customer.name}),T.jsx("p",{className:"text-sm text-neutral-300",children:l.customer.address}),T.jsxs("a",{href:z(),target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center gap-2 bg-[#25D366] text-white text-sm font-bold py-1.5 px-3 rounded-full hover:bg-opacity-90",children:[T.jsx(Ss,{className:"w-4 h-4"}),"Chat on WhatsApp"]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-neutral-400 px-1 mb-2",children:"Items"}),T.jsx("div",{className:"space-y-2",children:l.items.map((L,F)=>T.jsxs("div",{className:"flex justify-between items-center bg-[#2D2D2D] p-2.5 rounded-lg",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-semibold text-white",children:g(L.name)}),T.jsxs("p",{className:"text-sm text-neutral-400",children:[L.quantity," x ",L.price]})]}),T.jsxs("p",{className:"font-semibold text-neutral-200",children:["₹",(L.quantity*parseFloat(L.price.replace("₹",""))).toFixed(2)]})]},F))})]}),T.jsxs("div",{className:"flex justify-between items-center bg-[#2D2D2D] p-3 rounded-lg",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-white text-lg",children:"Total Bill"}),T.jsxs("p",{className:"text-sm text-neutral-400 font-semibold",children:["Payment: ",l.paymentMethod]})]}),T.jsxs("p",{className:"font-bold text-2xl text-[#E6E6FA]",children:["₹",l.total.toFixed(2)]})]})]})})]}),T.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-[#1A1A1A] via-[#1A1A1A] to-transparent",children:T.jsx(Y,{})})]})]})},QN=()=>{const{t:n}=Ue();return T.jsx("header",{className:"flex items-center bg-gradient-to-b from-[#1A1A1A] to-black p-4 pb-2 justify-center sticky top-0 z-10",children:T.jsx("h1",{className:"text-white text-xl font-bold tracking-tight",children:n("orders_title")})})},$N=({timestamp:n})=>{const[e,l]=V.useState("");return V.useEffect(()=>{const o=()=>{const d=Math.floor((new Date().getTime()-new Date(n).getTime())/1e3);let m=d/31536e3;return m>1?`${Math.floor(m)}y ago`:(m=d/2592e3,m>1?`${Math.floor(m)}m ago`:(m=d/86400,m>1?`${Math.floor(m)}d ago`:(m=d/3600,m>1?`${Math.floor(m)}h ago`:(m=d/60,m>1?`${Math.floor(m)}m ago`:`${Math.floor(d)}s ago`))))};l(o());const c=setInterval(()=>l(o()),15e3);return()=>clearInterval(c)},[n]),T.jsx("span",{className:"text-neutral-400 text-xs",children:e})},ZN=({status:n})=>{const e={[fe.NEW]:"bg-blue-500/20 text-blue-300",[fe.PREPARING]:"bg-yellow-500/20 text-yellow-300",[fe.READY_FOR_PICKUP]:"bg-purple-500/20 text-purple-300",[fe.COMPLETED]:"bg-green-500/20 text-green-300",[fe.REJECTED]:"bg-red-500/20 text-red-300"};return T.jsx("div",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${e[n]}`,children:n.replace("_"," ")})},WN=({order:n,onClick:e})=>{const{t:l}=Ue();return T.jsx(bn,{className:"!p-0 overflow-hidden",children:T.jsxs("button",{onClick:e,className:"w-full text-left p-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("p",{className:"font-bold text-white",children:n.id}),T.jsx(ZN,{status:n.status})]}),T.jsx("p",{className:"text-neutral-300 font-semibold",children:n.customer.name}),T.jsx("p",{className:"text-neutral-400 text-sm mt-1 truncate",children:n.items.map(o=>`${o.quantity}x ${l(o.name)}`).join(", ")}),T.jsxs("div",{className:"flex justify-between items-baseline mt-3",children:[T.jsxs("p",{className:"text-xl font-bold text-[#E6E6FA]",children:["₹",n.total.toFixed(2)]}),T.jsx($N,{timestamp:n.timestamp})]})]})})},jN=({orders:n,onUpdateStatus:e,onModalStateChange:l})=>{const[o,c]=V.useState(fe.NEW),[d,m]=V.useState(null),{t:g}=Ue();V.useEffect(()=>{l(!!d)},[d,l]);const y=(S,x)=>{e(S,x),m(null)},p=V.useMemo(()=>o===fe.COMPLETED?n.filter(S=>S.status===fe.COMPLETED||S.status===fe.REJECTED):n.filter(S=>S.status===o),[n,o]),v=[fe.NEW,fe.PREPARING,fe.COMPLETED];return T.jsxs("div",{children:[T.jsx(QN,{}),T.jsxs("div",{className:"p-4 space-y-6",children:[T.jsx("div",{className:"flex items-center justify-center bg-[#1A1A1A] p-1 rounded-full",children:v.map(S=>{const x=n.filter(I=>S===fe.COMPLETED?I.status===fe.COMPLETED||I.status===fe.REJECTED:I.status===S).length,A=S===fe.COMPLETED?"orders_filter_history":`orders_filter_${S.toLowerCase()}`,R=g(A);return T.jsxs("button",{onClick:()=>c(S),className:`px-4 py-1.5 text-sm font-semibold rounded-full transition-colors duration-200 flex items-center gap-2 ${o===S?"bg-[#E6E6FA] text-black":"text-neutral-300"}`,children:[R,x>0&&T.jsx("span",{className:`text-xs font-bold rounded-full px-1.5 py-0.5 ${o===S?"bg-black/10":"bg-neutral-600/50"}`,children:x})]},S)})}),p.length>0?T.jsx("div",{className:"space-y-3",children:p.map(S=>T.jsx(WN,{order:S,onClick:()=>m(S)},S.id))}):T.jsx("div",{className:"flex flex-col items-center justify-center pt-20 text-center",children:T.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-[#1A1A1A] rounded-2xl w-full max-w-xs",children:[T.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-[#2D2D2D] mb-5",children:T.jsx("span",{className:"material-symbols-outlined text-4xl text-neutral-400",children:"list_alt"})}),T.jsx("h3",{className:"text-lg font-bold text-white",children:"No Orders Here"}),T.jsx("p",{className:"mt-1 text-sm text-neutral-400",children:"New orders in this category will appear here."})]})})]}),d&&T.jsx(XN,{isOpen:!!d,onClose:()=>m(null),order:d,onUpdateStatus:y})]})},Kp=[{id:"B2C-8375",customer:{name:"Rohan Sharma",whatsappNumber:"+919876543210",address:"A-101, Rose Apartments, Malviya Nagar, New Delhi"},items:[{productId:"prod1",name:"product_maggi",quantity:2,price:"₹96"},{productId:"prod3",name:"product_parle_g",quantity:1,price:"₹80"}],total:272,paymentMethod:"COD",status:fe.NEW,timestamp:new Date(Date.now()-300*1e3).toISOString()},{id:"B2C-8374",customer:{name:"Priya Patel",whatsappNumber:"+919123456789",address:"B-20, Greenfield Colony, Saket, New Delhi"},items:[{productId:"prod2",name:"product_amul_milk",quantity:4,price:"₹68"}],total:272,paymentMethod:"UPI",status:fe.NEW,timestamp:new Date(Date.now()-900*1e3).toISOString()},{id:"B2C-8372",customer:{name:"Anjali Verma",whatsappNumber:"+919988776655",address:"House No. 5, Sector 15, Gurugram, Haryana"},items:[{productId:"prod4",name:"product_tata_salt",quantity:1,price:"₹28"}],total:28,paymentMethod:"COD",status:fe.PREPARING,timestamp:new Date(Date.now()-2700*1e3).toISOString()},{id:"B2C-8370",customer:{name:"Vikram Singh",whatsappNumber:"+919234567890",address:"C-404, Sun City, Vasant Kunj, New Delhi"},items:[{productId:"prod1",name:"product_maggi",quantity:1,price:"₹96"},{productId:"prod2",name:"product_amul_milk",quantity:2,price:"₹68"}],total:232,paymentMethod:"COD",status:fe.COMPLETED,timestamp:new Date(Date.now()-10800*1e3).toISOString()}],eR=({isOpen:n,order:e,onUpdateStatus:l})=>{var Y;const[o,c]=V.useState(600),d=V.useRef(null),{t:m}=Ue(),g=V.useRef(!1),y=V.useRef(0),p=V.useRef(0),v=V.useRef(null),S=V.useRef(null),x=V.useRef(l);V.useEffect(()=>{x.current=l},[l]);const A=V.useCallback(()=>{e&&x.current(e.id,fe.REJECTED)},[e]);V.useEffect(()=>{const L=document.querySelector("main");return n?(L==null||L.classList.add("overflow-hidden"),document.body.style.overscrollBehavior="contain"):(L==null||L.classList.remove("overflow-hidden"),document.body.style.overscrollBehavior="auto"),()=>{L==null||L.classList.remove("overflow-hidden"),document.body.style.overscrollBehavior="auto"}},[n]),V.useEffect(()=>(n&&e&&(c(600),d.current&&clearInterval(d.current),d.current=window.setInterval(()=>{c(L=>L<=1?(clearInterval(d.current),A(),0):L-1)},100)),()=>{d.current&&clearInterval(d.current)}),[n,e,A]);const R=V.useCallback(L=>"touches"in L?L.touches[0].clientX:L.clientX,[]),I=V.useCallback(L=>{if(!g.current)return;L.cancelable&&L.preventDefault();let W=R(L)-y.current;if(v.current&&S.current){const Z=v.current.offsetWidth,ce=S.current.offsetWidth,X=Z-ce;W=Math.max(0,Math.min(W,X)),p.current=W,S.current.style.transform=`translateX(${W}px)`;const ie=v.current.querySelector("p");if(ie){const le=Math.max(0,1-W/(Z*.6));ie.style.opacity=`${le}`}}},[R]),G=V.useCallback(()=>{if(window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",I),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G),!(!g.current||!e)&&(g.current=!1,v.current)){const L=v.current.offsetWidth*.5;if(p.current>L)x.current(e.id,fe.PREPARING);else{S.current&&(S.current.style.transition="transform 0.3s ease-out",S.current.style.transform="translateX(0px)");const F=v.current.querySelector("p");F&&(F.style.transition="opacity 0.3s ease-out",F.style.opacity="1")}}},[e,I]),K=V.useCallback(L=>{if(!(!e||g.current)){if(S.current&&(S.current.style.transition="none"),v.current){const F=v.current.querySelector("p");F&&(F.style.transition="none")}y.current=R(L),g.current=!0,p.current=0,window.addEventListener("mousemove",I),window.addEventListener("touchmove",I,{passive:!1}),window.addEventListener("mouseup",G),window.addEventListener("touchend",G)}},[e,R,I,G]);if(V.useEffect(()=>()=>{g.current&&(window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",I),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G))},[I,G]),!n||!e)return null;const z=((Y=e.customer.name)==null?void 0:Y.split(" ")[0])||e.id;return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-40 transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),T.jsxs("div",{className:`fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-[#1A1A1A] text-white rounded-t-2xl z-50 transform transition-transform duration-200 ease-in-out ${n?"translate-y-0":"translate-y-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"new-order-title",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-[#2D2D2D] rounded-t-2xl overflow-hidden",children:T.jsx("div",{className:"h-full bg-white transition-all duration-100 ease-linear",style:{width:`${o/600*100}%`}})}),T.jsxs("div",{className:"p-6 pt-5",children:[T.jsx("div",{className:"flex justify-between items-start mb-4",children:T.jsxs("div",{className:"flex-1 pr-2",children:[T.jsx("h3",{id:"new-order-title",className:"text-lg font-bold text-white",children:m("new_order_received")}),T.jsxs("p",{className:"text-sm font-semibold text-neutral-400 truncate",children:[z," • ",e.customer.address]})]})}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-neutral-400 px-1 mb-2",children:m("items")}),T.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto hide-scrollbar",children:e.items.map((L,F)=>T.jsxs("div",{className:"flex justify-between items-center bg-[#2D2D2D] p-2 rounded-lg",children:[T.jsxs("div",{className:"flex-1 pr-2",children:[T.jsx("p",{className:"font-semibold text-white truncate",children:m(L.name)}),T.jsxs("p",{className:"text-sm text-neutral-400",children:[L.quantity," x ",L.price]})]}),T.jsxs("p",{className:"font-semibold text-neutral-200",children:["₹",(L.quantity*parseFloat(L.price.replace("₹",""))).toFixed(2)]})]},F))})]}),T.jsxs("div",{className:"flex justify-between items-center bg-[#2D2D2D] p-3 rounded-lg",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-white text-lg",children:m("total_bill")}),T.jsxs("p",{className:"text-sm text-neutral-400 font-semibold",children:[m("payment"),": ",e.paymentMethod]})]}),T.jsxs("p",{className:"font-bold text-2xl text-[#E6E6FA]",children:["₹",e.total.toFixed(2)]})]}),T.jsx("div",{className:"pt-2",children:T.jsxs("div",{ref:v,className:"relative w-full bg-[#2D2D2D] rounded-full h-14 flex items-center justify-center overflow-hidden select-none",children:[T.jsx("p",{className:"text-neutral-300 font-semibold z-10 transition-opacity duration-200 pointer-events-none",children:m("swipe_to_accept")}),T.jsx("div",{ref:S,className:"absolute top-0 left-0 h-full w-14 bg-[#E6E6FA] rounded-full flex items-center justify-center z-20 cursor-grab active:cursor-grabbing",onMouseDown:K,onTouchStart:K,children:T.jsx("span",{className:"material-symbols-outlined text-black font-bold",children:"chevron_right"})})]})})]})]})]})]})},tR=({onNext:n,onSkip:e})=>{const[l,o]=V.useState(""),c=()=>{l.trim()&&n(l.trim())};return T.jsxs("div",{className:"bg-[#1A1A1A] rounded-2xl p-8 max-w-sm w-full text-center shadow-lg",children:[T.jsx("h2",{className:"text-white text-2xl font-bold mb-6",children:"What should we call you?"}),T.jsx("div",{className:"mb-6",children:T.jsx("input",{className:"w-full bg-transparent border-t-0 border-x-0 border-b-2 border-neutral-600 text-white text-lg text-center py-2 focus:outline-none focus:ring-0 focus:border-[#E6E6FA] placeholder-neutral-400 transition-colors duration-300",placeholder:"Enter your name",type:"text",value:l,onChange:d=>o(d.target.value),onKeyPress:d=>d.key==="Enter"&&c()})}),T.jsx("button",{onClick:c,disabled:!l.trim(),className:"w-full bg-[#E6E6FA] text-black font-semibold py-3 rounded-full text-lg hover:bg-opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"}),T.jsx("button",{onClick:e,className:"w-full text-neutral-300 font-semibold py-2 text-md hover:text-white transition-opacity mt-2",children:"Skip for now"})]})},nR=({onComplete:n,onSkip:e})=>{const[l,o]=V.useState(""),[c,d]=V.useState(""),[m,g]=V.useState(""),{t:y}=Ue(),p=()=>{l.trim()&&c.trim()&&m.trim()&&n({storeName:l,storeAddress:c,storeCategory:m})},v=l.trim()&&c.trim()&&m.trim();return T.jsxs("div",{className:"bg-[#1A1A1A] rounded-2xl p-6 max-w-sm w-full text-center shadow-lg",children:[T.jsx("h2",{className:"text-white text-2xl font-bold mb-6",children:"Set up your store"}),T.jsxs("div",{className:"space-y-6 text-left",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-white font-bold",htmlFor:"store-name",children:y("label_store_name")}),T.jsx("input",{className:"w-full bg-transparent border-t-0 border-x-0 border-b-2 border-neutral-600 text-white text-lg py-2 focus:outline-none focus:ring-0 focus:border-[#E6E6FA] placeholder-neutral-400 transition-colors duration-300",id:"store-name",placeholder:y("placeholder_store_name_example"),type:"text",value:l,onChange:S=>o(S.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-white font-bold",htmlFor:"store-address",children:y("label_store_address")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{className:"w-full bg-transparent border-t-0 border-x-0 border-b-2 border-neutral-600 text-white text-lg py-2 pr-10 focus:outline-none focus:ring-0 focus:border-[#E6E6FA] placeholder-neutral-400 transition-colors duration-300",id:"store-address",placeholder:y("placeholder_store_address_example"),type:"text",value:c,onChange:S=>d(S.target.value)}),T.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:T.jsx("span",{className:"material-symbols-outlined text-neutral-500",children:"place"})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-white font-bold",htmlFor:"store-category",children:y("label_store_category")}),T.jsx("div",{className:"relative mt-1",children:T.jsxs("select",{className:"appearance-none w-full bg-transparent border-t-0 border-x-0 border-b-2 border-neutral-600 text-white text-lg py-2.5 focus:outline-none focus:ring-0 focus:border-[#E6E6FA] transition-colors duration-300",id:"store-category",value:m,onChange:S=>g(S.target.value),style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23e6e6fa' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1.5em 1.5em"},children:[T.jsx("option",{className:"bg-[#1A1A1A] text-white",value:"",children:y("onboarding_select_category")}),T.jsx("option",{className:"bg-[#1A1A1A] text-white",value:y("category_grocery"),children:y("category_grocery")}),T.jsx("option",{className:"bg-[#1A1A1A] text-white",value:y("category_electronics"),children:y("category_electronics")}),T.jsx("option",{className:"bg-[#1A1A1A] text-white",value:y("category_fashion"),children:y("category_fashion")}),T.jsx("option",{className:"bg-[#1A1A1A] text-white",value:y("category_other"),children:y("category_other")})]})})]})]}),T.jsx("button",{onClick:p,disabled:!v,className:"w-full bg-[#E6E6FA] text-black font-semibold py-3 rounded-full text-lg hover:bg-opacity-90 transition-opacity mt-8 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"}),T.jsx("button",{onClick:e,className:"w-full text-neutral-300 font-semibold py-2 text-md hover:text-white transition-opacity mt-2",children:"Skip for now"})]})},iR=({onComplete:n})=>{const[e,l]=V.useState("name"),o=m=>{localStorage.setItem("dukan-profile-name",m),l("storeDetails")},c=m=>{localStorage.setItem("dukan-store-name",m.storeName),localStorage.setItem("dukan-store-address",m.storeAddress),localStorage.setItem("dukan-store-category",m.storeCategory),localStorage.setItem("dukan-onboarding-complete","true"),n()},d=()=>{localStorage.setItem("dukan-onboarding-complete","true"),n()};return T.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:[e==="name"&&T.jsx(tR,{onNext:o,onSkip:d}),e==="storeDetails"&&T.jsx(nR,{onComplete:c,onSkip:d})]})},Xp=[{name:"Rohan Gupta",address:"15/2, Geeta Colony, Near Jheel Chowk, Delhi"},{name:"Sneha Verma",address:"House No. 24, Block D, Krishna Nagar, Delhi"},{name:"Amit Singh",address:"C-112, Laxmi Nagar, Vikas Marg, New Delhi"},{name:"Priya Sharma",address:"F-7, Main Market, Shahdara, Delhi"},{name:"Vikram Choudhary",address:"48, Radhepuri, Near Gandhi Nagar, Delhi"},{name:"Neha Patel",address:"8/B, Shastri Nagar, Near Geeta Colony, Delhi"},{name:"Manish Kumar",address:"201, Ram Nagar, Shahdara, New Delhi"}],lR=()=>{const[n,e]=V.useState(ft.DASHBOARD),[l,o]=V.useState(()=>{try{const X=localStorage.getItem("dukan-orders");if(X){const le=JSON.parse(X);if(Array.isArray(le))return le}return localStorage.getItem("dukan-onboarding-complete")!=="true"?[]:Kp}catch(X){return console.error("Failed to load orders from localStorage",X),localStorage.getItem("dukan-onboarding-complete")!=="true"?[]:Kp}}),[c,d]=V.useState(null),[m,g]=V.useState(!1),[y,p]=V.useState(!1),{products:v,updateProduct:S}=Ns(),x=V.useRef(null),A=V.useRef(!1),[R,I]=V.useState(!1);V.useEffect(()=>{try{localStorage.getItem("dukan-onboarding-complete")!=="true"&&I(!0)}catch(X){console.error("Failed to check onboarding status from localStorage",X),I(!0)}},[]),V.useEffect(()=>{try{localStorage.setItem("dukan-orders",JSON.stringify(l))}catch(X){console.error("Failed to save orders to localStorage",X)}},[l]);const G=V.useCallback(()=>{m||(console.log("First user interaction detected. Starting order simulation."),g(!0))},[m]),K=l.filter(X=>X.status===fe.NEW).length,z=V.useCallback(X=>{e(X)},[]),Y=V.useCallback(X=>{p(X)},[]),L=(X,ie)=>{const le=l.find(me=>me.id===X);le&&le.status===fe.NEW&&ie===fe.PREPARING&&le.items.forEach(me=>{const qe=v.find(Ye=>Ye.id===me.productId);if(qe){const Ye=Math.max(0,qe.stock-me.quantity);S({...qe,stock:Ye})}}),o(me=>me.map(qe=>qe.id===X?{...qe,status:ie}:qe)),(c==null?void 0:c.id)===X&&d(null)},F=V.useCallback(()=>{if(!m||v.length===0)return;const X=Xp[Math.floor(Math.random()*Xp.length)],ie=[],le=Math.floor(Math.random()*3)+1,me=[...v].filter(ye=>ye.stock>0);for(let ye=0;ye<le&&me.length>0;ye++){const q=Math.floor(Math.random()*me.length),Q=me.splice(q,1)[0];ie.push({productId:Q.id,name:Q.name,quantity:1,price:Q.price})}if(ie.length===0)return;const qe=ie.reduce((ye,q)=>ye+parseFloat(q.price.replace("₹",""))*q.quantity,0),Ye={id:`B2C-${Math.floor(1e3+Math.random()*9e3)}`,customer:{...X,whatsappNumber:"+919876543210"},items:ie,total:qe,paymentMethod:Math.random()>.5?"COD":"UPI",status:fe.NEW,timestamp:new Date().toISOString()};if(o(ye=>[Ye,...ye]),n===ft.SETTINGS||y){console.log("New order generated, but popup suppressed due to active screen or another modal being open.");return}d(Ye)},[m,v,n,y,S]),W=V.useCallback(()=>{if(!m||v.length===0||c){A.current=!1;return}A.current=!0;const X=Math.floor(Math.random()*20001)+2e4;x.current&&clearTimeout(x.current),x.current=window.setTimeout(()=>{F(),A.current=!1},X)},[m,v,c,F]);V.useEffect(()=>{m&&!A.current&&W()},[m,l,W,c]);const Z=()=>{switch(n){case ft.DASHBOARD:return T.jsx(zp,{orders:l,onModalStateChange:Y});case ft.SALES:return T.jsx(RN,{orders:l});case ft.ORDERS:return T.jsx(jN,{orders:l,onUpdateStatus:L,onModalStateChange:Y});case ft.CATALOG:return T.jsx(VN,{onModalStateChange:Y});case ft.SETTINGS:return T.jsx(KN,{onModalStateChange:Y});default:return T.jsx(zp,{orders:l,onModalStateChange:Y})}},ce=()=>{I(!1)};return T.jsxs("div",{className:"h-full bg-black text-white",onClick:G,children:[T.jsxs(T.Fragment,{children:[T.jsx("main",{className:"pb-[calc(4rem+env(safe-area-inset-bottom))] h-full overflow-y-auto hide-scrollbar",children:Z()}),T.jsx(xN,{activeScreen:n,onNavigate:z,newOrderCount:K}),c&&T.jsx(eR,{isOpen:!!c,order:c,onUpdateStatus:L})]}),R&&T.jsx(iR,{onComplete:ce})]})},oR=()=>T.jsx(gv,{children:T.jsx(hN,{children:T.jsx(lR,{})})}),kh=document.getElementById("root");if(!kh)throw new Error("Could not find root element to mount to");const sR=pv.createRoot(kh);sR.render(T.jsx(sv.StrictMode,{children:T.jsx(oR,{})}));
